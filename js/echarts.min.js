!function(a,b){"function"==typeof define&&define.amd?define([],b):"object"==typeof module&&module.exports?module.exports=b():a.echarts=b()}(this,function(){var a,b,c;return function(){function d(a,b){var c,d,e,f,g,h,i;if(!b)return a;if(0===a.indexOf(".")){c=b.split("/"),d=a.split("/"),e=c.length-1,f=d.length,g=0,h=0;a:for(i=0;f>i;i++)switch(d[i]){case"..":if(!(e>g))break a;g++,h++;break;case".":h++;break;default:break a}return c.length=e-g,d=d.slice(h),c.concat(d).join("/")}return a}function e(a){function c(c,e){if("string"==typeof c){var h=b[c];return h||(h=g(d(c,a)),b[c]=h),h}c instanceof Array&&(e=e||function(){},e.apply(this,f(c,e,a)))}var b={};return c}function f(b,e,f){var j,k,l,m,h=[],i=c[f];for(j=0,k=Math.min(b.length,e.length);k>j;j++){switch(l=d(b[j],f)){case"require":m=i&&i.require||a;break;case"exports":m=i.exports;break;case"module":m=i;break;default:m=g(l)}h.push(m)}return h}function g(a){var d,e,b=c[a];if(!b)throw new Error("No "+a);return b.defined||(d=b.factory,e=d.apply(this,f(b.deps||[],d,a)),"undefined"!=typeof e&&(b.exports=e),b.defined=1),b.exports}var c={};b=function(a,b,d){if(2===arguments.length&&(d=b,b=[],"function"!=typeof d)){var f=d;d=function(){return f}}c[a]={id:a,deps:b,factory:d,defined:0,exports:{},require:e(a)}},a=e("")}(),b("zrender/graphic/Gradient",["require"],function(){var b=function(a){this.colorStops=a||[]};return b.prototype={constructor:b,addColorStop:function(a,b){this.colorStops.push({offset:a,color:b})}},b}),b("zrender/core/util",["require","../graphic/Gradient"],function(a){function k(a){var b,c,d,e;if("object"==typeof a&&null!==a){if(b=a,a instanceof Array)for(b=[],c=0,d=a.length;d>c;c++)b[c]=k(a[c]);else if(!H(a)&&!I(a)){b={};for(e in a)a.hasOwnProperty(e)&&(b[e]=k(a[e]))}return b}return a}function l(a,b,c){var d,e,f;if(!G(b)||!G(a))return c?k(b):a;for(d in b)b.hasOwnProperty(d)&&(e=a[d],f=b[d],!G(f)||!G(e)||D(f)||D(e)||I(f)||I(e)||H(f)||H(e)?!c&&d in a||(a[d]=k(b[d],!0)):l(e,f,c));return a}function m(a,b){var d,e,c=a[0];for(d=1,e=a.length;e>d;d++)c=l(c,a[d],b);return c}function n(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function o(a,b,c){for(var d in b)b.hasOwnProperty(d)&&(c?null!=b[d]:null==a[d])&&(a[d]=b[d]);return a}function p(){return document.createElement("canvas")}function r(){return q||(q=M.createCanvas().getContext("2d")),q}function s(a,b){if(a){if(a.indexOf)return a.indexOf(b);for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c}return-1}function t(a,b){function d(){}var e,c=a.prototype;d.prototype=b.prototype,a.prototype=new d;for(e in c)a.prototype[e]=c[e];a.prototype.constructor=a,a.superClass=b}function u(a,b,c){a="prototype"in a?a.prototype:a,b="prototype"in b?b.prototype:b,o(a,b,c)}function v(a){return a?"string"==typeof a?!1:"number"==typeof a.length:void 0}function w(a,b,c){var d,e,g;if(a&&b)if(a.forEach&&a.forEach===f)a.forEach(b,c);else if(a.length===+a.length)for(d=0,e=a.length;e>d;d++)b.call(c,a[d],d,a);else for(g in a)a.hasOwnProperty(g)&&b.call(c,a[g],g,a)}function x(a,b,c){var d,e,f;if(a&&b){if(a.map&&a.map===i)return a.map(b,c);for(d=[],e=0,f=a.length;f>e;e++)d.push(b.call(c,a[e],e,a));return d}}function y(a,b,c,d){if(a&&b){if(a.reduce&&a.reduce===j)return a.reduce(b,c,d);for(var e=0,f=a.length;f>e;e++)c=b.call(d,c,a[e],e,a);return c}}function z(a,b,c){var d,e,f;if(a&&b){if(a.filter&&a.filter===g)return a.filter(b,c);for(d=[],e=0,f=a.length;f>e;e++)b.call(c,a[e],e,a)&&d.push(a[e]);return d}}function A(a,b,c){if(a&&b)for(var d=0,e=a.length;e>d;d++)if(b.call(c,a[d],d,a))return a[d]}function B(a,b){var c=h.call(arguments,2);return function(){return a.apply(b,c.concat(h.call(arguments)))}}function C(a){var b=h.call(arguments,1);return function(){return a.apply(this,b.concat(h.call(arguments)))}}function D(a){return"[object Array]"===d.call(a)}function E(a){return"function"==typeof a}function F(a){return"[object String]"===d.call(a)}function G(a){var b=typeof a;return"function"===b||!!a&&"object"==b}function H(a){return!!c[d.call(a)]||a instanceof b}function I(a){return a&&1===a.nodeType&&"string"==typeof a.nodeName}function J(){for(var b=0,c=arguments.length;c>b;b++)if(null!=arguments[b])return arguments[b]}function K(){return Function.call.apply(h,arguments)}function L(a,b){if(!a)throw new Error(b)}var q,b=a("../graphic/Gradient"),c={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1},d=Object.prototype.toString,e=Array.prototype,f=e.forEach,g=e.filter,h=e.slice,i=e.map,j=e.reduce,M={inherits:t,mixin:u,clone:k,merge:l,mergeAll:m,extend:n,defaults:o,getContext:r,createCanvas:p,indexOf:s,slice:K,find:A,isArrayLike:v,each:w,map:x,reduce:y,filter:z,bind:B,curry:C,isArray:D,isString:F,isObject:G,isFunction:E,isBuildInObject:H,isDom:I,retrieve:J,assert:L,noop:function(){}};return M}),b("echarts/util/clazz",["require","zrender/core/util"],function(a){function g(a,b){for(var e,c=a.constructor,d=a[b];(c=c.$superClass)&&(e=c.prototype[b])&&e===d;);return e}var b=a("zrender/core/util"),c={},d=".",e="___EC__COMPONENT__CONTAINER___",f=c.parseClassType=function(a){var b={main:"",sub:""};return a&&(a=a.split(d),b.main=a[0]||"",b.sub=a[1]||""),b};return c.enableClassExtend=function(a,c){a.extend=function(d){var e=function(){c&&c.apply(this,arguments),a.apply(this,arguments)};return b.extend(e.prototype,b.extend({$superCall:function(a){var c=b.slice(arguments,1);return g(this,a).apply(this,c)},$superApply:function(a,b){return g(this,a).apply(this,b)}},d)),e.extend=this.extend,b.inherits(e,this),e.$superClass=this,e}},c.enableClassManagement=function(a,c){function g(a){var b=d[a.main];return b&&b[e]||(b=d[a.main]={},b[e]=!0),b}var d,h;return c=c||{},d={},a.registerClass=function(a,b){if(b)if(b=f(b),b.sub){if(b.sub!==e){var c=g(b);c[b.sub]=a}}else{if(d[b.main])throw new Error(b.main+"exists");d[b.main]=a}return a},a.getClass=function(a,b,c){var f=d[a];if(f&&f[e]&&(f=b?f[b]:null),c&&!f)throw new Error("Component "+a+"."+(b||"")+" not exists");return f},a.getClassesByMainType=function(a){var c,g;return a=f(a),c=[],g=d[a.main],g&&g[e]?b.each(g,function(a,b){b!==e&&c.push(a)}):c.push(g),c},a.hasClass=function(a){return a=f(a),!!d[a.main]},a.getAllClassMainTypes=function(){var a=[];return b.each(d,function(b,c){a.push(c)}),a},a.hasSubTypes=function(a){a=f(a);var b=d[a.main];return b&&b[e]},a.parseClassType=f,c.registerWhenExtend&&(h=a.extend,h&&(a.extend=function(b){var c=h.call(this,b);return a.registerClass(c,b.type)})),a},c.setReadOnly=function(a,c){b.isArray(c)||(c=null!=c?[c]:[]),b.each(c,function(c){var d=a[c];Object.defineProperty&&Object.defineProperty(a,c,{value:d,writable:!1}),b.isArray(a[c])&&Object.freeze&&Object.freeze(a[c])})},c}),b("echarts/model/mixin/makeStyleMapper",["require","zrender/core/util"],function(a){var b=a("zrender/core/util");return function(a){for(var c=0;c<a.length;c++)a[c][1]||(a[c][1]=a[c][0]);return function(c){var e,f,g,d={};for(e=0;e<a.length;e++)f=a[e][1],c&&b.indexOf(c,f)>=0||(g=this.getShallow(f),null!=g&&(d[a[e][0]]=g));return d}}}),b("echarts/model/mixin/lineStyle",["require","./makeStyleMapper"],function(a){var b=a("./makeStyleMapper")([["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]);return{getLineStyle:function(a){var c=b.call(this,a),d=this.getLineDash();return d&&(c.lineDash=d),c},getLineDash:function(){var a=this.get("type");return"solid"===a||null==a?null:"dashed"===a?[5,5]:[1,1]}}}),b("echarts/model/mixin/areaStyle",["require","./makeStyleMapper"],function(a){return{getAreaStyle:a("./makeStyleMapper")([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]])}}),b("zrender/core/vector",[],function(){var a="undefined"==typeof Float32Array?Array:Float32Array,b={create:function(b,c){var d=new a(2);return d[0]=b||0,d[1]=c||0,d},copy:function(a,b){return a[0]=b[0],a[1]=b[1],a},clone:function(b){var c=new a(2);return c[0]=b[0],c[1]=b[1],c},set:function(a,b,c){return a[0]=b,a[1]=c,a},add:function(a,b,c){return a[0]=b[0]+c[0],a[1]=b[1]+c[1],a},scaleAndAdd:function(a,b,c,d){return a[0]=b[0]+c[0]*d,a[1]=b[1]+c[1]*d,a},sub:function(a,b,c){return a[0]=b[0]-c[0],a[1]=b[1]-c[1],a},len:function(a){return Math.sqrt(this.lenSquare(a))},lenSquare:function(a){return a[0]*a[0]+a[1]*a[1]},mul:function(a,b,c){return a[0]=b[0]*c[0],a[1]=b[1]*c[1],a},div:function(a,b,c){return a[0]=b[0]/c[0],a[1]=b[1]/c[1],a},dot:function(a,b){return a[0]*b[0]+a[1]*b[1]},scale:function(a,b,c){return a[0]=b[0]*c,a[1]=b[1]*c,a},normalize:function(a,c){var d=b.len(c);return 0===d?(a[0]=0,a[1]=0):(a[0]=c[0]/d,a[1]=c[1]/d),a},distance:function(a,b){return Math.sqrt((a[0]-b[0])*(a[0]-b[0])+(a[1]-b[1])*(a[1]-b[1]))},distanceSquare:function(a,b){return(a[0]-b[0])*(a[0]-b[0])+(a[1]-b[1])*(a[1]-b[1])},negate:function(a,b){return a[0]=-b[0],a[1]=-b[1],a},lerp:function(a,b,c,d){return a[0]=b[0]+d*(c[0]-b[0]),a[1]=b[1]+d*(c[1]-b[1]),a},applyTransform:function(a,b,c){var d=b[0],e=b[1];return a[0]=c[0]*d+c[2]*e+c[4],a[1]=c[1]*d+c[3]*e+c[5],a},min:function(a,b,c){return a[0]=Math.min(b[0],c[0]),a[1]=Math.min(b[1],c[1]),a},max:function(a,b,c){return a[0]=Math.max(b[0],c[0]),a[1]=Math.max(b[1],c[1]),a}};return b.length=b.len,b.lengthSquare=b.lenSquare,b.dist=b.distance,b.distSquare=b.distanceSquare,b}),b("zrender/core/matrix",[],function(){var a="undefined"==typeof Float32Array?Array:Float32Array,b={create:function(){var c=new a(6);return b.identity(c),c},identity:function(a){return a[0]=1,a[1]=0,a[2]=0,a[3]=1,a[4]=0,a[5]=0,a},copy:function(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[4]=b[4],a[5]=b[5],a},mul:function(a,b,c){var d=b[0]*c[0]+b[2]*c[1],e=b[1]*c[0]+b[3]*c[1],f=b[0]*c[2]+b[2]*c[3],g=b[1]*c[2]+b[3]*c[3],h=b[0]*c[4]+b[2]*c[5]+b[4],i=b[1]*c[4]+b[3]*c[5]+b[5];return a[0]=d,a[1]=e,a[2]=f,a[3]=g,a[4]=h,a[5]=i,a},translate:function(a,b,c){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[4]=b[4]+c[0],a[5]=b[5]+c[1],a},rotate:function(a,b,c){var d=b[0],e=b[2],f=b[4],g=b[1],h=b[3],i=b[5],j=Math.sin(c),k=Math.cos(c);return a[0]=d*k+g*j,a[1]=-d*j+g*k,a[2]=e*k+h*j,a[3]=-e*j+k*h,a[4]=k*f+j*i,a[5]=k*i-j*f,a},scale:function(a,b,c){var d=c[0],e=c[1];return a[0]=b[0]*d,a[1]=b[1]*e,a[2]=b[2]*d,a[3]=b[3]*e,a[4]=b[4]*d,a[5]=b[5]*e,a},invert:function(a,b){var c=b[0],d=b[2],e=b[4],f=b[1],g=b[3],h=b[5],i=c*g-f*d;return i?(i=1/i,a[0]=g*i,a[1]=-f*i,a[2]=-d*i,a[3]=c*i,a[4]=(d*h-g*e)*i,a[5]=(f*e-c*h)*i,a):null}};return b}),b("zrender/core/BoundingRect",["require","./vector","./matrix"],function(a){function h(a,b,c,d){this.x=a,this.y=b,this.width=c,this.height=d}var b=a("./vector"),c=a("./matrix"),d=b.applyTransform,e=Math.min,f=Math.abs,g=Math.max;return h.prototype={constructor:h,union:function(a){var b=e(a.x,this.x),c=e(a.y,this.y);this.width=g(a.x+a.width,this.x+this.width)-b,this.height=g(a.y+a.height,this.y+this.height)-c,this.x=b,this.y=c},applyTransform:function(){var a=[],b=[];return function(c){c&&(a[0]=this.x,a[1]=this.y,b[0]=this.x+this.width,b[1]=this.y+this.height,d(a,a,c),d(b,b,c),this.x=e(a[0],b[0]),this.y=e(a[1],b[1]),this.width=f(b[0]-a[0]),this.height=f(b[1]-a[1]))}}(),calculateTransform:function(a){var b=this,d=a.width/b.width,e=a.height/b.height,f=c.create();return c.translate(f,f,[-b.x,-b.y]),c.scale(f,f,[d,e]),c.translate(f,f,[a.x,a.y]),f},intersect:function(a){var b=this,c=b.x,d=b.x+b.width,e=b.y,f=b.y+b.height,g=a.x,h=a.x+a.width,i=a.y,j=a.y+a.height;return!(g>d||c>h||i>f||e>j)},contain:function(a,b){var c=this;return a>=c.x&&a<=c.x+c.width&&b>=c.y&&b<=c.y+c.height},clone:function(){return new h(this.x,this.y,this.width,this.height)},copy:function(a){this.x=a.x,this.y=a.y,this.width=a.width,this.height=a.height}},h}),b("zrender/contain/text",["require","../core/util","../core/BoundingRect"],function(a){function g(a,e){var g,h,i,j,f=a+":"+e;if(b[f])return b[f];for(g=(a+"").split("\n"),h=0,i=0,j=g.length;j>i;i++)h=Math.max(m.measureText(g[i],e).width,h);return c>d&&(c=0,b={}),c++,b[f]=h,h}function h(a,b,c,d){var e=((a||"")+"").split("\n").length,h=g(a,b),i=g("国",b),j=e*i,k=new f(0,0,h,j);switch(k.lineHeight=i,d){case"bottom":case"alphabetic":k.y-=i;break;case"middle":k.y-=i/2}switch(c){case"end":case"right":k.x-=k.width;break;case"center":k.x-=k.width/2}return k}function i(a,b,c,d){var e=b.x,f=b.y,g=b.height,h=b.width,i=c.height,j=g/2-i/2,k="left";switch(a){case"left":e-=d,f+=j,k="right";break;case"right":e+=d+h,f+=j,k="left";break;case"top":e+=h/2,f-=d+i,k="center";break;case"bottom":e+=h/2,f+=g+d,k="center";break;case"inside":e+=h/2,f+=j,k="center";break;case"insideLeft":e+=d,f+=j,k="left";break;case"insideRight":e+=h-d,f+=j,k="right";break;case"insideTop":e+=h/2,f+=d,k="center";break;case"insideBottom":e+=h/2,f+=g-i-d,k="center";break;case"insideTopLeft":e+=d,f+=d,k="left";break;case"insideTopRight":e+=h-d,f+=d,k="right";break;case"insideBottomLeft":e+=d,f+=g-i-d;break;case"insideBottomRight":e+=h-d,f+=g-i-d,k="right"}return{x:e,y:f,textAlign:k,textBaseline:"top"}}function j(a,b,c,d){var f,h,i;if(!c)return"";for(d=e.defaults({ellipsis:"...",minCharacters:3,maxIterations:3,cnCharWidth:g("国",b),ascCharWidth:g("a",b)},d,!0),c-=g(d.ellipsis),f=(a+"").split("\n"),h=0,i=f.length;i>h;h++)f[h]=k(f[h],b,c,d);return f.join("\n")}function k(a,b,c,d){var e,f,h;for(e=0;;e++){if(f=g(a,b),c>f||e>=d.maxIterations){a+=d.ellipsis;break}if(h=0===e?l(a,c,d):Math.floor(a.length*c/f),h<d.minCharacters){a="";break}a=a.substr(0,h)}return a}function l(a,b,c){var f,g,d=0,e=0;for(f=a.length;f>e&&b>d;e++)g=a.charCodeAt(e),d+=g>=0&&127>=g?c.ascCharWidth:c.cnCharWidth;return e}var b={},c=0,d=5e3,e=a("../core/util"),f=a("../core/BoundingRect"),m={getWidth:g,getBoundingRect:h,adjustTextPositionOnRect:i,ellipsis:j,measureText:function(a,b){var c=e.getContext();return c.font=b,c.measureText(a)}};return m}),b("echarts/model/mixin/textStyle",["require","zrender/contain/text"],function(a){function c(a,b){return a&&a.getShallow(b)}var b=a("zrender/contain/text");return{getTextColor:function(){var a=this.ecModel;return this.getShallow("color")||a&&a.get("textStyle.color")},getFont:function(){var a=this.ecModel,b=a&&a.getModel("textStyle");return[this.getShallow("fontStyle")||c(b,"fontStyle"),this.getShallow("fontWeight")||c(b,"fontWeight"),(this.getShallow("fontSize")||c(b,"fontSize")||12)+"px",this.getShallow("fontFamily")||c(b,"fontFamily")||"sans-serif"].join(" ")},getTextRect:function(a){var c=this.get("textStyle")||{};return b.getBoundingRect(a,this.getFont(),c.align,c.baseline)},ellipsis:function(a,c,d){return b.ellipsis(a,this.getFont(),c,d)}}}),b("echarts/model/mixin/itemStyle",["require","./makeStyleMapper"],function(a){return{getItemStyle:a("./makeStyleMapper")([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]])}}),b("echarts/model/Model",["require","zrender/core/util","../util/clazz","./mixin/lineStyle","./mixin/areaStyle","./mixin/textStyle","./mixin/itemStyle"],function(a){function d(a,b,c){this.parentModel=b||null,this.ecModel=c||null,this.option=a,this.init.apply(this,arguments)}var e,b=a("zrender/core/util"),c=a("../util/clazz");return d.prototype={constructor:d,init:function(){},mergeOption:function(a){b.merge(this.option,a,!0)},get:function(a,b){var c,d,e;if(!a)return this.option;for("string"==typeof a&&(a=a.split(".")),c=this.option,d=this.parentModel,e=0;e<a.length&&(c=c&&"object"==typeof c?c[a[e]]:null,null!=c);e++);return null==c&&d&&!b&&(c=d.get(a)),c},getShallow:function(a,b){var c=this.option,d=c&&c[a],e=this.parentModel;return null==d&&e&&!b&&(d=e.getShallow(a)),d},getModel:function(a,b){var c=this.get(a,!0),e=this.parentModel,f=new d(c,b||e&&e.getModel(a),this.ecModel);return f},isEmpty:function(){return null==this.option},restoreData:function(){},clone:function(){var a=this.constructor;return new a(b.clone(this.option))},setReadOnly:function(a){c.setReadOnly(this,a)}},c.enableClassExtend(d),e=b.mixin,e(d,a("./mixin/lineStyle")),e(d,a("./mixin/areaStyle")),e(d,a("./mixin/textStyle")),e(d,a("./mixin/itemStyle")),d}),b("echarts/util/component",["require","zrender/core/util","./clazz"],function(a){var b=a("zrender/core/util"),c=a("./clazz"),d=c.parseClassType,e=0,f={},g="_";return f.getUID=function(a){return[a||"",e++,Math.random()].join(g)},f.enableSubTypeDefaulter=function(a){var b={};return a.registerSubTypeDefaulter=function(a,c){a=d(a),b[a.main]=c},a.determineSubType=function(c,e){var g,f=e.type;return f||(g=d(c).main,a.hasSubTypes(c)&&b[g]&&(f=b[g](e))),f},a},f.enableTopologicalTravel=function(a,c){function d(a){var d={},g=[];return b.each(a,function(h){var i=e(d,h),j=i.originalDeps=c(h),k=f(j,a);i.entryCount=k.length,0===i.entryCount&&g.push(h),b.each(k,function(a){b.indexOf(i.predecessor,a)<0&&i.predecessor.push(a);var c=e(d,a);b.indexOf(c.successor,a)<0&&c.successor.push(h)})}),{graph:d,noEntryList:g}}function e(a,b){return a[b]||(a[b]={predecessor:[],successor:[]}),a[b]}function f(a,c){var d=[];return b.each(a,function(a){b.indexOf(c,a)>=0&&d.push(a)}),d}a.topologicalTravel=function(a,c,e,f){function n(a){h[a].entryCount--,0===h[a].entryCount&&i.push(a)}function o(a){j[a]=!0,n(a)}var g,h,i,j,k,l,m;if(a.length){for(g=d(c),h=g.graph,i=g.noEntryList,j={},b.each(a,function(a){j[a]=!0});i.length;)k=i.pop(),l=h[k],m=!!j[k],m&&(e.call(f,k,l.originalDeps.slice()),delete j[k]),b.each(l.successor,m?o:n);b.each(j,function(){throw new Error("Circle dependency may exists")})}}},f}),b("echarts/util/number",["require","zrender/core/util"],function(a){function e(a){return a.replace(/^\s+/,"").replace(/\s+$/,"")}var b=a("zrender/core/util"),c={},d=1e-4;return c.linearMap=function(a,d,e,f){var g,h;return b.isArray(a)?b.map(a,function(a){return c.linearMap(a,d,e,f)}):(g=d[1]-d[0],0===g?(e[0]+e[1])/2:(h=(a-d[0])/g,f&&(h=Math.min(Math.max(h,0),1)),h*(e[1]-e[0])+e[0]))},c.parsePercent=function(a,b){switch(a){case"center":case"middle":a="50%";break;case"left":case"top":a="0%";break;case"right":case"bottom":a="100%"}return"string"==typeof a?e(a).match(/%$/)?parseFloat(a)/100*b:parseFloat(a):null==a?0/0:+a},c.round=function(a){return+(+a).toFixed(12)},c.asc=function(a){return a.sort(function(a,b){return a-b}),a},c.getPrecision=function(a){for(var b=1,c=0;Math.round(a*b)/b!==a;)b*=10,c++;return c},c.getPixelPrecision=function(a,b){var c=Math.log,d=Math.LN10,e=Math.floor(c(a[1]-a[0])/d),f=Math.round(c(Math.abs(b[1]-b[0]))/d);return Math.max(-e+f,0)},c.MAX_SAFE_INTEGER=9007199254740991,c.remRadian=function(a){var b=2*Math.PI;return(a%b+b)%b},c.isRadianAroundZero=function(a){return a>-d&&d>a},c.parseDate=function(a){return a instanceof Date?a:new Date("string"==typeof a?a.replace(/-/g,"/"):a)},c}),b("echarts/util/format",["require","zrender/core/util"],function(a){function c(a){return isNaN(a)?"-":(a=(a+"").split("."),a[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(a.length>1?"."+a[1]:""))}function d(a){return a.toLowerCase().replace(/-(.)/g,function(a,b){return b.toUpperCase()})}function e(a){var b=a.length;return"number"==typeof a?[a,a,a,a]:2===b?[a[0],a[1],a[0],a[1]]:3===b?[a[0],a[1],a[2],a[1]]:a}function f(a){return String(a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function h(a,b){return"{"+a+(null==b?"":b)+"}"}function i(a,c){var d,e,f,i,j,k;if(b.isArray(c)||(c=[c]),d=c.length,!d)return"";for(e=c[0].$vars,f=0;f<e.length;f++)i=g[f],a=a.replace(h(i),h(i,0));for(j=0;d>j;j++)for(k=0;k<e.length;k++)a=a.replace(h(g[k],j),c[j][e[k]]);return a}var b=a("zrender/core/util"),g=["a","b","c","d","e","f","g"];return{normalizeCssArray:e,addCommas:c,toCamelCase:d,encodeHTML:f,formatTpl:i}}),b("echarts/util/layout",["require","zrender/core/util","zrender/core/BoundingRect","./number","./format"],function(a){function i(a,b,c,d,e){var h,f=0,g=0;null==d&&(d=1/0),null==e&&(e=1/0),h=0,b.eachChild(function(i,j){var o,p,q,r,k=i.position,l=i.getBoundingRect(),m=b.childAt(j+1),n=m&&m.getBoundingRect();"horizontal"===a?(q=l.width+(n?-n.x+l.x:0),o=f+q,o>d||i.newline?(f=0,o=q,g+=h+c,h=0):h=Math.max(h,l.height)):(r=l.height+(n?-n.y+l.y:0),p=g+r,p>e||i.newline?(f+=h+c,g=0,p=r,h=0):h=Math.max(h,l.width)),i.newline||(k[0]=f,k[1]=g,"horizontal"===a?f=o+c:g=p+c)})}var b=a("zrender/core/util"),c=a("zrender/core/BoundingRect"),d=a("./number"),e=a("./format"),f=d.parsePercent,g=b.each,h={};return h.box=i,h.vbox=b.curry(i,"vertical"),h.hbox=b.curry(i,"horizontal"),h.getAvailableSize=function(a,b,c){var d=b.width,g=b.height,h=f(a.x,d),i=f(a.y,g),j=f(a.x2,d),k=f(a.y2,g);return(isNaN(h)||isNaN(parseFloat(a.x)))&&(h=0),(isNaN(j)||isNaN(parseFloat(a.x2)))&&(j=d),(isNaN(i)||isNaN(parseFloat(a.y)))&&(i=0),(isNaN(k)||isNaN(parseFloat(a.y2)))&&(k=g),c=e.normalizeCssArray(c||0),{width:Math.max(j-h-c[1]-c[3],0),height:Math.max(k-i-c[0]-c[2],0)}},h.getLayoutRect=function(a,b,d){var g,h,i,j,k,l,m,n,o,p,q,r;switch(d=e.normalizeCssArray(d||0),g=b.width,h=b.height,i=f(a.left,g),j=f(a.top,h),k=f(a.right,g),l=f(a.bottom,h),m=f(a.width,g),n=f(a.height,h),o=d[2]+d[0],p=d[1]+d[3],q=a.aspect,isNaN(m)&&(m=g-k-p-i),isNaN(n)&&(n=h-l-o-j),isNaN(m)&&isNaN(n)&&(q>g/h?m=.8*g:n=.8*h),null!=q&&(isNaN(m)&&(m=q*n),isNaN(n)&&(n=m/q)),isNaN(i)&&(i=g-k-m-p),isNaN(j)&&(j=h-l-n-o),a.left||a.right){case"center":i=g/2-m/2-d[3];break;case"right":i=g-m-p}switch(a.top||a.bottom){case"middle":case"center":j=h/2-n/2-d[0];break;case"bottom":j=h-n-o}return r=new c(i+d[3],j+d[0],m,n),r.margin=d,r},h.positionGroup=function(a,c,d,e){var f=a.getBoundingRect();c=b.extend(b.clone(c),{width:f.width,height:f.height}),c=h.getLayoutRect(c,d,e),a.position=[c.x-f.x,c.y-f.y]},h.mergeLayoutParam=function(a,b,c){function i(d){var m,n,o,e={},f=0,h={},i=0,l=c.ignoreSize?1:2;if(g(d,function(b){h[b]=a[b]}),g(d,function(a){j(b,a)&&(e[a]=h[a]=b[a]),k(e,a)&&f++,k(h,a)&&i++}),i!==l&&f){if(l>i)return m=0,g(d,function(a){"auto"===h[a]&&(l-i>m?m++:h[a]=null)}),h;if(f>=l)return e;for(n=0;n<d.length;n++)if(o=d[n],!j(e,o)&&j(a,o)){e[o]=a[o];break}return e}return h}function j(a,b){return a.hasOwnProperty(b)}function k(a,b){return null!=a[b]&&"auto"!==a[b]}function l(a,b,c){g(a,function(a){b[a]=c[a]})}var d,e,f,h;c=c||{},d=["width","left","right"],e=["height","top","bottom"],f=i(d),h=i(e),l(d,a,f),l(e,a,h)},h.getLayoutParams=function(a){var b={};return a&&g(["left","right","top","bottom","width","height"],function(c){a.hasOwnProperty(c)&&(b[c]=a[c])}),b},h}),b("echarts/model/mixin/boxLayout",["require"],function(){return{getBoxLayoutParams:function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}}}}),b("echarts/model/Component",["require","./Model","zrender/core/util","../util/component","../util/clazz","../util/layout","./mixin/boxLayout"],function(a){function i(a){var b=[];return c.each(h.getClassesByMainType(a),function(a){d.apply(b,a.prototype.dependencies||[])}),c.map(b,function(a){return f.parseClassType(a).main})}var b=a("./Model"),c=a("zrender/core/util"),d=Array.prototype.push,e=a("../util/component"),f=a("../util/clazz"),g=a("../util/layout"),h=b.extend({type:"component",id:"",name:"",mainType:"",subType:"",componentIndex:0,defaultOption:null,ecModel:null,dependentModels:[],uid:null,layoutMode:null,init:function(){this.mergeDefaultAndTheme(this.option,this.ecModel)},mergeDefaultAndTheme:function(a,b){var d=this.layoutMode,e=d?g.getLayoutParams(a):{},f=b.getTheme();c.merge(a,f.get(this.mainType)),c.merge(a,this.getDefaultOption()),d&&g.mergeLayoutParam(a,e,d)},mergeOption:function(a){c.merge(this.option,a,!0);var b=this.layoutMode;b&&g.mergeLayoutParam(this.option,a,b)},getDefaultOption:function(){var a,b,d,e,f;if(!this.hasOwnProperty("__defaultOption")){for(a=[],b=this.constructor;b;)d=b.prototype.defaultOption,d&&a.push(d),b=b.superClass;for(e={},f=a.length-1;f>=0;f--)e=c.merge(e,a[f],!0);this.__defaultOption=e}return this.__defaultOption}});return f.enableClassExtend(h,function(a,b,d,f){c.extend(this,f),this.uid=e.getUID("componentModel"),this.setReadOnly(["type","id","uid","name","mainType","subType","dependentModels","componentIndex"])}),f.enableClassManagement(h,{registerWhenExtend:!0}),e.enableSubTypeDefaulter(h),e.enableTopologicalTravel(h,i),c.mixin(h,a("./mixin/boxLayout")),h}),b("echarts/model/globalDefault",[],function(){var a="";return"undefined"!=typeof navigator&&(a=navigator.platform||""),{color:["#c23531","#314656","#61a0a8","#dd8668","#91c7ae","#6e7074","#61a0a8","#bda29a","#44525d","#c4ccd3"],grid:{},textStyle:{fontFamily:a.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},animation:!0,animationThreshold:2e3,animationDuration:1e3,animationDurationUpdate:300,animationEasing:"exponentialOut",animationEasingUpdate:"cubicOut"}}),b("echarts/model/Global",["require","zrender/core/util","./Model","./Component","./globalDefault"],function(a){function m(a,c){for(var d in c)j.hasClass(d)||(a[d]="object"==typeof c[d]?a[d]?b.merge(a[d],c[d],!1):b.clone(c[d]):c[d])}function n(a){a=a,this.option={},this._componentsMap={},this._seriesIndices=null,m(a,this._theme.option),b.merge(a,k,!1),this.mergeOption(a)}function o(a,c){b.isArray(c)||(c=c?[c]:[]);var e={};return d(c,function(b){e[b]=(a[b]||[]).slice()}),e}function p(a,b){a=(a||[]).slice();var c=[];return d(b,function(b,d){if(i(b)&&b.id)for(var e=0,f=a.length;f>e;e++)if(a[e].id===b.id)return c[d]=a.splice(e,1)[0],void 0}),d(b,function(b,d){if(i(b)&&b.name&&!u(b))for(var e=0,f=a.length;f>e;e++)if(a[e].name===b.name)return c[d]=a.splice(e,1)[0],void 0}),d(b,function(b,d){c[d]||!a[d]||u(b)||(c[d]=a[d])}),c}function q(a,b,c){function j(f){d(b,function(b,d){var g,h,j;i(b)&&(g=c[d],h=e[d],j=a+"."+h.subType,f(h,b,g,j))})}var e=[],f="\0",g={},h={};return d(b,function(b,d){var f,g,h;i(b)&&(f=c[d],g=r(a,b,f),h={mainType:a,subType:g},e[d]=h)}),j(function(a,b,c){a.name=c?c.name:null!=b.name?b.name:f+"-",h[a.name]=0}),j(function(a,b,c,d){var e=a.name;if(a.id=c?c.id:null!=b.id?b.id:f+[d,e,h[e]++].join("|"),g[a.id])throw new Error("id duplicates: "+a.id);g[a.id]=1}),e}function r(a,b,c){var d=b.type?b.type:c?c.subType:j.determineSubType(a,b);return d}function s(a){return f(a,function(a){return a.componentIndex})||[]}function t(a,b){return b.hasOwnProperty("subType")?e(a,function(a){return a.subType===b.subType}):a}function u(a){return a.id&&0===(a.id+"").indexOf("\0_ec_\0")}function v(a){if(!a._seriesIndices)throw new Error("Series is not initialized. Please depends sereis.")}var b=a("zrender/core/util"),c=a("./Model"),d=b.each,e=b.filter,f=b.map,g=b.isArray,h=b.indexOf,i=b.isObject,j=a("./Component"),k=a("./globalDefault"),l=c.extend({constructor:l,init:function(a,b,d,e){d=d||{},this.option=null,this._theme=new c(d),this._optionManager=e},setOption:function(a,b){this._optionManager.setOption(a,b),this.resetOption()},resetOption:function(a){var e,f,g,b=!1,c=this._optionManager;return a&&"recreate"!==a||(e=c.mountOption(),this.option&&"recreate"!==a?(this.restoreData(),this.mergeOption(e)):n.call(this,e),b=!0),("timeline"===a||"media"===a)&&this.restoreData(),a&&"recreate"!==a&&"timeline"!==a||(f=c.getTimelineOption(this),f&&(this.mergeOption(f),b=!0)),a&&"recreate"!==a&&"media"!==a||(g=c.getMediaOption(this,this._api),g.length&&d(g,function(a){this.mergeOption(a,b=!0)},this)),b},mergeOption:function(a){function g(b,c){var d=a[b];d?k.call(this,b,d,c):h.call(this,b),"series"===b&&(this._seriesIndices=s(e.series))}function h(a){d(e[a],function(a){a.mergeOption({},this)},this)}function k(a,f,g){var h,k,l;b.isArray(f)||(f=[f]),e[a]||(e[a]=[]),h=p(e[a],f),k=q(a,f,h),l=o(e,g),c[a]=[],d(f,function(d,f){var g,m;i(d)&&(g=h[f],m=j.getClass(a,k[f].subType,!0),g&&g instanceof m?g.mergeOption(d,this):(g=new m(d,this,this,b.extend({dependentModels:l,componentIndex:f},k[f])),e[a][f]=g),c[a][f]=g.option)},this)}var c=this.option,e=this._componentsMap,f=[];d(a,function(a,d){null!=a&&(j.hasClass(d)?f.push(d):c[d]=null==c[d]?b.clone(a):b.merge(c[d],a,!0))}),j.topologicalTravel(f,j.getAllClassMainTypes(),g,this)},getTheme:function(){return this._theme},getComponent:function(a,b){var c=this._componentsMap[a];return c?c[b||0]:void 0},queryComponents:function(a){var c,d,i,j,k,l,m,b=a.mainType;return b?(c=a.index,d=a.id,i=a.name,j=this._componentsMap[b],j&&j.length?(null!=c?(g(c)||(c=[c]),k=e(f(c,function(a){return j[a]}),function(a){return!!a})):null!=d?(l=g(d),k=e(j,function(a){return l&&h(d,a.id)>=0||!l&&a.id===d})):null!=i&&(m=g(i),k=e(j,function(a){return m&&h(i,a.name)>=0||!m&&a.name===i})),t(k,a)):[]):[]},findComponents:function(a){function g(a){var b=c+"Index",d=c+"Id",e=c+"Name";return a&&(a.hasOwnProperty(b)||a.hasOwnProperty(d)||a.hasOwnProperty(e))?{mainType:c,index:a[b],id:a[d],name:a[e]}:null}function h(b){return a.filter?e(b,a.filter):b}var b=a.query,c=a.mainType,d=g(b),f=d?this.queryComponents(d):this._componentsMap[c];return h(t(f,a))},eachComponent:function(a,c,e){var g,f=this._componentsMap;"function"==typeof a?(e=c,c=a,d(f,function(a,b){d(a,function(a,d){c.call(e,b,a,d)})})):b.isString(a)?d(f[a],c,e):i(a)&&(g=this.findComponents(a),d(g,c,e))},getSeriesByName:function(a){var b=this._componentsMap.series;return e(b,function(b){return b.name===a})},getSeriesByIndex:function(a){return this._componentsMap.series[a]},getSeriesByType:function(a){var b=this._componentsMap.series;return e(b,function(b){return b.subType===a})},getSeries:function(){return this._componentsMap.series.slice()},eachSeries:function(a,b){v(this),d(this._seriesIndices,function(c){var d=this._componentsMap.series[c];a.call(b,d,c)},this)},eachRawSeries:function(a,b){d(this._componentsMap.series,a,b)},eachSeriesByType:function(a,b,c){v(this),d(this._seriesIndices,function(d){var e=this._componentsMap.series[d];e.subType===a&&b.call(c,e,d)},this)},eachRawSeriesByType:function(a,b,c){return d(this.getSeriesByType(a),b,c)},isSeriesFiltered:function(a){return v(this),b.indexOf(this._seriesIndices,a.componentIndex)<0},filterSeries:function(a,b){v(this);var c=e(this._componentsMap.series,a,b);this._seriesIndices=s(c)},restoreData:function(){var b,a=this._componentsMap;this._seriesIndices=s(a.series),b=[],d(a,function(a,c){b.push(c)}),j.topologicalTravel(b,j.getAllClassMainTypes(),function(b){d(a[b],function(a){a.restoreData()})})}});return l}),b("echarts/ExtensionAPI",["require","zrender/core/util"],function(a){function d(a){b.each(c,function(c){this[c]=b.bind(a[c],a)},this)}var b=a("zrender/core/util"),c=["getDom","getZr","getWidth","getHeight","dispatchAction","on","off","getDataURL","getConnectedDataURL"];return d}),b("echarts/CoordinateSystem",["require"],function(){function c(){this._coordinateSystems={},this._coordinateSystemsList=[]}var b={};return c.prototype={constructor:c,update:function(a,c){var e,d={};for(e in b)d[e]=b[e].create(a,c);this._coordinateSystems=d},get:function(a,b){var c=this._coordinateSystems[a];return c?c[b||0]:void 0}},c.register=function(a,c){b[a]=c},c}),b("echarts/model/OptionManager",["require","zrender/core/util"],function(a){function g(a){this._api=a,this._timelineOptions,this._mediaList,this._mediaDefault,this._currentMediaIndices=[],this._optionBackup}function h(a,d){var g,h,j,e=[],f=[],i=a.timeline;return a.baseOption&&(h=a.baseOption),(i||a.options)&&(h=h||{},e=(a.options||[]).slice()),a.media&&(h=h||{},j=a.media,c(j,function(a){a&&a.option&&(a.query?f.push(a):g||(g=a))})),h||(h=a),h.timeline||(h.timeline=i),c([h].concat(e).concat(b.map(f,function(a){return a.option})),function(a){c(d,function(b){b(a)})}),{baseOption:h,timelineOptions:e,mediaDefault:g,mediaList:f}}function i(a,c,d){var e={width:c,height:d,aspectratio:c/d},g=!0;return b.each(a,function(a,b){var d,h,c=b.match(f);c&&c[1]&&c[2]&&(d=c[1],h=c[2].toLowerCase(),j(e[h],a,d)||(g=!1))}),g}function j(a,b,c){return"min"===c?a>=b:"max"===c?b>=a:a===b}function k(a,b){return a.join(",")===b.join(",")}var b=a("zrender/core/util"),c=b.each,d=b.clone,e=b.map,f=/^(min|max)?(.+)$/;return g.prototype={constructor:g,setOption:function(a,b){a=d(a,!0),this._optionBackup=h.call(this,a,b)
},mountOption:function(){var a=this._optionBackup;return this._timelineOptions=e(a.timelineOptions,d),this._mediaList=e(a.mediaList,d),this._mediaDefault=d(a.mediaDefault),this._currentMediaIndices=[],d(a.baseOption)},getTimelineOption:function(a){var b,e,c=this._timelineOptions;return c.length&&(e=a.getComponent("timeline"),e&&(b=d(c[e.getCurrentIndex()],!0))),b},getMediaOption:function(){var l,m,b=this._api.getWidth(),c=this._api.getHeight(),f=this._mediaList,g=this._mediaDefault,h=[],j=[];if(!f.length&&!g)return j;for(l=0,m=f.length;m>l;l++)i(f[l].query,b,c)&&h.push(l);return!h.length&&g&&(h=[-1]),h.length&&!k(h,this._currentMediaIndices)&&(j=e(h,function(a){return d(-1===a?g.option:f[a].option)})),this._currentMediaIndices=h,j}},g}),b("echarts/util/model",["require","./format","./number","zrender/core/util","../model/Model"],function(a){var b=a("./format"),c=a("./number"),d=a("zrender/core/util"),e=a("../model/Model"),f=["x","y","z","radius","angle"],g={};return g.createNameEach=function(a,b){var c,e;return a=a.slice(),c=d.map(a,g.capitalFirst),b=(b||[]).slice(),e=d.map(b,g.capitalFirst),function(f,g){d.each(a,function(a,d){var i,h={name:a,capital:c[d]};for(i=0;i<b.length;i++)h[b[i]]=a+e[i];f.call(g,h)})}},g.capitalFirst=function(a){return a?a.charAt(0).toUpperCase()+a.substr(1):a},g.eachAxisDim=g.createNameEach(f,["axisIndex","axis","index"]),g.normalizeToArray=function(a){return d.isArray(a)?a:null==a?[]:[a]},g.createLinkedNodesFinder=function(a,b,c){function e(a,b){return d.indexOf(b.nodes,a)>=0}function f(a,e){var f=!1;return b(function(b){d.each(c(a,b)||[],function(a){e.records[b.name][a]&&(f=!0)})}),f}function g(a,e){e.nodes.push(a),b(function(b){d.each(c(a,b)||[],function(a){e.records[b.name][a]=!0})})}return function(c){function i(a){!e(a,d)&&f(a,d)&&(g(a,d),h=!0)}var h,d={nodes:[],records:{}};if(b(function(a){d.records[a.name]={}}),!c)return d;g(c,d);do h=!1,a(i);while(h);return d}},g.defaultEmphasis=function(a,b){var c,e;a&&(c=a.emphasis=a.emphasis||{},e=a.normal=a.normal||{},d.each(b,function(a){var b=d.retrieve(c[a],e[a]);null!=b&&(c[a]=b)}))},g.createDataFormatModel=function(a,b,c){var f=new e;return d.mixin(f,g.dataFormatMixin),f.seriesIndex=a.seriesIndex,f.name=a.name||"",f.getData=function(){return b},f.getRawDataArray=function(){return c},f},g.getDataItemValue=function(a){return a&&(null==a.value?a:a.value)},g.converDataValue=function(a,b){var d=b&&b.type;return"ordinal"===d?a:("time"!==d||isFinite(a)||null==a||"-"===a||(a=+c.parseDate(a)),null==a||""===a?0/0:+a)},g.dataFormatMixin={getDataParams:function(a){var b=this.getData(),c=this.seriesIndex,d=this.name,e=this.getRawValue(a),f=b.getRawIndex(a),g=b.getName(a,!0),h=this.getRawDataArray(),i=h&&h[f];return{seriesIndex:c,seriesName:d,name:g,dataIndex:f,data:i,value:e,$vars:["seriesName","name","value"]}},getFormattedLabel:function(a,c,d){var e,f,g;return c=c||"normal",e=this.getData(),f=e.getItemModel(a),g=this.getDataParams(a),d||(d=f.get(["label",c,"formatter"])),"function"==typeof d?(g.status=c,d(g)):"string"==typeof d?b.formatTpl(d,g):void 0},getRawValue:function(a){var c,b=this.getData().getItemModel(a);return b&&b.option?(c=b.option,d.isObject(c)&&!d.isArray(c)?c.value:c):void 0}},g}),b("echarts/model/Series",["require","zrender/core/util","../util/format","../util/model","./Component"],function(a){var b=a("zrender/core/util"),c=a("../util/format"),d=a("../util/model"),e=a("./Component"),f=c.encodeHTML,g=c.addCommas,h=e.extend({type:"series",seriesIndex:0,coordinateSystem:null,defaultOption:null,legendDataProvider:null,init:function(a,b,c){this.seriesIndex=this.componentIndex,this.mergeDefaultAndTheme(a,c),this._dataBeforeProcessed=this.getInitialData(a,c),this._data=this._dataBeforeProcessed.cloneShallow()},mergeDefaultAndTheme:function(a,c){b.merge(a,c.getTheme().get(this.subType)),b.merge(a,this.getDefaultOption()),d.defaultEmphasis(a.label,["position","show","textStyle","distance","formatter"])},mergeOption:function(a,c){a=b.merge(this.option,a,!0);var d=this.getInitialData(a,c);d&&(this._data=d,this._dataBeforeProcessed=d.cloneShallow())},getInitialData:function(){},getData:function(){return this._data},setData:function(a){this._data=a},getRawData:function(){return this._dataBeforeProcessed},getRawDataArray:function(){return this.option.data},getDimensionsOnAxis:function(a){return[a]},formatTooltip:function(a,c){var d=this._data,e=this.getRawValue(a),h=b.isArray(e)?b.map(e,g).join(", "):g(e),i=d.getName(a);return c?f(this.name)+" : "+h:f(this.name)+"<br />"+(i?f(i)+" : "+h:h)},restoreData:function(){this._data=this._dataBeforeProcessed.cloneShallow()}});return b.mixin(h,d.dataFormatMixin),h}),b("zrender/core/guid",[],function(){var a=2311;return function(){return"zr_"+a++}}),b("zrender/mixin/Eventful",["require","../core/util"],function(a){var b=Array.prototype.slice,c=a("../core/util"),d=c.indexOf,e=function(){this._$handlers={}};return e.prototype={constructor:e,one:function(a,b,c){var e=this._$handlers;return b&&a?(e[a]||(e[a]=[]),d(e[a],a)>=0?this:(e[a].push({h:b,one:!0,ctx:c||this}),this)):this},on:function(a,b,c){var d=this._$handlers;return b&&a?(d[a]||(d[a]=[]),d[a].push({h:b,one:!1,ctx:c||this}),this):this},isSilent:function(a){var b=this._$handlers;return b[a]&&b[a].length},off:function(a,b){var d,e,f,c=this._$handlers;if(!a)return this._$handlers={},this;if(b){if(c[a]){for(d=[],e=0,f=c[a].length;f>e;e++)c[a][e]["h"]!=b&&d.push(c[a][e]);c[a]=d}c[a]&&0===c[a].length&&delete c[a]}else delete c[a];return this},trigger:function(a){var c,d,e,f,g;if(this._$handlers[a])for(c=arguments,d=c.length,d>3&&(c=b.call(c,1)),e=this._$handlers[a],f=e.length,g=0;f>g;){switch(d){case 1:e[g]["h"].call(e[g]["ctx"]);break;case 2:e[g]["h"].call(e[g]["ctx"],c[1]);break;case 3:e[g]["h"].call(e[g]["ctx"],c[1],c[2]);break;default:e[g]["h"].apply(e[g]["ctx"],c)}e[g]["one"]?(e.splice(g,1),f--):g++}return this},triggerWithContext:function(a){var c,d,e,f,g,h;if(this._$handlers[a])for(c=arguments,d=c.length,d>4&&(c=b.call(c,1,c.length-1)),e=c[c.length-1],f=this._$handlers[a],g=f.length,h=0;g>h;){switch(d){case 1:f[h]["h"].call(e);break;case 2:f[h]["h"].call(e,c[1]);break;case 3:f[h]["h"].call(e,c[1],c[2]);break;default:f[h]["h"].apply(e,c)}f[h]["one"]?(f.splice(h,1),g--):h++}return this}},e}),b("zrender/mixin/Transformable",["require","../core/matrix","../core/vector"],function(a){function f(a){return a>e||-e>a}var i,b=a("../core/matrix"),c=a("../core/vector"),d=b.identity,e=5e-5,g=function(a){a=a||{},a.position||(this.position=[0,0]),null==a.rotation&&(this.rotation=0),a.scale||(this.scale=[1,1]),this.origin=this.origin||null},h=g.prototype;return h.transform=null,h.needLocalTransform=function(){return f(this.rotation)||f(this.position[0])||f(this.position[1])||f(this.scale[0]-1)||f(this.scale[1]-1)},h.updateTransform=function(){var a=this.parent,c=a&&a.transform,e=this.needLocalTransform(),f=this.transform;return e||c?(f=f||b.create(),e?this.getLocalTransform(f):d(f),c&&(e?b.mul(f,a.transform,f):b.copy(f,a.transform)),this.transform=f,this.invTransform=this.invTransform||b.create(),b.invert(this.invTransform,f),void 0):(f&&d(f),void 0)},h.getLocalTransform=function(a){var c,e,f,g;return a=a||[],d(a),c=this.origin,e=this.scale,f=this.rotation,g=this.position,c&&(a[4]-=c[0],a[5]-=c[1]),b.scale(a,a,e),f&&b.rotate(a,a,f),c&&(a[4]+=c[0],a[5]+=c[1]),a[4]+=g[0],a[5]+=g[1],a},h.setTransform=function(a){var b=this.transform;b&&a.transform(b[0],b[1],b[2],b[3],b[4],b[5])},i=[],h.decomposeTransform=function(){var a,c,d,e,g,h;this.transform&&(a=this.parent,c=this.transform,a&&a.transform&&(b.mul(i,a.invTransform,c),c=i),d=c[0]*c[0]+c[1]*c[1],e=c[2]*c[2]+c[3]*c[3],g=this.position,h=this.scale,f(d-1)&&(d=Math.sqrt(d)),f(e-1)&&(e=Math.sqrt(e)),c[0]<0&&(d=-d),c[3]<0&&(e=-e),g[0]=c[4],g[1]=c[5],h[0]=d,h[1]=e,this.rotation=Math.atan2(-c[1]/e,c[0]/d))},h.transformCoordToLocal=function(a,b){var d=[a,b],e=this.invTransform;return e&&c.applyTransform(d,d,e),d},h.transformCoordToGlobal=function(a,b){var d=[a,b],e=this.transform;return e&&c.applyTransform(d,d,e),d},g}),b("zrender/animation/easing",[],function(){var a={linear:function(a){return a},quadraticIn:function(a){return a*a},quadraticOut:function(a){return a*(2-a)},quadraticInOut:function(a){return(a*=2)<1?.5*a*a:-.5*(--a*(a-2)-1)},cubicIn:function(a){return a*a*a},cubicOut:function(a){return--a*a*a+1},cubicInOut:function(a){return(a*=2)<1?.5*a*a*a:.5*((a-=2)*a*a+2)},quarticIn:function(a){return a*a*a*a},quarticOut:function(a){return 1- --a*a*a*a},quarticInOut:function(a){return(a*=2)<1?.5*a*a*a*a:-.5*((a-=2)*a*a*a-2)},quinticIn:function(a){return a*a*a*a*a},quinticOut:function(a){return--a*a*a*a*a+1},quinticInOut:function(a){return(a*=2)<1?.5*a*a*a*a*a:.5*((a-=2)*a*a*a*a+2)},sinusoidalIn:function(a){return 1-Math.cos(a*Math.PI/2)},sinusoidalOut:function(a){return Math.sin(a*Math.PI/2)},sinusoidalInOut:function(a){return.5*(1-Math.cos(Math.PI*a))},exponentialIn:function(a){return 0===a?0:Math.pow(1024,a-1)},exponentialOut:function(a){return 1===a?1:1-Math.pow(2,-10*a)},exponentialInOut:function(a){return 0===a?0:1===a?1:(a*=2)<1?.5*Math.pow(1024,a-1):.5*(-Math.pow(2,-10*(a-1))+2)},circularIn:function(a){return 1-Math.sqrt(1-a*a)},circularOut:function(a){return Math.sqrt(1- --a*a)},circularInOut:function(a){return(a*=2)<1?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1)},elasticIn:function(a){var b,c=.1,d=.4;return 0===a?0:1===a?1:(!c||1>c?(c=1,b=d/4):b=d*Math.asin(1/c)/(2*Math.PI),-(c*Math.pow(2,10*(a-=1))*Math.sin((a-b)*2*Math.PI/d)))},elasticOut:function(a){var b,c=.1,d=.4;return 0===a?0:1===a?1:(!c||1>c?(c=1,b=d/4):b=d*Math.asin(1/c)/(2*Math.PI),c*Math.pow(2,-10*a)*Math.sin((a-b)*2*Math.PI/d)+1)},elasticInOut:function(a){var b,c=.1,d=.4;return 0===a?0:1===a?1:(!c||1>c?(c=1,b=d/4):b=d*Math.asin(1/c)/(2*Math.PI),(a*=2)<1?-.5*c*Math.pow(2,10*(a-=1))*Math.sin((a-b)*2*Math.PI/d):.5*c*Math.pow(2,-10*(a-=1))*Math.sin((a-b)*2*Math.PI/d)+1)},backIn:function(a){var b=1.70158;return a*a*((b+1)*a-b)},backOut:function(a){var b=1.70158;return--a*a*((b+1)*a+b)+1},backInOut:function(a){var b=2.5949095;return(a*=2)<1?.5*a*a*((b+1)*a-b):.5*((a-=2)*a*((b+1)*a+b)+2)},bounceIn:function(b){return 1-a.bounceOut(1-b)},bounceOut:function(a){return 1/2.75>a?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375},bounceInOut:function(b){return.5>b?.5*a.bounceIn(2*b):.5*a.bounceOut(2*b-1)+.5}};return a}),b("zrender/animation/Clip",["require","./easing"],function(a){function c(a){this._target=a.target,this._life=a.life||1e3,this._delay=a.delay||0,this._initialized=!1,this.loop=null==a.loop?!1:a.loop,this.gap=a.gap||0,this.easing=a.easing||"Linear",this.onframe=a.onframe,this.ondestroy=a.ondestroy,this.onrestart=a.onrestart}var b=a("./easing");return c.prototype={constructor:c,step:function(a){var c,d,e,f;return this._initialized||(this._startTime=(new Date).getTime()+this._delay,this._initialized=!0),c=(a-this._startTime)/this._life,0>c?void 0:(c=Math.min(c,1),d=this.easing,e="string"==typeof d?b[d]:d,f="function"==typeof e?e(c):c,this.fire("frame",f),1==c?this.loop?(this.restart(),"restart"):(this._needsRemove=!0,"destroy"):null)},restart:function(){var a=(new Date).getTime(),b=(a-this._startTime)%this._life;this._startTime=(new Date).getTime()-b+this.gap,this._needsRemove=!1},fire:function(a,b){a="on"+a,this[a]&&this[a](this._target,b)}},c}),b("zrender/tool/color",["require"],function(){function c(a){return a=Math.round(a),0>a?0:a>255?255:a}function d(a){return a=Math.round(a),0>a?0:a>360?360:a}function e(a){return 0>a?0:a>1?1:a}function f(a){return a.length&&"%"===a.charAt(a.length-1)?c(255*(parseFloat(a)/100)):c(parseInt(a,10))}function g(a){return a.length&&"%"===a.charAt(a.length-1)?e(parseFloat(a)/100):e(parseFloat(a))}function h(a,b,c){return 0>c?c+=1:c>1&&(c-=1),1>6*c?a+6*(b-a)*c:1>2*c?b:2>3*c?a+6*(b-a)*(2/3-c):a}function i(a,b,c){return a+(b-a)*c}function j(a){var c,d,e,h,i,j,l;if(a){if(a+="",c=a.replace(/ /g,"").toLowerCase(),c in b)return b[c].slice();if("#"!==c.charAt(0)){if(e=c.indexOf("("),h=c.indexOf(")"),-1!==e&&h+1===c.length)switch(i=c.substr(0,e),j=c.substr(e+1,h-(e+1)).split(","),l=1,i){case"rgba":if(4!==j.length)return;l=g(j.pop());case"rgb":if(3!==j.length)return;return[f(j[0]),f(j[1]),f(j[2]),l];case"hsla":if(4!==j.length)return;return j[3]=g(j[3]),k(j);case"hsl":if(3!==j.length)return;return k(j);default:return}}else{if(4===c.length){if(d=parseInt(c.substr(1),16),!(d>=0&&4095>=d))return;return[(3840&d)>>4|(3840&d)>>8,240&d|(240&d)>>4,15&d|(15&d)<<4,1]}if(7===c.length){if(d=parseInt(c.substr(1),16),!(d>=0&&16777215>=d))return;return[(16711680&d)>>16,(65280&d)>>8,255&d,1]}}}}function k(a){var b=(parseFloat(a[0])%360+360)%360/360,d=g(a[1]),e=g(a[2]),f=.5>=e?e*(d+1):e+d-e*d,i=2*e-f,j=[c(255*h(i,f,b+1/3)),c(255*h(i,f,b)),c(255*h(i,f,b-1/3))];return 4===a.length&&(j[3]=a[3]),j}function l(a){var b,c,d,e,f,g,h,i,j,k,l,m,n;if(a)return b=a[0]/255,c=a[1]/255,d=a[2]/255,e=Math.min(b,c,d),f=Math.max(b,c,d),g=f-e,h=(f+e)/2,0===g?(i=0,j=0):(j=.5>h?g/(f+e):g/(2-f-e),k=((f-b)/6+g/2)/g,l=((f-c)/6+g/2)/g,m=((f-d)/6+g/2)/g,b===f?i=m-l:c===f?i=1/3+k-m:d===f&&(i=2/3+l-k),0>i&&(i+=1),i>1&&(i-=1)),n=[360*i,j,h],null!=a[3]&&n.push(a[3]),n}function m(a,b){var d,c=j(a);if(c){for(d=0;3>d;d++)c[d]=0>b?0|c[d]*(1-b):0|(255-c[d])*b+c[d];return t(c,4===c.length?"rgba":"rgb")}}function n(a){var c=j(a);return c?((1<<24)+(c[0]<<16)+(c[1]<<8)+ +c[2]).toString(16).slice(1):void 0}function o(a,b,d){var e,f,g,h,j,k;if(b&&b.length&&a>=0&&1>=a)return d=d||[0,0,0,0],e=a*(b.length-1),f=Math.floor(e),g=Math.ceil(e),h=b[f],j=b[g],k=e-f,d[0]=c(i(h[0],j[0],k)),d[1]=c(i(h[1],j[1],k)),d[2]=c(i(h[2],j[2],k)),d[3]=c(i(h[3],j[3],k)),d}function p(a,b,d){var f,g,h,k,l,m,n;if(b&&b.length&&a>=0&&1>=a)return f=a*(b.length-1),g=Math.floor(f),h=Math.ceil(f),k=j(b[g]),l=j(b[h]),m=f-g,n=t([c(i(k[0],l[0],m)),c(i(k[1],l[1],m)),c(i(k[2],l[2],m)),e(i(k[3],l[3],m))],"rgba"),d?{color:n,leftIndex:g,rightIndex:h,value:f}:n}function q(a,b){var c,d,e,f,g,h,i;if(!(2!==a.length||a[1]<a[0])){for(c=p(a[0],b,!0),d=p(a[1],b,!0),e=[{color:c.color,offset:0}],f=d.value-c.value,g=Math.max(c.value,c.rightIndex),h=Math.min(d.value,d.leftIndex),i=g;f>0&&h>=i;i++)e.push({color:b[i],offset:(i-c.value)/f});return e.push({color:d.color,offset:1}),e}}function r(a,b,c,e){return a=j(a),a?(a=l(a),null!=b&&(a[0]=d(b)),null!=c&&(a[1]=g(c)),null!=e&&(a[2]=g(e)),t(k(a),"rgba")):void 0}function s(a,b){return a=j(a),a&&null!=b?(a[3]=e(b),t(a,"rgba")):void 0}function t(a,b){return("rgb"===b||"hsv"===b||"hsl"===b)&&(a=a.slice(0,3)),b+"("+a.join(",")+")"}var b={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};return{parse:j,lift:m,toHex:n,fastMapToColor:o,mapToColor:p,mapIntervalToColor:q,modifyHSL:r,modifyAlpha:s,stringify:t}}),b("zrender/animation/Animator",["require","./Clip","../tool/color","../core/util"],function(a){function g(a,b){return a[b]}function h(a,b,c){a[b]=c}function i(a,b,c){return(b-a)*c+a}function j(a,b,c){return c>.5?b:a}function k(a,b,c,d,e){var g,h,j,f=a.length;if(1==e)for(g=0;f>g;g++)d[g]=i(a[g],b[g],c);else for(h=a[0].length,g=0;f>g;g++)for(j=0;h>j;j++)d[g][j]=i(a[g][j],b[g][j],c)}function l(a,b,c){var g,h,d=a.length,e=b.length;if(d!==e)if(g=d>e)a.length=e;else for(h=d;e>h;h++)a.push(1===c?b[h]:f.call(b[h]))}function m(a,b,c){var d,e,f,g;if(a===b)return!0;if(d=a.length,d!==b.length)return!1;if(1===c){for(e=0;d>e;e++)if(a[e]!==b[e])return!1}else for(f=a[0].length,e=0;d>e;e++)for(g=0;f>g;g++)if(a[e][g]!==b[e][g])return!1;return!0}function n(a,b,c,d,e,f,g,h,i){var k,l,m,j=a.length;if(1==i)for(k=0;j>k;k++)h[k]=o(a[k],b[k],c[k],d[k],e,f,g);else for(l=a[0].length,k=0;j>k;k++)for(m=0;l>m;m++)h[k][m]=o(a[k][m],b[k][m],c[k][m],d[k][m],e,f,g)}function o(a,b,c,d,e,f,g){var h=.5*(c-a),i=.5*(d-b);return(2*(b-c)+h+i)*g+(-3*(b-c)-2*h-i)*f+h*e+b}function p(a){var b,c,d;if(e(a)){if(b=a.length,e(a[0])){for(c=[],d=0;b>d;d++)c.push(f.call(a[d]));return c}return f.call(a)}return a}function q(a){return a[0]=Math.floor(a[0]),a[1]=Math.floor(a[1]),a[2]=Math.floor(a[2]),"rgba("+a.join(",")+")"}function r(a,d,f,g,h){var u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,p=a._getter,r=a._setter,s="spline"===d,t=g.length;if(t){for(u=g[0].value,v=e(u),w=!1,x=!1,y=v&&e(u[0])?2:1,g.sort(function(a,b){return a.time-b.time}),z=g[t-1].time,A=[],B=[],C=g[0].value,D=!0,E=0;t>E;E++)A.push(g[E].time/z),F=g[E].value,v&&m(F,C,y)||!v&&F===C||(D=!1),C=F,"string"==typeof F&&(G=c.parse(F),G?(F=G,w=!0):x=!0),B.push(F);if(!D){if(v){for(H=B[t-1],E=0;t-1>E;E++)l(B[E],H,y);l(p(a._target,h),H,y)}return I=0,J=0,w&&(Q=[0,0,0,0]),R=function(a,b){var c,d,e;if(J>b){for(K=Math.min(I+1,t-1),c=K;c>=0&&!(A[c]<=b);c--);c=Math.min(c,t-2)}else{for(c=I;t>c&&!(A[c]>b);c++);c=Math.min(c-1,t-2)}if(I=c,J=b,d=A[c+1]-A[c],0!==d)if(L=(b-A[c])/d,s)if(N=B[c],M=B[0===c?c:c-1],O=B[c>t-2?t-1:c+1],P=B[c>t-3?t-1:c+2],v)n(M,N,O,P,L,L*L,L*L*L,p(a,h),y);else{if(w)e=n(M,N,O,P,L,L*L,L*L*L,Q,1),e=q(Q);else{if(x)return j(N,O,L);e=o(M,N,O,P,L,L*L,L*L*L)}r(a,h,e)}else if(v)k(B[c],B[c+1],L,p(a,h),y);else{if(w)k(B[c],B[c+1],L,Q,1),e=q(Q);else{if(x)return j(B[c],B[c+1],L);e=i(B[c],B[c+1],L)}r(a,h,e)}},S=new b({target:a._target,life:z,loop:a._loop,delay:a._delay,onframe:R,ondestroy:f}),d&&"spline"!==d&&(S.easing=d),S}}}var b=a("./Clip"),c=a("../tool/color"),d=a("../core/util"),e=d.isArrayLike,f=Array.prototype.slice,s=function(a,b,c,d){this._tracks={},this._target=a,this._loop=b||!1,this._getter=c||g,this._setter=d||h,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[]};return s.prototype={when:function(a,b){var d,e,c=this._tracks;for(d in b){if(!c[d]){if(c[d]=[],e=this._getter(this._target,d),null==e)continue;0!==a&&c[d].push({time:0,value:p(e)})}c[d].push({time:a,value:b[d]})}return this},during:function(a){return this._onframeList.push(a),this},_doneCallback:function(){var a,b,c;for(this._tracks={},this._clipList.length=0,a=this._doneList,b=a.length,c=0;b>c;c++)a[c].call(this)},start:function(a){var e,f,g,h,b=this,c=0,d=function(){c--,c||b._doneCallback()};for(f in this._tracks)g=r(this,a,d,this._tracks[f],f),g&&(this._clipList.push(g),c++,this.animation&&this.animation.addClip(g),e=g);return e&&(h=e.onframe,e.onframe=function(a,c){h(a,c);for(var d=0;d<b._onframeList.length;d++)b._onframeList[d](a,c)}),c||this._doneCallback(),this},stop:function(a){var d,e,b=this._clipList,c=this.animation;for(d=0;d<b.length;d++)e=b[d],a&&e.onframe(this._target,1),c&&c.removeClip(e);b.length=0},delay:function(a){return this._delay=a,this},done:function(a){return a&&this._doneList.push(a),this},getClips:function(){return this._clipList}},s}),b("zrender/config",[],function(){var b,a=1;return"undefined"!=typeof window&&(a=Math.max(window.devicePixelRatio||1,1)),b={debugMode:0,devicePixelRatio:a}}),b("zrender/core/log",["require","../config"],function(a){var b=a("../config");return function(){var a;if(0!==b.debugMode)if(1==b.debugMode)for(a in arguments)throw new Error(arguments[a]);else if(b.debugMode>1)for(a in arguments)console.log(arguments[a])}}),b("zrender/mixin/Animatable",["require","../animation/Animator","../core/util","../core/log"],function(a){var b=a("../animation/Animator"),c=a("../core/util"),d=c.isString,e=c.isFunction,f=c.isObject,g=a("../core/log"),h=function(){this.animators=[]};return h.prototype={constructor:h,animate:function(a,d){var e,j,k,l,m,n,o,f=!1,h=this,i=this.__zr;if(a){for(j=a.split("."),k=h,f="shape"===j[0],l=0,m=j.length;m>l;l++)k&&(k=k[j[l]]);k&&(e=k)}else e=h;return e?(n=h.animators,o=new b(e,d),o.during(function(){h.dirty(f)}).done(function(){n.splice(c.indexOf(n,o),1)}),n.push(o),i&&i.animation.addAnimator(o),o):(g('Property "'+a+'" is not existed in element '+h.id),void 0)},stopAnimation:function(a){var d,b=this.animators,c=b.length;for(d=0;c>d;d++)b[d].stop(a);return b.length=0,this},animateTo:function(a,b,c,f,g){function j(){i--,i||g&&g()}var h,i,k;for(d(c)?(g=f,f=c,c=0):e(f)?(g=f,f="linear",c=0):e(c)?(g=c,c=0):e(b)?(g=b,b=500):b||(b=500),this.stopAnimation(),this._animateToShallow("",this,a,b,c,f,g),h=this.animators.slice(),i=h.length,i||g&&g(),k=0;k<h.length;k++)h[k].done(j).start(f)},_animateToShallow:function(a,b,d,e,g){var j,k,h={},i=0;for(j in d)null!=b[j]?f(d[j])&&!c.isArrayLike(d[j])?this._animateToShallow(a?a+"."+j:j,b[j],d[j],e,g):(h[j]=d[j],i++):null!=d[j]&&(a?(k={},k[a]={},k[a][j]=d[j],this.attr(k)):this.attr(j,d[j]));return i>0&&this.animate(a,!1).when(null==e?500:e,h).delay(g||0),this}},h}),b("zrender/Element",["require","./core/guid","./mixin/Eventful","./mixin/Transformable","./mixin/Animatable","./core/util"],function(a){var b=a("./core/guid"),c=a("./mixin/Eventful"),d=a("./mixin/Transformable"),e=a("./mixin/Animatable"),f=a("./core/util"),g=function(a){d.call(this,a),c.call(this,a),e.call(this,a),this.id=a.id||b()};return g.prototype={type:"element",name:"",__zr:null,ignore:!1,clipPath:null,drift:function(a,b){switch(this.draggable){case"horizontal":b=0;break;case"vertical":a=0}var c=this.transform;c||(c=this.transform=[1,0,0,1,0,0]),c[4]+=a,c[5]+=b,this.decomposeTransform(),this.dirty()},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(){},attrKV:function(a,b){if("position"===a||"scale"===a||"origin"===a){if(b){var c=this[a];c||(c=this[a]=[]),c[0]=b[0],c[1]=b[1]}}else this[a]=b},hide:function(){this.ignore=!0,this.__zr&&this.__zr.refresh()},show:function(){this.ignore=!1,this.__zr&&this.__zr.refresh()},attr:function(a,b){if("string"==typeof a)this.attrKV(a,b);else if(f.isObject(a))for(var c in a)a.hasOwnProperty(c)&&this.attrKV(c,a[c]);return this.dirty(),this},setClipPath:function(a){var b=this.__zr;b&&a.addSelfToZr(b),this.clipPath&&this.clipPath!==a&&this.removeClipPath(),this.clipPath=a,a.__zr=b,a.__clipTarget=this,this.dirty()},removeClipPath:function(){var a=this.clipPath;a&&(a.__zr&&a.removeSelfFromZr(a.__zr),a.__zr=null,a.__clipTarget=null,this.clipPath=null,this.dirty())},addSelfToZr:function(a){var b,c;if(this.__zr=a,b=this.animators)for(c=0;c<b.length;c++)a.animation.addAnimator(b[c]);this.clipPath&&this.clipPath.addSelfToZr(a)},removeSelfFromZr:function(a){var b,c;if(this.__zr=null,b=this.animators)for(c=0;c<b.length;c++)a.animation.removeAnimator(b[c]);this.clipPath&&this.clipPath.removeSelfFromZr(a)}},f.mixin(g,e),f.mixin(g,d),f.mixin(g,c),g}),b("zrender/container/Group",["require","../core/util","../Element","../core/BoundingRect"],function(a){var b=a("../core/util"),c=a("../Element"),d=a("../core/BoundingRect"),e=function(a){a=a||{},c.call(this,a);for(var b in a)this[b]=a[b];this._children=[],this.__storage=null,this.__dirty=!0};return e.prototype={constructor:e,type:"group",children:function(){return this._children.slice()},childAt:function(a){return this._children[a]},childOfName:function(a){var c,b=this._children;for(c=0;c<b.length;c++)if(b[c].name===a)return b[c]},childCount:function(){return this._children.length},add:function(a){return a&&a!==this&&a.parent!==this&&(this._children.push(a),this._doAdd(a)),this},addBefore:function(a,b){var c,d;return a&&a!==this&&a.parent!==this&&b&&b.parent===this&&(c=this._children,d=c.indexOf(b),d>=0&&(c.splice(d,0,a),this._doAdd(a))),this},_doAdd:function(a){var b,c;a.parent&&a.parent.remove(a),a.parent=this,b=this.__storage,c=this.__zr,b&&b!==a.__storage&&(b.addToMap(a),a instanceof e&&a.addChildrenToStorage(b)),c&&c.refresh()},remove:function(a){var c=this.__zr,d=this.__storage,f=this._children,g=b.indexOf(f,a);return 0>g?this:(f.splice(g,1),a.parent=null,d&&(d.delFromMap(a.id),a instanceof e&&a.delChildrenFromStorage(d)),c&&c.refresh(),this)},removeAll:function(){var c,d,a=this._children,b=this.__storage;for(d=0;d<a.length;d++)c=a[d],b&&(b.delFromMap(c.id),c instanceof e&&c.delChildrenFromStorage(b)),c.parent=null;return a.length=0,this},eachChild:function(a,b){var d,e,c=this._children;for(d=0;d<c.length;d++)e=c[d],a.call(b,e,d);return this},traverse:function(a,b){var c,d;for(c=0;c<this._children.length;c++)d=this._children[c],a.call(b,d),"group"===d.type&&d.traverse(a,b);return this},addChildrenToStorage:function(a){var b,c;for(b=0;b<this._children.length;b++)c=this._children[b],a.addToMap(c),c instanceof e&&c.addChildrenToStorage(a)},delChildrenFromStorage:function(a){var b,c;for(b=0;b<this._children.length;b++)c=this._children[b],a.delFromMap(c.id),c instanceof e&&c.delChildrenFromStorage(a)},dirty:function(){return this.__dirty=!0,this.__zr&&this.__zr.refresh(),this},getBoundingRect:function(a){var g,h,i,j,b=null,c=new d(0,0,0,0),e=a||this._children,f=[];for(g=0;g<e.length;g++)h=e[g],h.ignore||h.invisible||(i=h.getBoundingRect(),j=h.getLocalTransform(f),j?(c.copy(i),c.applyTransform(j),b=b||c.clone(),b.union(c)):(b=b||i.clone(),b.union(i)));return b||c}},b.inherits(e,c),e}),b("echarts/view/Component",["require","zrender/container/Group","../util/component","../util/clazz"],function(a){var f,b=a("zrender/container/Group"),c=a("../util/component"),d=a("../util/clazz"),e=function(){this.group=new b,this.uid=c.getUID("viewComponent")};return e.prototype={constructor:e,init:function(){},render:function(){},dispose:function(){}},f=e.prototype,f.updateView=f.updateLayout=f.updateVisual=function(){},d.enableClassExtend(e),d.enableClassManagement(e,{registerWhenExtend:!0}),e}),b("echarts/view/Chart",["require","zrender/container/Group","../util/component","../util/clazz"],function(a){function e(){this.group=new b,this.uid=c.getUID("viewChart")}function g(a,b){if(a&&(a.trigger(b),"group"===a.type))for(var c=0;c<a.childCount();c++)g(a.childAt(c),b)}function h(a,b,c){var d,e;null!=b.dataIndex?(d=a.getItemGraphicEl(b.dataIndex),g(d,c)):b.name?(e=a.indexOfName(b.name),d=a.getItemGraphicEl(e),g(d,c)):a.eachItemGraphicEl(function(a){g(a,c)})}var f,b=a("zrender/container/Group"),c=a("../util/component"),d=a("../util/clazz");return e.prototype={type:"chart",init:function(){},render:function(){},highlight:function(a,b,c,d){h(a.getData(),d,"emphasis")},downplay:function(a,b,c,d){h(a.getData(),d,"normal")},remove:function(){this.group.removeAll()},dispose:function(){}},f=e.prototype,f.updateView=f.updateLayout=f.updateVisual=function(a,b,c,d){this.render(a,b,c,d)},d.enableClassExtend(e),d.enableClassManagement(e,{registerWhenExtend:!0}),e}),b("zrender/graphic/Style",["require"],function(){var d,e,f,b=["lineCap","lineJoin","miterLimit","shadowBlur","shadowOffsetX","shadowOffsetY","shadowColor"],c=function(a){this.extendFrom(a)};for(c.prototype={constructor:c,fill:"#000000",stroke:null,opacity:1,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,textFill:"#000",textStroke:null,textPosition:"inside",textBaseline:null,textAlign:null,textDistance:5,textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,bind:function(a,c){var f,g,h,d=this.fill,e=this.stroke;for(f=0;f<b.length;f++)g=b[f],null!=this[g]&&(a[g]=this[g]);null!=e&&(h=this.lineWidth,a.lineWidth=h/(this.strokeNoScale&&c&&c.getLineScale?c.getLineScale():1)),null!=d&&(a.fillStyle=d.canvasGradient?d.canvasGradient:d),null!=e&&(a.strokeStyle=e.canvasGradient?e.canvasGradient:e),null!=this.opacity&&(a.globalAlpha=this.opacity)},extendFrom:function(a,b){var c,d;if(a){c=this;for(d in a)!a.hasOwnProperty(d)||!b&&c.hasOwnProperty(d)||(c[d]=a[d])}},set:function(a,b){"string"==typeof a?this[a]=b:this.extendFrom(a,!0)},clone:function(){var a=new this.constructor;return a.extendFrom(this,!0),a}},d=c.prototype,f=0;f<b.length;f++)e=b[f],e in d||(d[e]=null);return c}),b("zrender/graphic/mixin/RectText",["require","../../contain/text","../../core/BoundingRect"],function(a){function f(a,b){return"string"==typeof a?a.lastIndexOf("%")>=0?parseFloat(a)/100*b:parseFloat(a):a}function g(a,b){a.transform(b[0],b[1],b[2],b[3],b[4],b[5])}var b=a("../../contain/text"),c=a("../../core/BoundingRect"),d=new c,e=function(){};return e.prototype={constructor:e,drawRectText:function(a,c,e){var j,k,l,m,n,o,p,q,r,s,t,u,v,w,h=this.style,i=h.text;if(null!=i&&(i+=""),i){for(l=h.textPosition,m=h.textDistance,n=h.textAlign,o=h.textFont||h.font,p=h.textBaseline,e=e||b.getBoundingRect(i,o,n,p),q=this.transform,r=this.invTransform,q&&(d.copy(c),d.applyTransform(q),c=d,g(a,r)),l instanceof Array?(j=c.x+f(l[0],c.width),k=c.y+f(l[1],c.height),n=n||"left",p=p||"top"):(s=b.adjustTextPositionOnRect(l,c,e,m),j=s.x,k=s.y,n=n||s.textAlign,p=p||s.textBaseline),a.textAlign=n,a.textBaseline=p,t=h.textFill,u=h.textStroke,t&&(a.fillStyle=t),u&&(a.strokeStyle=u),a.font=o,a.shadowColor=h.textShadowColor,a.shadowBlur=h.textShadowBlur,a.shadowOffsetX=h.textShadowOffsetX,a.shadowOffsetY=h.textShadowOffsetY,v=i.split("\n"),w=0;w<v.length;w++)t&&a.fillText(v[w],j,k),u&&a.strokeText(v[w],j,k),k+=e.lineHeight;
q&&g(a,q)}}},e}),b("zrender/graphic/Displayable",["require","../core/util","./Style","../Element","./mixin/RectText"],function(a){function f(a){a=a||{},d.call(this,a);for(var b in a)a.hasOwnProperty(b)&&"style"!==b&&(this[b]=a[b]);this.style=new c(a.style),this._rect=null,this.__clipPaths=[]}var b=a("../core/util"),c=a("./Style"),d=a("../Element"),e=a("./mixin/RectText");return f.prototype={constructor:f,type:"displayable",__dirty:!0,invisible:!1,z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:"pointer",rectHover:!1,beforeBrush:function(){},afterBrush:function(){},brush:function(){},getBoundingRect:function(){},contain:function(a,b){return this.rectContain(a,b)},traverse:function(a,b){a.call(b,this)},rectContain:function(a,b){var c=this.transformCoordToLocal(a,b),d=this.getBoundingRect();return d.contain(c[0],c[1])},dirty:function(){this.__dirty=!0,this._rect=null,this.__zr&&this.__zr.refresh()},animateStyle:function(a){return this.animate("style",a)},attrKV:function(a,b){"style"!==a?d.prototype.attrKV.call(this,a,b):this.style.set(b)},setStyle:function(a,b){return this.style.set(a,b),this.dirty(),this}},b.inherits(f,d),b.mixin(f,e),f}),b("zrender/core/curve",["require","./vector"],function(a){function m(a){return a>-g&&g>a}function n(a){return a>g||-g>a}function o(a,b,c,d,e){var f=1-e;return f*f*(f*a+3*e*b)+e*e*(e*d+3*f*c)}function p(a,b,c,d,e){var f=1-e;return 3*(((b-a)*f+2*(c-b)*e)*f+(d-c)*e*e)}function q(a,b,c,d,g,j){var t,u,v,w,x,y,z,A,B,C,D,E,k=d+3*(b-c)-a,l=3*(c-2*b+a),n=3*(b-a),o=a-g,p=l*l-3*k*n,q=l*n-9*k*o,r=n*n-3*l*o,s=0;return m(p)&&m(q)?m(l)?j[0]=0:(t=-n/l,t>=0&&1>=t&&(j[s++]=t)):(u=q*q-4*p*r,m(u)?(v=q/p,t=-l/k+v,w=-v/2,t>=0&&1>=t&&(j[s++]=t),w>=0&&1>=w&&(j[s++]=w)):u>0?(x=f(u),y=p*l+1.5*k*(-q+x),z=p*l+1.5*k*(-q-x),y=0>y?-e(-y,i):e(y,i),z=0>z?-e(-z,i):e(z,i),t=(-l-(y+z))/(3*k),t>=0&&1>=t&&(j[s++]=t)):(A=(2*p*l-3*k*q)/(2*f(p*p*p)),B=Math.acos(A)/3,C=f(p),D=Math.cos(B),t=(-l-2*C*D)/(3*k),w=(-l+C*(D+h*Math.sin(B)))/(3*k),E=(-l+C*(D-h*Math.sin(B)))/(3*k),t>=0&&1>=t&&(j[s++]=t),w>=0&&1>=w&&(j[s++]=w),E>=0&&1>=E&&(j[s++]=E))),s}function r(a,b,c,d,e){var k,l,o,p,g=6*c-12*b+6*a,h=9*b+3*d-3*a-9*c,i=3*b-3*a,j=0;return m(h)?n(g)&&(k=-i/g,k>=0&&1>=k&&(e[j++]=k)):(l=g*g-4*h*i,m(l)?e[0]=-g/(2*h):l>0&&(o=f(l),k=(-g+o)/(2*h),p=(-g-o)/(2*h),k>=0&&1>=k&&(e[j++]=k),p>=0&&1>=p&&(e[j++]=p))),j}function s(a,b,c,d,e,f){var g=(b-a)*e+a,h=(c-b)*e+b,i=(d-c)*e+c,j=(h-g)*e+g,k=(i-h)*e+h,l=(k-j)*e+j;f[0]=a,f[1]=g,f[2]=j,f[3]=l,f[4]=l,f[5]=k,f[6]=i,f[7]=d}function t(a,b,c,e,h,i,m,n,p,q,r){var s,v,w,x,y,z,A,t=.005,u=1/0;for(j[0]=p,j[1]=q,z=0;1>z;z+=.05)k[0]=o(a,c,h,m,z),k[1]=o(b,e,i,n,z),x=d(j,k),u>x&&(s=z,u=x);for(u=1/0,A=0;32>A&&!(g>t);A++)v=s-t,w=s+t,k[0]=o(a,c,h,m,v),k[1]=o(b,e,i,n,v),x=d(k,j),v>=0&&u>x?(s=v,u=x):(l[0]=o(a,c,h,m,w),l[1]=o(b,e,i,n,w),y=d(l,j),1>=w&&u>y?(s=w,u=y):t*=.5);return r&&(r[0]=o(a,c,h,m,s),r[1]=o(b,e,i,n,s)),f(u)}function u(a,b,c,d){var e=1-d;return e*(e*a+2*d*b)+d*d*c}function v(a,b,c,d){return 2*((1-d)*(b-a)+d*(c-b))}function w(a,b,c,d,e){var k,l,o,p,g=a-2*b+c,h=2*(b-a),i=a-d,j=0;return m(g)?n(h)&&(k=-i/h,k>=0&&1>=k&&(e[j++]=k)):(l=h*h-4*g*i,m(l)?(k=-h/(2*g),k>=0&&1>=k&&(e[j++]=k)):l>0&&(o=f(l),k=(-h+o)/(2*g),p=(-h-o)/(2*g),k>=0&&1>=k&&(e[j++]=k),p>=0&&1>=p&&(e[j++]=p))),j}function x(a,b,c){var d=a+c-2*b;return 0===d?.5:(a-b)/d}function y(a,b,c,d,e){var f=(b-a)*d+a,g=(c-b)*d+b,h=(g-f)*d+f;e[0]=a,e[1]=f,e[2]=h,e[3]=h,e[4]=g,e[5]=c}function z(a,b,c,e,h,i,m,n,o){var p,s,t,v,w,x,y,q=.005,r=1/0;for(j[0]=m,j[1]=n,s=0;1>s;s+=.05)k[0]=u(a,c,h,s),k[1]=u(b,e,i,s),t=d(j,k),r>t&&(p=s,r=t);for(r=1/0,v=0;32>v&&!(g>q);v++)w=p-q,x=p+q,k[0]=u(a,c,h,w),k[1]=u(b,e,i,w),t=d(k,j),w>=0&&r>t?(p=w,r=t):(l[0]=u(a,c,h,x),l[1]=u(b,e,i,x),y=d(l,j),1>=x&&r>y?(p=x,r=y):q*=.5);return o&&(o[0]=u(a,c,h,p),o[1]=u(b,e,i,p)),f(r)}var b=a("./vector"),c=b.create,d=b.distSquare,e=Math.pow,f=Math.sqrt,g=1e-4,h=f(3),i=1/3,j=c(),k=c(),l=c();return{cubicAt:o,cubicDerivativeAt:p,cubicRootAt:q,cubicExtrema:r,cubicSubdivide:s,cubicProjectPoint:t,quadraticAt:u,quadraticDerivativeAt:v,quadraticRootAt:w,quadraticExtremum:x,quadraticSubdivide:y,quadraticProjectPoint:z}}),b("zrender/core/bbox",["require","./vector","./curve"],function(a){var b=a("./vector"),c=a("./curve"),d={},e=Math.min,f=Math.max,g=Math.sin,h=Math.cos,i=b.create(),j=b.create(),k=b.create(),l=2*Math.PI;return d.fromPoints=function(a,b,c){var d,g,h,i,j,k;if(0!==a.length){for(d=a[0],g=d[0],h=d[0],i=d[1],j=d[1],k=1;k<a.length;k++)d=a[k],g=e(g,d[0]),h=f(h,d[0]),i=e(i,d[1]),j=f(j,d[1]);b[0]=g,b[1]=i,c[0]=h,c[1]=j}},d.fromLine=function(a,b,c,d,g,h){g[0]=e(a,c),g[1]=e(b,d),h[0]=f(a,c),h[1]=f(b,d)},d.fromCubic=function(a,b,d,g,h,i,j,k,l,m){var r,s,t,u,v,n=[],o=[],p=c.cubicExtrema,q=c.cubicAt,w=p(a,d,h,j,n);for(v=0;w>v;v++)n[v]=q(a,d,h,j,n[v]);for(w=p(b,g,i,k,o),v=0;w>v;v++)o[v]=q(b,g,i,k,o[v]);n.push(a,j),o.push(b,k),r=e.apply(null,n),s=f.apply(null,n),t=e.apply(null,o),u=f.apply(null,o),l[0]=r,l[1]=t,m[0]=s,m[1]=u},d.fromQuadratic=function(a,b,d,g,h,i,j,k){var l=c.quadraticExtremum,m=c.quadraticAt,n=f(e(l(a,d,h),1),0),o=f(e(l(b,g,i),1),0),p=m(a,d,h,n),q=m(b,g,i,o);j[0]=e(a,h,p),j[1]=e(b,i,q),k[0]=f(a,h,p),k[1]=f(b,i,q)},d.fromArc=function(a,c,d,e,f,m,n,o,p){var t,u,q=b.min,r=b.max,s=Math.abs(f-m);if(1e-4>s%l&&s>1e-4)return o[0]=a-d,o[1]=c-e,p[0]=a+d,p[1]=c+e,void 0;for(i[0]=h(f)*d+a,i[1]=g(f)*e+c,j[0]=h(m)*d+a,j[1]=g(m)*e+c,q(o,i,j),r(p,i,j),f%=l,0>f&&(f+=l),m%=l,0>m&&(m+=l),f>m&&!n?m+=l:m>f&&n&&(f+=l),n&&(t=m,m=f,f=t),u=0;m>u;u+=Math.PI/2)u>f&&(k[0]=h(u)*d+a,k[1]=g(u)*e+c,q(o,k,o),r(p,k,p))},d}),b("zrender/core/PathProxy",["require","./curve","./vector","./bbox","./BoundingRect"],function(a){var b=a("./curve"),c=a("./vector"),d=a("./bbox"),e=a("./BoundingRect"),f={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},g=[],h=[],i=[],j=[],k=Math.min,l=Math.max,m=Math.cos,n=Math.sin,o=Math.sqrt,p="undefined"!=typeof Float32Array,q=function(){this.data=[],this._len=0,this._ctx=null,this._xi=0,this._yi=0,this._x0=0,this._y0=0};return q.prototype={constructor:q,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,getContext:function(){return this._ctx},beginPath:function(a){return this._ctx=a,a&&a.beginPath(),this._len=0,this._lineDash&&(this._lineDash=null,this._dashOffset=0),this},moveTo:function(a,b){return this.addData(f.M,a,b),this._ctx&&this._ctx.moveTo(a,b),this._x0=a,this._y0=b,this._xi=a,this._yi=b,this},lineTo:function(a,b){return this.addData(f.L,a,b),this._ctx&&(this._needsDash()?this._dashedLineTo(a,b):this._ctx.lineTo(a,b)),this._xi=a,this._yi=b,this},bezierCurveTo:function(a,b,c,d,e,g){return this.addData(f.C,a,b,c,d,e,g),this._ctx&&(this._needsDash()?this._dashedBezierTo(a,b,c,d,e,g):this._ctx.bezierCurveTo(a,b,c,d,e,g)),this._xi=e,this._yi=g,this},quadraticCurveTo:function(a,b,c,d){return this.addData(f.Q,a,b,c,d),this._ctx&&(this._needsDash()?this._dashedQuadraticTo(a,b,c,d):this._ctx.quadraticCurveTo(a,b,c,d)),this._xi=c,this._yi=d,this},arc:function(a,b,c,d,e,g){return this.addData(f.A,a,b,c,c,d,e-d,0,g?0:1),this._ctx&&this._ctx.arc(a,b,c,d,e,g),this._xi=m(e)*c+a,this._xi=n(e)*c+a,this},arcTo:function(a,b,c,d,e){return this._ctx&&this._ctx.arcTo(a,b,c,d,e),this},rect:function(a,b,c,d){return this._ctx&&this._ctx.rect(a,b,c,d),this.addData(f.R,a,b,c,d),this},closePath:function(){var a,b,c;return this.addData(f.Z),a=this._ctx,b=this._x0,c=this._y0,a&&(this._needsDash()&&this._dashedLineTo(b,c),a.closePath()),this._xi=b,this._yi=c,this},fill:function(a){a&&a.fill(),this.toStatic()},stroke:function(a){a&&a.stroke(),this.toStatic()},setLineDash:function(a){var b,c;if(a instanceof Array){for(this._lineDash=a,this._dashIdx=0,b=0,c=0;c<a.length;c++)b+=a[c];this._dashSum=b}return this},setLineDashOffset:function(a){return this._dashOffset=a,this},len:function(){return this._len},setData:function(a){var c,b=a.length;for(this.data&&this.data.length==b||!p||(this.data=new Float32Array(b)),c=0;b>c;c++)this.data[c]=a[c];this._len=b},appendPath:function(a){var b,c,d,e,f,g;for(a instanceof Array||(a=[a]),b=a.length,c=0,d=this._len,e=0;b>e;e++)c+=a[e].len();for(p&&this.data instanceof Float32Array&&(this.data=new Float32Array(d+c)),e=0;b>e;e++)for(f=a[e].data,g=0;g<f.length;g++)this.data[d++]=f[g];this._len=d},addData:function(a){var c,b=this.data;for(this._len+arguments.length>b.length&&(this._expandData(),b=this.data),c=0;c<arguments.length;c++)b[this._len++]=arguments[c];this._prevCmd=a},_expandData:function(){var a,b;if(!(this.data instanceof Array)){for(a=[],b=0;b<this._len;b++)a[b]=this.data[b];this.data=a}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(a,b){var q,s,c=this._dashSum,d=this._dashOffset,e=this._lineDash,f=this._ctx,g=this._xi,h=this._yi,i=a-g,j=b-h,m=o(i*i+j*j),n=g,p=h,r=e.length;for(i/=m,j/=m,0>d&&(d=c+d),d%=c,n-=d*i,p-=d*j;i>=0&&a>=n||0>i&&n>a;)s=this._dashIdx,q=e[s],n+=i*q,p+=j*q,this._dashIdx=(s+1)%r,i>0&&g>n||0>i&&n>g||f[s%2?"moveTo":"lineTo"](i>=0?k(n,a):l(n,a),j>=0?k(p,b):l(p,b));i=n-a,j=p-b,this._dashOffset=-o(i*i+j*j)},_dashedBezierTo:function(a,c,d,e,f,g){var n,p,q,v,w,h=this._dashSum,i=this._dashOffset,j=this._lineDash,k=this._ctx,l=this._xi,m=this._yi,r=b.cubicAt,s=0,t=this._dashIdx,u=j.length,x=0;for(0>i&&(i=h+i),i%=h,n=0;1>n;n+=.1)p=r(l,a,d,f,n+.1)-r(l,a,d,f,n),q=r(m,c,e,g,n+.1)-r(m,c,e,g,n),s+=o(p*p+q*q);for(;u>t&&(x+=j[t],!(x>i));t++);for(n=(x-i)/s;1>=n;)v=r(l,a,d,f,n),w=r(m,c,e,g,n),t%2?k.moveTo(v,w):k.lineTo(v,w),n+=j[t]/s,t=(t+1)%u;0!==t%2&&k.lineTo(f,g),p=f-v,q=g-w,this._dashOffset=-o(p*p+q*q)},_dashedQuadraticTo:function(a,b,c,d){var e=c,f=d;c=(c+2*a)/3,d=(d+2*b)/3,a=(this._xi+2*a)/3,b=(this._yi+2*b)/3,this._dashedBezierTo(a,b,c,d,e,f)},toStatic:function(){this.data.length=this._len,p&&this.data instanceof Array&&(this.data=new Float32Array(this.data))},getBoundingRect:function(){var a,b,k,l,o,p,q,r,s,t,u,v,w,y,z,A;for(g[0]=g[1]=i[0]=i[1]=Number.MAX_VALUE,h[0]=h[1]=j[0]=j[1]=-Number.MAX_VALUE,a=this.data,b=0,k=0,l=0,o=0,p=0;p<a.length;){switch(q=a[p++],1==p&&(b=a[p],k=a[p+1],l=b,o=k),q){case f.M:l=a[p++],o=a[p++],b=l,k=o,i[0]=l,i[1]=o,j[0]=l,j[1]=o;break;case f.L:d.fromLine(b,k,a[p],a[p+1],i,j),b=a[p++],k=a[p++];break;case f.C:d.fromCubic(b,k,a[p++],a[p++],a[p++],a[p++],a[p],a[p+1],i,j),b=a[p++],k=a[p++];break;case f.Q:d.fromQuadratic(b,k,a[p++],a[p++],a[p],a[p+1],i,j),b=a[p++],k=a[p++];break;case f.A:r=a[p++],s=a[p++],t=a[p++],u=a[p++],v=a[p++],w=a[p++]+v,a[p++],y=1-a[p++],1==p&&(l=m(v)*t+r,o=n(v)*u+s),d.fromArc(r,s,t,u,v,w,y,i,j),b=m(w)*t+r,k=n(w)*u+s;break;case f.R:l=b=a[p++],o=k=a[p++],z=a[p++],A=a[p++],d.fromLine(l,o,l+z,o+A,i,j);break;case f.Z:b=l,k=o}c.min(g,g,i),c.max(h,h,j)}return 0===p&&(g[0]=g[1]=h[0]=h[1]=0),new e(g[0],g[1],h[0]-g[0],h[1]-g[1])},rebuildPath:function(a){var c,d,e,g,h,i,j,k,l,m,n,o,p,q,b=this.data;for(c=0;c<this._len;)switch(d=b[c++]){case f.M:a.moveTo(b[c++],b[c++]);break;case f.L:a.lineTo(b[c++],b[c++]);break;case f.C:a.bezierCurveTo(b[c++],b[c++],b[c++],b[c++],b[c++],b[c++]);break;case f.Q:a.quadraticCurveTo(b[c++],b[c++],b[c++],b[c++]);break;case f.A:e=b[c++],g=b[c++],h=b[c++],i=b[c++],j=b[c++],k=b[c++],l=b[c++],m=b[c++],n=h>i?h:i,o=h>i?1:h/i,p=h>i?i/h:1,q=Math.abs(h-i)>.001,q?(a.translate(e,g),a.rotate(l),a.scale(o,p),a.arc(0,0,n,j,j+k,1-m),a.scale(1/o,1/p),a.rotate(-l),a.translate(-e,-g)):a.arc(e,g,n,j,j+k,1-m);break;case f.R:a.rect(b[c++],b[c++],b[c++],b[c++]);break;case f.Z:a.closePath()}}},q.CMD=f,q}),b("zrender/contain/line",[],function(){return{containStroke:function(a,b,c,d,e,f,g){var h,i,j,k,l;return 0===e?!1:(h=e,i=0,j=a,g>b+h&&g>d+h||b-h>g&&d-h>g||f>a+h&&f>c+h||a-h>f&&c-h>f?!1:a===c?Math.abs(f-a)<=h/2:(i=(b-d)/(a-c),j=(a*d-c*b)/(a-c),k=i*f-g+j,l=k*k/(i*i+1),h/2*h/2>=l))}}}),b("zrender/contain/cubic",["require","../core/curve"],function(a){var b=a("../core/curve");return{containStroke:function(a,c,d,e,f,g,h,i,j,k,l){var m,n;return 0===j?!1:(m=j,l>c+m&&l>e+m&&l>g+m&&l>i+m||c-m>l&&e-m>l&&g-m>l&&i-m>l||k>a+m&&k>d+m&&k>f+m&&k>h+m||a-m>k&&d-m>k&&f-m>k&&h-m>k?!1:(n=b.cubicProjectPoint(a,c,d,e,f,g,h,i,k,l,null),m/2>=n))}}}),b("zrender/contain/quadratic",["require","../core/curve"],function(a){var b=a("../core/curve");return{containStroke:function(a,c,d,e,f,g,h,i,j){var k,l;return 0===h?!1:(k=h,j>c+k&&j>e+k&&j>g+k||c-k>j&&e-k>j&&g-k>j||i>a+k&&i>d+k&&i>f+k||a-k>i&&d-k>i&&f-k>i?!1:(l=b.quadraticProjectPoint(a,c,d,e,f,g,i,j,null),k/2>=l))}}}),b("zrender/contain/util",["require"],function(){var b=2*Math.PI;return{normalizeRadian:function(a){return a%=b,0>a&&(a+=b),a}}}),b("zrender/contain/arc",["require","./util"],function(a){var b=a("./util").normalizeRadian,c=2*Math.PI;return{containStroke:function(a,d,e,f,g,h,i,j,k){var l,m,n,o;return 0===i?!1:(l=i,j-=a,k-=d,m=Math.sqrt(j*j+k*k),m-l>e||e>m+l?!1:Math.abs(f-g)%c<1e-4?!0:(h?(n=f,f=b(g),g=b(n)):(f=b(f),g=b(g)),f>g&&(g+=c),o=Math.atan2(k,j),0>o&&(o+=c),o>=f&&g>=o||o+c>=f&&g>=o+c))}}}),b("zrender/contain/windingLine",[],function(){return function(a,b,c,d,e,f){var g,h,i;return f>b&&f>d||b>f&&d>f?0:d===b?0:(g=b>d?1:-1,h=(f-b)/(d-b),i=h*(c-a)+a,i>e?g:0)}}),b("zrender/contain/path",["require","../core/PathProxy","./line","./cubic","./quadratic","./arc","./util","../core/curve","./windingLine"],function(a){function m(a,b){return Math.abs(a-b)<l}function p(){var a=o[0];o[0]=o[1],o[1]=a}function q(a,b,c,d,e,f,g,i,j,k){var l,m,q,r,s,t,u,v;if(k>b&&k>d&&k>f&&k>i||b>k&&d>k&&f>k&&i>k)return 0;if(l=h.cubicRootAt(b,d,f,i,k,n),0===l)return 0;for(m=0,q=-1,t=0;l>t;t++)u=n[t],v=h.cubicAt(a,c,e,g,u),j>v||(0>q&&(q=h.cubicExtrema(b,d,f,i,o),o[1]<o[0]&&q>1&&p(),r=h.cubicAt(b,d,f,i,o[0]),q>1&&(s=h.cubicAt(b,d,f,i,o[1]))),m+=2==q?u<o[0]?b>r?1:-1:u<o[1]?r>s?1:-1:s>i?1:-1:u<o[0]?b>r?1:-1:r>i?1:-1);return m}function r(a,b,c,d,e,f,g,i){var j,k,l,m,o,p;if(i>b&&i>d&&i>f||b>i&&d>i&&f>i)return 0;if(j=h.quadraticRootAt(b,d,f,i,n),0===j)return 0;if(k=h.quadraticExtremum(b,d,f),k>=0&&1>=k){for(l=0,m=h.quadraticAt(b,d,f,k),o=0;j>o;o++)p=h.quadraticAt(a,c,e,n[o]),p>g||(l+=n[o]<k?b>m?1:-1:m>f?1:-1);return l}return p=h.quadraticAt(a,c,e,n[0]),p>g?0:b>f?1:-1}function s(a,b,c,d,e,f,h,i){var j,l,m,o,p,q,r;if(i-=b,i>c||-c>i)return 0;if(j=Math.sqrt(c*c-i*i),n[0]=-j,n[1]=j,l=Math.abs(d-e),1e-4>l)return 0;if(1e-4>l%k)return d=0,e=k,m=f?1:-1,h>=n[0]+a&&h<=n[1]+a?m:0;for(f?(j=d,d=g(e),e=g(j)):(d=g(d),e=g(e)),d>e&&(e+=k),o=0,p=0;2>p;p++)q=n[p],q+a>h&&(r=Math.atan2(i,q),m=f?1:-1,0>r&&(r=k+r),(r>=d&&e>=r||r+k>=d&&e>=r+k)&&(r>Math.PI/2&&r<1.5*Math.PI&&(m=-m),o+=m));return o}function t(a,c,g,h,k){var u,v,w,x,y,z,A,B,D,E,F,G,H,I,l=0,n=0,o=0,p=0,t=0;for(u=0;u<a.length;){if(v=a[u++],v===b.M&&u>1&&(g||(l+=i(n,o,p,t,h,k)),0!==l))return!0;switch(1==u&&(n=a[u],o=a[u+1],p=n,t=o),v){case b.M:p=a[u++],t=a[u++],n=p,o=t;break;case b.L:if(g){if(j(n,o,a[u],a[u+1],c,h,k))return!0}else l+=i(n,o,a[u],a[u+1],h,k)||0;n=a[u++],o=a[u++];break;case b.C:if(g){if(d.containStroke(n,o,a[u++],a[u++],a[u++],a[u++],a[u],a[u+1],c,h,k))return!0}else l+=q(n,o,a[u++],a[u++],a[u++],a[u++],a[u],a[u+1],h,k)||0;n=a[u++],o=a[u++];break;case b.Q:if(g){if(e.containStroke(n,o,a[u++],a[u++],a[u],a[u+1],c,h,k))return!0}else l+=r(n,o,a[u++],a[u++],a[u],a[u+1],h,k)||0;n=a[u++],o=a[u++];break;case b.A:if(w=a[u++],x=a[u++],y=a[u++],z=a[u++],A=a[u++],B=a[u++],a[u++],D=1-a[u++],E=Math.cos(A)*y+w,F=Math.sin(A)*z+x,u>1?l+=i(n,o,E,F,h,k):(p=E,t=F),G=(h-w)*z/y+w,g){if(f.containStroke(w,x,z,A,A+B,D,c,G,k))return!0}else l+=s(w,x,z,A,A+B,D,G,k);n=Math.cos(A+B)*y+w,o=Math.sin(A+B)*z+x;break;case b.R:if(p=n=a[u++],t=o=a[u++],H=a[u++],I=a[u++],E=p+H,F=t+I,g){if(j(p,t,E,t,c,h,k)||j(E,t,E,F,c,h,k)||j(E,F,p,F,c,h,k)||j(p,F,E,F,c,h,k))return!0}else l+=i(E,t,E,F,h,k),l+=i(p,F,p,t,h,k);break;case b.Z:if(g){if(j(n,o,p,t,c,h,k))return!0}else if(l+=i(n,o,p,t,h,k),0!==l)return!0;n=p,o=t}}return g||m(o,t)||(l+=i(n,o,p,t,h,k)||0),0!==l}var b=a("../core/PathProxy").CMD,c=a("./line"),d=a("./cubic"),e=a("./quadratic"),f=a("./arc"),g=a("./util").normalizeRadian,h=a("../core/curve"),i=a("./windingLine"),j=c.containStroke,k=2*Math.PI,l=1e-4,n=[-1,-1,-1],o=[-1,-1];return{contain:function(a,b,c){return t(a,0,!1,b,c)},containStroke:function(a,b,c,d){return t(a,b,!0,c,d)}}}),b("zrender/graphic/Path",["require","./Displayable","../core/util","../core/PathProxy","../contain/path","./Gradient"],function(a){function g(a){var b=a.fill;return null!=b&&"none"!==b}function h(a){var b=a.stroke;return null!=b&&"none"!==b&&a.lineWidth>0}function j(a){b.call(this,a),this.path=new d}var b=a("./Displayable"),c=a("../core/util"),d=a("../core/PathProxy"),e=a("../contain/path"),f=a("./Gradient"),i=Math.abs;return j.prototype={constructor:j,type:"path",__dirtyPath:!0,strokeContainThreshold:5,brush:function(a){var b,c,d,e,i,j,k;a.save(),b=this.style,c=this.path,d=h(b),e=g(b),this.__dirtyPath&&(e&&b.fill instanceof f&&b.fill.updateCanvasGradient(this,a),d&&b.stroke instanceof f&&b.stroke.updateCanvasGradient(this,a)),b.bind(a,this),this.setTransform(a),i=b.lineDash,j=b.lineDashOffset,k=!!a.setLineDash,this.__dirtyPath||i&&!k&&d?(c=this.path.beginPath(a),i&&!k&&(c.setLineDash(i),c.setLineDashOffset(j)),this.buildPath(c,this.shape),this.__dirtyPath=!1):(a.beginPath(),this.path.rebuildPath(a)),e&&c.fill(a),i&&k&&(a.setLineDash(i),a.lineDashOffset=j),d&&c.stroke(a),null!=b.text&&this.drawRectText(a,this.getBoundingRect()),a.restore()},buildPath:function(){},getBoundingRect:function(){var c,d,e,f,a=this._rect,b=this.style;return a||(c=this.path,this.__dirtyPath&&(c.beginPath(),this.buildPath(c,this.shape)),a=c.getBoundingRect()),!h(b)||!this.__dirty&&this._rect?(this._rect=a,a):(d=this._rectWithStroke||(this._rectWithStroke=a.clone()),d.copy(a),e=b.lineWidth,f=b.strokeNoScale?this.getLineScale():1,e=Math.max(e,this.strokeContainThreshold),f>1e-10&&(d.width+=e/f,d.height+=e/f,d.x-=e/f/2,d.y-=e/f/2),d)},contain:function(a,b){var i,j,k,c=this.transformCoordToLocal(a,b),d=this.getBoundingRect(),f=this.style;if(a=c[0],b=c[1],d.contain(a,b)){if(i=this.path.data,h(f)){if(j=f.lineWidth,k=f.strokeNoScale?this.getLineScale():1,1e-10>k)return!1;if(j=Math.max(j,this.strokeContainThreshold),e.containStroke(i,j/k,a,b))return!0}if(g(f))return e.contain(i,a,b)}return!1},dirty:function(a){0===arguments.length&&(a=!0),a&&(this.__dirtyPath=a,this._rect=null),this.__dirty=!0,this.__zr&&this.__zr.refresh(),this.__clipTarget&&this.__clipTarget.dirty()},animateShape:function(a){return this.animate("shape",a)},attrKV:function(a,c){"shape"===a?this.setShape(c):b.prototype.attrKV.call(this,a,c)},setShape:function(a,b){var e,d=this.shape;if(d){if(c.isObject(a))for(e in a)d[e]=a[e];else d[a]=b;this.dirty(!0)}return this},getLineScale:function(){var a=this.transform;return a&&i(a[0]-1)>1e-10&&i(a[3]-1)>1e-10?Math.sqrt(i(a[0]*a[3]-a[2]*a[1])):1}},j.extend=function(a){var d,b=function(b){var c,d,e;if(j.call(this,b),a.style&&this.style.extendFrom(a.style,!1),c=a.shape){this.shape=this.shape||{},d=this.shape;for(e in c)!d.hasOwnProperty(e)&&c.hasOwnProperty(e)&&(d[e]=c[e])}a.init&&a.init.call(this,b)};c.inherits(b,j);for(d in a)"style"!==d&&"shape"!==d&&(b.prototype[d]=a[d]);return b},c.inherits(j,b),j}),b("zrender/tool/transformPath",["require","../core/PathProxy","../core/vector"],function(a){function h(a,c){var i,j,k,l,m,t,u,v,w,x,z,h=a.data,n=b.M,o=b.C,p=b.L,q=b.R,r=b.A,s=b.Q;for(k=0,l=0;k<h.length;){switch(i=h[k++],l=k,j=0,i){case n:j=1;break;case p:j=1;break;case o:j=3;break;case s:j=2;break;case r:t=c[4],u=c[5],v=f(c[0]*c[0]+c[1]*c[1]),w=f(c[2]*c[2]+c[3]*c[3]),x=g(-c[1]/w,c[0]/v),h[k+7],h[k++]+=t,h[k++]+=u,h[k++]*=v,h[k++]*=w,h[k++]+=x,h[k++]+=x,k+=2,l=k;break;case q:z[0]=h[k++],z[1]=h[k++],d(z,z,c),h[l++]=z[0],h[l++]=z[1],z[0]+=h[k++],z[1]+=h[k++],d(z,z,c),h[l++]=z[0],h[l++]=z[1]}for(m=0;j>m;m++)z=e[m],z[0]=h[k++],z[1]=h[k++],d(z,z,c),h[l++]=z[0],h[l++]=z[1]}}var b=a("../core/PathProxy").CMD,c=a("../core/vector"),d=c.applyTransform,e=[[],[],[]],f=Math.sqrt,g=Math.atan2;return h}),b("zrender/tool/path",["require","../graphic/Path","../core/PathProxy","./transformPath","../core/matrix"],function(a){function n(a,b,c,d,e,f,k,n,o,p,q){var v,w,x,y,z,A,B,C,D,r=o*(j/180),s=i(r)*(a-c)/2+h(r)*(b-d)/2,t=-1*h(r)*(a-c)/2+i(r)*(b-d)/2,u=s*s/(k*k)+t*t/(n*n);u>1&&(k*=g(u),n*=g(u)),v=(e===f?-1:1)*g((k*k*n*n-k*k*t*t-n*n*s*s)/(k*k*t*t+n*n*s*s))||0,w=v*k*t/n,x=v*-n*s/k,y=(a+c)/2+i(r)*w-h(r)*x,z=(b+d)/2+h(r)*w+i(r)*x,A=m([1,0],[(s-w)/k,(t-x)/n]),B=[(s-w)/k,(t-x)/n],C=[(-1*s-w)/k,(-1*t-x)/n],D=m(B,C),l(B,C)<=-1&&(D=j),l(B,C)>=1&&(D=0),0===f&&D>0&&(D-=2*j),1===f&&0>D&&(D+=2*j),q.addData(p,y,z,k,n,A,D,r,f)}function o(a){var b,d,e,h,i,j,k,l,m,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D;if(!a)return[];for(b=a.replace(/-/g," -").replace(/  /g," ").replace(/ /g,",").replace(/,,/g,","),d=0;d<f.length;d++)b=b.replace(new RegExp(f[d],"g"),"|"+f[d]);for(e=b.split("|"),h=0,i=0,j=new c,k=c.CMD,d=1;d<e.length;d++){for(m=e[d],o=m.charAt(0),p=0,q=m.slice(1).replace(/e,-/g,"e-").split(","),q.length>0&&""===q[0]&&q.shift(),s=0;s<q.length;s++)q[s]=parseFloat(q[s]);for(;p<q.length&&!isNaN(q[p])&&!isNaN(q[0]);)switch(A=h,B=i,o){case"l":h+=q[p++],i+=q[p++],r=k.L,j.addData(r,h,i);break;case"L":h=q[p++],i=q[p++],r=k.L,j.addData(r,h,i);break;case"m":h+=q[p++],i+=q[p++],r=k.M,j.addData(r,h,i),o="l";break;case"M":h=q[p++],i=q[p++],r=k.M,j.addData(r,h,i),o="L";break;case"h":h+=q[p++],r=k.L,j.addData(r,h,i);break;case"H":h=q[p++],r=k.L,j.addData(r,h,i);break;case"v":i+=q[p++],r=k.L,j.addData(r,h,i);break;case"V":i=q[p++],r=k.L,j.addData(r,h,i);break;case"C":r=k.C,j.addData(r,q[p++],q[p++],q[p++],q[p++],q[p++],q[p++]),h=q[p-2],i=q[p-1];break;case"c":r=k.C,j.addData(r,q[p++]+h,q[p++]+i,q[p++]+h,q[p++]+i,q[p++]+h,q[p++]+i),h+=q[p-2],i+=q[p-1];break;case"S":t=h,u=i,C=j.len(),D=j.data,l===k.C&&(t+=h-D[C-4],u+=i-D[C-3]),r=k.C,A=q[p++],B=q[p++],h=q[p++],i=q[p++],j.addData(r,t,u,A,B,h,i);break;case"s":t=h,u=i,C=j.len(),D=j.data,l===k.C&&(t+=h-D[C-4],u+=i-D[C-3]),r=k.C,A=h+q[p++],B=i+q[p++],h+=q[p++],i+=q[p++],j.addData(r,t,u,A,B,h,i);break;case"Q":A=q[p++],B=q[p++],h=q[p++],i=q[p++],r=k.Q,j.addData(r,A,B,h,i);break;case"q":A=q[p++]+h,B=q[p++]+i,h+=q[p++],i+=q[p++],r=k.Q,j.addData(r,A,B,h,i);break;case"T":t=h,u=i,C=j.len(),D=j.data,l===k.Q&&(t+=h-D[C-4],u+=i-D[C-3]),h=q[p++],i=q[p++],r=k.Q,j.addData(r,t,u,h,i);break;case"t":t=h,u=i,C=j.len(),D=j.data,l===k.Q&&(t+=h-D[C-4],u+=i-D[C-3]),h+=q[p++],i+=q[p++],r=k.Q,j.addData(r,t,u,h,i);break;case"A":v=q[p++],w=q[p++],x=q[p++],y=q[p++],z=q[p++],A=h,B=i,h=q[p++],i=q[p++],r=k.A,n(A,B,h,i,y,z,v,w,x,r,j);break;case"a":v=q[p++],w=q[p++],x=q[p++],y=q[p++],z=q[p++],A=h,B=i,h+=q[p++],i+=q[p++],r=k.A,n(A,B,h,i,y,z,v,w,x,r,j)}("z"===o||"Z"===o)&&(r=k.Z,j.addData(r)),l=r}return j.toStatic(),j}function p(a,b){var f,c=o(a);return b=b||{},b.buildPath=function(a){a.setData(c.data),f&&d(a,f);var b=a.getContext();b&&a.rebuildPath(b)},b.applyTransform=function(a){f||(f=e.create()),e.mul(f,a,f)},b}var b=a("../graphic/Path"),c=a("../core/PathProxy"),d=a("./transformPath"),e=a("../core/matrix"),f=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"],g=Math.sqrt,h=Math.sin,i=Math.cos,j=Math.PI,k=function(a){return Math.sqrt(a[0]*a[0]+a[1]*a[1])},l=function(a,b){return(a[0]*b[0]+a[1]*b[1])/(k(a)*k(b))},m=function(a,b){return(a[0]*b[1]<a[1]*b[0]?-1:1)*Math.acos(l(a,b))};return{createFromString:function(a,c){return new b(p(a,c))},extendFromString:function(a,c){return b.extend(p(a,c))},mergePath:function(a,c){var f,g,h,d=[],e=a.length;for(g=0;e>g;g++)f=a[g],f.__dirty&&f.buildPath(f.path,f.shape),d.push(f.path);return h=new b(c),h.buildPath=function(a){a.appendPath(d);var b=a.getContext();b&&a.rebuildPath(b)},h}}}),b("zrender/graphic/helper/roundRect",["require"],function(){return{buildPath:function(a,b){var h,i,j,k,l,c=b.x,d=b.y,e=b.width,f=b.height,g=b.r;"number"==typeof g?h=i=j=k=g:g instanceof Array?1===g.length?h=i=j=k=g[0]:2===g.length?(h=j=g[0],i=k=g[1]):3===g.length?(h=g[0],i=k=g[1],j=g[2]):(h=g[0],i=g[1],j=g[2],k=g[3]):h=i=j=k=0,h+i>e&&(l=h+i,h*=e/l,i*=e/l),j+k>e&&(l=j+k,j*=e/l,k*=e/l),i+j>f&&(l=i+j,i*=f/l,j*=f/l),h+k>f&&(l=h+k,h*=f/l,k*=f/l),a.moveTo(c+h,d),a.lineTo(c+e-i,d),0!==i&&a.quadraticCurveTo(c+e,d,c+e,d+i),a.lineTo(c+e,d+f-j),0!==j&&a.quadraticCurveTo(c+e,d+f,c+e-j,d+f),a.lineTo(c+k,d+f),0!==k&&a.quadraticCurveTo(c,d+f,c,d+f-k),a.lineTo(c,d+h),0!==h&&a.quadraticCurveTo(c,d,c+h,d)}}}),b("zrender/core/LRU",["require"],function(){var d,e,f,b=function(){this.head=null,this.tail=null,this._len=0},c=b.prototype;return c.insert=function(a){var b=new d(a);return this.insertEntry(b),b},c.insertEntry=function(a){this.head?(this.tail.next=a,a.prev=this.tail,this.tail=a):this.head=this.tail=a,this._len++},c.remove=function(a){var b=a.prev,c=a.next;b?b.next=c:this.head=c,c?c.prev=b:this.tail=b,a.next=a.prev=null,this._len--},c.len=function(){return this._len},d=function(a){this.value=a,this.next,this.prev},e=function(a){this._list=new b,this._map={},this._maxSize=a||10},f=e.prototype,f.put=function(a,b){var e,f,g,c=this._list,d=this._map;null==d[a]&&(e=c.len(),e>=this._maxSize&&e>0&&(f=c.head,c.remove(f),delete d[f.key]),g=c.insert(b),g.key=a,d[a]=g)},f.get=function(a){var b=this._map[a],c=this._list;return null!=b?(b!==c.tail&&(c.remove(b),c.insertEntry(b)),b.value):void 0},f.clear=function(){this._list.clear(),this._map={}},e}),b("zrender/graphic/Image",["require","./Displayable","../core/BoundingRect","../core/util","./helper/roundRect","../core/LRU"],function(a){var b=a("./Displayable"),c=a("../core/BoundingRect"),d=a("../core/util"),e=a("./helper/roundRect"),f=a("../core/LRU"),g=new f(50),h=function(a){b.call(this,a)};return h.prototype={constructor:h,type:"image",brush:function(a){var d,f,h,i,j,k,l,m,n,o,b=this.style,c=b.image;if(d="string"==typeof c?this._image:c,!d&&c){if(f=g.get(c),!f)return d=new Image,d.onload=function(){d.onload=null;for(var a=0;a<f.pending.length;a++)f.pending[a].dirty()},f={image:d,pending:[this]},d.src=c,g.put(c,f),this._image=d,void 0;if(d=f.image,this._image=d,!d.width||!d.height)return f.pending.push(this),void 0}if(d){if(h=b.width||d.width,i=b.height||d.height,j=b.x||0,k=b.y||0,!d.width||!d.height)return;a.save(),b.bind(a),this.setTransform(a),b.r&&(a.beginPath(),e.buildPath(a,b),a.clip()),b.sWidth&&b.sHeight?(l=b.sx||0,m=b.sy||0,a.drawImage(d,l,m,b.sWidth,b.sHeight,j,k,h,i)):b.sx&&b.sy?(l=b.sx,m=b.sy,n=h-l,o=i-m,a.drawImage(d,l,m,n,o,j,k,h,i)):a.drawImage(d,j,k,h,i),null==b.width&&(b.width=h),null==b.height&&(b.height=i),null!=b.text&&this.drawRectText(a,this.getBoundingRect()),a.restore()}},getBoundingRect:function(){var a=this.style;return this._rect||(this._rect=new c(a.x||0,a.y||0,a.width||0,a.height||0)),this._rect}},d.inherits(h,b),h}),b("zrender/graphic/Text",["require","./Displayable","../core/util","../contain/text"],function(a){var b=a("./Displayable"),c=a("../core/util"),d=a("../contain/text"),e=function(a){b.call(this,a)};return e.prototype={constructor:e,type:"text",brush:function(a){var i,j,k,b=this.style,c=b.x||0,e=b.y||0,f=b.text,g=b.fill,h=b.stroke;if(null!=f&&(f+=""),f){for(a.save(),this.style.bind(a),this.setTransform(a),g&&(a.fillStyle=g),h&&(a.strokeStyle=h),a.font=b.textFont||b.font,a.textAlign=b.textAlign,a.textBaseline=b.textBaseline,i=d.measureText("国",a.font).width,j=f.split("\n"),k=0;k<j.length;k++)g&&a.fillText(j[k],c,e),h&&a.strokeText(j[k],c,e),e+=i;a.restore()}},getBoundingRect:function(){var a,b;return this._rect||(a=this.style,b=d.getBoundingRect(a.text+"",a.textFont,a.textAlign,a.textBaseline),b.x+=a.x||0,b.y+=a.y||0,this._rect=b),this._rect}},c.inherits(e,b),e}),b("zrender/graphic/shape/Circle",["require","../Path"],function(a){return a("../Path").extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(a,b){a.moveTo(b.cx+b.r,b.cy),a.arc(b.cx,b.cy,b.r,0,2*Math.PI,!0)}})}),b("zrender/graphic/shape/Sector",["require","../Path"],function(a){return a("../Path").extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},buildPath:function(a,b){var c=b.cx,d=b.cy,e=Math.max(b.r0||0,0),f=Math.max(b.r,0),g=b.startAngle,h=b.endAngle,i=b.clockwise,j=Math.cos(g),k=Math.sin(g);a.moveTo(j*e+c,k*e+d),a.lineTo(j*f+c,k*f+d),a.arc(c,d,f,g,h,!i),a.lineTo(Math.cos(h)*e+c,Math.sin(h)*e+d),0!==e&&a.arc(c,d,e,h,g,i),a.closePath()}})}),b("zrender/graphic/helper/smoothSpline",["require","../../core/vector"],function(a){function c(a,b,c,d,e,f,g){var h=.5*(c-a),i=.5*(d-b);return(2*(b-c)+h+i)*g+(-3*(b-c)-2*h-i)*f+h*e+b}var b=a("../../core/vector");return function(a,d){var h,i,j,k,l,m,n,o,p,q,r,e=a.length,f=[],g=0;for(h=1;e>h;h++)g+=b.distance(a[h-1],a[h]);for(i=g/2,i=e>i?e:i,h=0;i>h;h++)j=h/(i-1)*(d?e:e-1),k=Math.floor(j),l=j-k,n=a[k%e],d?(m=a[(k-1+e)%e],o=a[(k+1)%e],p=a[(k+2)%e]):(m=a[0===k?k:k-1],o=a[k>e-2?e-1:k+1],p=a[k>e-3?e-1:k+2]),q=l*l,r=l*q,f.push([c(m[0],n[0],o[0],p[0],l,q,r),c(m[1],n[1],o[1],p[1],l,q,r)]);return f}}),b("zrender/graphic/helper/smoothBezier",["require","../../core/vector"],function(a){var b=a("../../core/vector"),c=b.min,d=b.max,e=b.scale,f=b.distance,g=b.add;return function(a,h,i,j){var o,p,q,r,s,t,u,v,w,x,y,z,k=[],l=[],m=[],n=[];if(j){for(q=[1/0,1/0],r=[-1/0,-1/0],s=0,t=a.length;t>s;s++)c(q,q,a[s]),d(r,r,a[s]);c(q,q,j[0]),d(r,r,j[1])}for(s=0,t=a.length;t>s;s++){if(u=a[s],i)o=a[s?s-1:t-1],p=a[(s+1)%t];else{if(0===s||s===t-1){k.push(b.clone(a[s]));continue}o=a[s-1],p=a[s+1]}b.sub(l,p,o),e(l,l,h),v=f(u,o),w=f(u,p),x=v+w,0!==x&&(v/=x,w/=x),e(m,l,-v),e(n,l,w),y=g([],u,m),z=g([],u,n),j&&(d(y,y,q),c(y,y,r),d(z,z,q),c(z,z,r)),k.push(y),k.push(z)}return i&&k.push(k.shift()),k}}),b("zrender/graphic/helper/poly",["require","./smoothSpline","./smoothBezier"],function(a){var b=a("./smoothSpline"),c=a("./smoothBezier");return{buildPath:function(a,d,e){var h,i,j,k,l,m,n,f=d.points,g=d.smooth;if(f&&f.length>=2){if(g&&"spline"!==g)for(h=c(f,g,e,d.smoothConstraint),a.moveTo(f[0][0],f[0][1]),i=f.length,j=0;(e?i:i-1)>j;j++)k=h[2*j],l=h[2*j+1],m=f[(j+1)%i],a.bezierCurveTo(k[0],k[1],l[0],l[1],m[0],m[1]);else for("spline"===g&&(f=b(f,e)),a.moveTo(f[0][0],f[0][1]),j=1,n=f.length;n>j;j++)a.lineTo(f[j][0],f[j][1]);e&&a.closePath()}}}}),b("zrender/graphic/shape/Polygon",["require","../helper/poly","../Path"],function(a){var b=a("../helper/poly");return a("../Path").extend({type:"polygon",shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function(a,c){b.buildPath(a,c,!0)}})}),b("zrender/graphic/shape/Polyline",["require","../helper/poly","../Path"],function(a){var b=a("../helper/poly");return a("../Path").extend({type:"polyline",shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(a,c){b.buildPath(a,c,!1)}})}),b("zrender/graphic/shape/Rect",["require","../helper/roundRect","../Path"],function(a){var b=a("../helper/roundRect");return a("../Path").extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(a,c){var d=c.x,e=c.y,f=c.width,g=c.height;c.r?b.buildPath(a,c):a.rect(d,e,f,g),a.closePath()}})}),b("zrender/graphic/shape/Line",["require","../Path"],function(a){return a("../Path").extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(a,b){var c=b.x1,d=b.y1,e=b.x2,f=b.y2,g=b.percent;0!==g&&(a.moveTo(c,d),1>g&&(e=c*(1-g)+e*g,f=d*(1-g)+f*g),a.lineTo(e,f))},pointAt:function(a){var b=this.shape;return[b.x1*(1-a)+b.x2*a,b.y1*(1-a)+b.y2*a]}})}),b("zrender/graphic/shape/BezierCurve",["require","../../core/curve","../Path"],function(a){var b=a("../../core/curve"),c=b.quadraticSubdivide,d=b.cubicSubdivide,e=b.quadraticAt,f=b.cubicAt,g=[];return a("../Path").extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(a,b){var e=b.x1,f=b.y1,h=b.x2,i=b.y2,j=b.cpx1,k=b.cpy1,l=b.cpx2,m=b.cpy2,n=b.percent;0!==n&&(a.moveTo(e,f),null==l||null==m?(1>n&&(c(e,j,h,n,g),j=g[1],h=g[2],c(f,k,i,n,g),k=g[1],i=g[2]),a.quadraticCurveTo(j,k,h,i)):(1>n&&(d(e,j,l,h,n,g),j=g[1],l=g[2],h=g[3],d(f,k,m,i,n,g),k=g[1],m=g[2],i=g[3]),a.bezierCurveTo(j,k,l,m,h,i)))},pointAt:function(a){var b=this.shape,c=b.cpx2,d=b.cpy2;return null===c||null===d?[e(b.x1,b.cpx1,b.x2,a),e(b.y1,b.cpy1,b.y2,a)]:[f(b.x1,b.cpx1,b.cpx1,b.x2,a),f(b.y1,b.cpy1,b.cpy1,b.y2,a)]}})}),b("zrender/graphic/shape/Arc",["require","../Path"],function(a){return a("../Path").extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},style:{stroke:"#000",fill:null},buildPath:function(a,b){var c=b.cx,d=b.cy,e=Math.max(b.r,0),f=b.startAngle,g=b.endAngle,h=b.clockwise,i=Math.cos(f),j=Math.sin(f);
a.moveTo(i*e+c,j*e+d),a.arc(c,d,e,f,g,!h)}})}),b("zrender/graphic/LinearGradient",["require","../core/util","./Gradient"],function(a){var b=a("../core/util"),c=a("./Gradient"),d=function(a,b,d,e,f){this.x=null==a?0:a,this.y=null==b?0:b,this.x2=null==d?1:d,this.y2=null==e?0:e,c.call(this,f)};return d.prototype={constructor:d,type:"linear",updateCanvasGradient:function(a,b){var j,c=a.getBoundingRect(),d=this.x*c.width+c.x,e=this.x2*c.width+c.x,f=this.y*c.height+c.y,g=this.y2*c.height+c.y,h=b.createLinearGradient(d,f,e,g),i=this.colorStops;for(j=0;j<i.length;j++)h.addColorStop(i[j].offset,i[j].color);this.canvasGradient=h}},b.inherits(d,c),d}),b("zrender/graphic/RadialGradient",["require","../core/util","./Gradient"],function(a){var b=a("../core/util"),c=a("./Gradient"),d=function(a,b,d,e){this.x=null==a?.5:a,this.y=null==b?.5:b,this.r=null==d?.5:d,c.call(this,e)};return d.prototype={constructor:d,type:"radial",updateCanvasGradient:function(a,b){var l,c=a.getBoundingRect(),d=c.width,e=c.height,f=Math.min(d,e),g=this.x*d+c.x,h=this.y*e+c.y,i=this.r*f,j=b.createRadialGradient(g,h,0,g,h,i),k=this.colorStops;for(l=0;l<k.length;l++)j.addColorStop(k[l].offset,k[l].color);this.canvasGradient=j}},b.inherits(d,c),d}),b("echarts/util/graphic",["require","zrender/core/util","zrender/tool/path","zrender/graphic/Path","zrender/tool/color","zrender/core/matrix","zrender/core/vector","zrender/graphic/Gradient","zrender/container/Group","zrender/graphic/Image","zrender/graphic/Text","zrender/graphic/shape/Circle","zrender/graphic/shape/Sector","zrender/graphic/shape/Polygon","zrender/graphic/shape/Polyline","zrender/graphic/shape/Rect","zrender/graphic/shape/Line","zrender/graphic/shape/BezierCurve","zrender/graphic/shape/Arc","zrender/graphic/LinearGradient","zrender/graphic/RadialGradient"],function(a){function k(a){var b,c,d,e,g;if(!a.__isHover){if(a.__hoverStlDirty){b=a.style.stroke,c=a.style.fill,d=a.__hoverStl,d.fill=d.fill||(c instanceof i?c:f.lift(c,-.1)),d.stroke=d.stroke||(b instanceof i?b:f.lift(b,-.1)),e={};for(g in d)d.hasOwnProperty(g)&&(e[g]=a.style[g]);a.__normalStl=e,a.__hoverStlDirty=!1}a.setStyle(a.__hoverStl),a.z2+=1,a.__isHover=!0}}function l(a){if(a.__isHover){var b=a.__normalStl;b&&a.setStyle(b),a.z2-=1,a.__isHover=!1}}function m(a){"group"===a.type?a.traverse(function(a){"group"!==a.type&&k(a)}):k(a)}function n(a){"group"===a.type?a.traverse(function(a){"group"!==a.type&&l(a)}):l(a)}function o(a,b){a.__hoverStl=a.hoverStyle||b,a.__hoverStlDirty=!0}function p(){!this.__isEmphasis&&m(this)}function q(){!this.__isEmphasis&&n(this)}function r(){this.__isEmphasis=!0,m(this)}function s(){this.__isEmphasis=!1,n(this)}function t(a,b,c,d,e){var f=a?"Update":"",g=d&&d.getShallow("animationDuration"+f),h=d&&d.getShallow("animationEasing"+f);d&&d.getShallow("animation")?b.animateTo(c,g,h,e):(b.attr(c),e&&e())}var b=a("zrender/core/util"),c=a("zrender/tool/path"),d=Math.round,e=a("zrender/graphic/Path"),f=a("zrender/tool/color"),g=a("zrender/core/matrix"),h=a("zrender/core/vector"),i=a("zrender/graphic/Gradient"),j={};return j.Group=a("zrender/container/Group"),j.Image=a("zrender/graphic/Image"),j.Text=a("zrender/graphic/Text"),j.Circle=a("zrender/graphic/shape/Circle"),j.Sector=a("zrender/graphic/shape/Sector"),j.Polygon=a("zrender/graphic/shape/Polygon"),j.Polyline=a("zrender/graphic/shape/Polyline"),j.Rect=a("zrender/graphic/shape/Rect"),j.Line=a("zrender/graphic/shape/Line"),j.BezierCurve=a("zrender/graphic/shape/BezierCurve"),j.Arc=a("zrender/graphic/shape/Arc"),j.LinearGradient=a("zrender/graphic/LinearGradient"),j.RadialGradient=a("zrender/graphic/RadialGradient"),j.extendShape=function(a){return e.extend(a)},j.extendPath=function(a,b){return c.extendFromString(a,b)},j.makePath=function(a,b,d,e){var h,i,j,k,l,f=c.createFromString(a,b),g=f.getBoundingRect();return d&&(h=g.width/g.height,"center"===e&&(i=d.height*h,i<=d.width?j=d.height:(i=d.width,j=i/h),k=d.x+d.width/2,l=d.y+d.height/2,d.x=k-i/2,d.y=l-j/2,d.width=i,d.height=j),this.resizePath(f,d)),f},j.mergePath=c.mergePath,j.resizePath=function(a,b){var c,d;a.applyTransform&&(c=a.getBoundingRect(),d=c.calculateTransform(b),a.applyTransform(d))},j.subPixelOptimizeLine=function(a){var b=j.subPixelOptimize,c=a.shape,e=a.style.lineWidth;return d(2*c.x1)===d(2*c.x2)&&(c.x1=c.x2=b(c.x1,e,!0)),d(2*c.y1)===d(2*c.y2)&&(c.y1=c.y2=b(c.y1,e,!0)),a},j.subPixelOptimizeRect=function(a){var b=j.subPixelOptimize,c=a.shape,d=a.style.lineWidth,e=c.x,f=c.y,g=c.width,h=c.height;return c.x=b(c.x,d,!0),c.y=b(c.y,d,!0),c.width=Math.max(b(e+g,d,!1)-c.x,0===g?0:1),c.height=Math.max(b(f+h,d,!1)-c.y,0===h?0:1),a},j.subPixelOptimize=function(a,b,c){var e=d(2*a);return 0===(e+d(b))%2?e/2:(e+(c?1:-1))/2},j.setHoverStyle=function(a,b){b=b||{},"group"===a.type?a.traverse(function(a){"group"!==a.type&&o(a,b)}):o(a,b),a.on("mouseover",p).on("mouseout",q),a.on("emphasis",r).on("normal",s)},j.setText=function(a,c,d){var e=c.getShallow("position")||"inside",f=e.indexOf("inside")>=0?"white":d,g=c.getModel("textStyle");b.extend(a,{textDistance:c.getShallow("distance")||5,textFont:g.getFont(),textPosition:e,textFill:g.getTextColor()||f})},j.updateProps=b.curry(t,!0),j.initProps=b.curry(t,!1),j.getTransform=function(a,b){for(var c=g.identity([]);a&&a!==b;)g.mul(c,a.getLocalTransform(),c),a=a.parent;return c},j.applyTransform=function(a,b,c){return c&&(b=g.invert([],b)),h.applyTransform([],a,b)},j.transformDirection=function(a,b,c){var d=0===b[4]||0===b[5]||0===b[0]?1:Math.abs(2*b[4]/b[0]),e=0===b[4]||0===b[5]||0===b[2]?1:Math.abs(2*b[4]/b[2]),f=["left"===a?-d:"right"===a?d:0,"top"===a?-e:"bottom"===a?e:0];return f=j.applyTransform(f,b,c),Math.abs(f[0])>Math.abs(f[1])?f[0]>0?"right":"left":f[1]>0?"bottom":"top"},j}),b("zrender/core/env",[],function(){function a(a){var b=this.os={},c=this.browser={},d=a.match(/Web[kK]it[\/]{0,1}([\d.]+)/),e=a.match(/(Android);?[\s\/]+([\d.]+)?/),f=a.match(/(iPad).*OS\s([\d_]+)/),g=a.match(/(iPod)(.*OS\s([\d_]+))?/),h=!f&&a.match(/(iPhone\sOS)\s([\d_]+)/),i=a.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),j=i&&a.match(/TouchPad/),k=a.match(/Kindle\/([\d.]+)/),l=a.match(/Silk\/([\d._]+)/),m=a.match(/(BlackBerry).*Version\/([\d.]+)/),n=a.match(/(BB10).*Version\/([\d.]+)/),o=a.match(/(RIM\sTablet\sOS)\s([\d.]+)/),p=a.match(/PlayBook/),q=a.match(/Chrome\/([\d.]+)/)||a.match(/CriOS\/([\d.]+)/),r=a.match(/Firefox\/([\d.]+)/),s=a.match(/MSIE ([\d.]+)/),t=d&&a.match(/Mobile\//)&&!q,u=a.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/)&&!q;return s=a.match(/MSIE\s([\d.]+)/),(c.webkit=!!d)&&(c.version=d[1]),e&&(b.android=!0,b.version=e[2]),h&&!g&&(b.ios=b.iphone=!0,b.version=h[2].replace(/_/g,".")),f&&(b.ios=b.ipad=!0,b.version=f[2].replace(/_/g,".")),g&&(b.ios=b.ipod=!0,b.version=g[3]?g[3].replace(/_/g,"."):null),i&&(b.webos=!0,b.version=i[2]),j&&(b.touchpad=!0),m&&(b.blackberry=!0,b.version=m[2]),n&&(b.bb10=!0,b.version=n[2]),o&&(b.rimtabletos=!0,b.version=o[2]),p&&(c.playbook=!0),k&&(b.kindle=!0,b.version=k[1]),l&&(c.silk=!0,c.version=l[1]),!l&&b.android&&a.match(/Kindle Fire/)&&(c.silk=!0),q&&(c.chrome=!0,c.version=q[1]),r&&(c.firefox=!0,c.version=r[1]),s&&(c.ie=!0,c.version=s[1]),t&&(a.match(/Safari/)||b.ios)&&(c.safari=!0),u&&(c.webview=!0),s&&(c.ie=!0,c.version=s[1]),b.tablet=!!(f||p||e&&!a.match(/Mobile/)||r&&a.match(/Tablet/)||s&&!a.match(/Phone/)&&a.match(/Touch/)),b.phone=!(b.tablet||b.ipod||!(e||h||i||m||n||q&&a.match(/Android/)||q&&a.match(/CriOS\/([\d.]+)/)||r&&a.match(/Mobile/)||s&&a.match(/Touch/))),{browser:c,os:b,node:!1,canvasSupported:document.createElement("canvas").getContext?!0:!1}}return"undefined"==typeof navigator?{browser:{},os:{},node:!0,canvasSupported:!0}:a(navigator.userAgent)}),b("zrender/core/event",["require","../mixin/Eventful"],function(a){function d(a){return a.getBoundingClientRect?a.getBoundingClientRect():{left:0,top:0}}function e(a,b){var c,e,f,g,h,i,j,k,l;return b=b||window.event,null!=b.zrX?b:(c=b.type,e=c&&c.indexOf("touch")>=0,e?(k="touchend"!=c?b.targetTouches[0]:b.changedTouches[0],k&&(l=d(a),b.zrX=k.clientX-l.left,b.zrY=k.clientY-l.top)):(f=0,g=0,b.pageX||b.pageY?(f=b.pageX,g=b.pageY):(f=b.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,g=b.clientY+document.body.scrollTop+document.documentElement.scrollTop),h=d(a),i=h.top+(window.pageYOffset||a.scrollTop)-(a.clientTop||0),j=h.left+(window.pageXOffset||a.scrollLeft)-(a.clientLeft||0),b.zrX=f-j,b.zrY=g-i,b.zrDelta=b.wheelDelta?b.wheelDelta/120:-(b.detail||0)/3),b)}function f(a,b,d){c?a.addEventListener(b,d):a.attachEvent("on"+b,d)}function g(a,b,d){c?a.removeEventListener(b,d):a.detachEvent("on"+b,d)}var b=a("../mixin/Eventful"),c="undefined"!=typeof window&&!!window.addEventListener,h=c?function(a){a.preventDefault(),a.stopPropagation(),a.cancelBubble=!0}:function(a){a.returnValue=!1,a.cancelBubble=!0};return{normalizeEvent:e,addEventListener:f,removeEventListener:g,stop:h,Dispatcher:b}}),b("zrender/mixin/Draggable",["require"],function(){function b(){this.on("mousedown",this._dragStart,this),this.on("mousemove",this._drag,this),this.on("mouseup",this._dragEnd,this),this.on("globalout",this._dragEnd,this)}return b.prototype={constructor:b,_dragStart:function(a){var b=a.target;b&&b.draggable&&(this._draggingTarget=b,b.dragging=!0,this._x=a.offsetX,this._y=a.offsetY,this._dispatchProxy(b,"dragstart",a.event))},_drag:function(a){var c,d,e,f,g,h,b=this._draggingTarget;b&&(c=a.offsetX,d=a.offsetY,e=c-this._x,f=d-this._y,this._x=c,this._y=d,b.drift(e,f,a),this._dispatchProxy(b,"drag",a.event),g=this._findHover(c,d,b),h=this._dropTarget,this._dropTarget=g,b!==g&&(h&&g!==h&&this._dispatchProxy(h,"dragleave",a.event),g&&g!==h&&this._dispatchProxy(g,"dragenter",a.event)))},_dragEnd:function(a){var b=this._draggingTarget;b&&(b.dragging=!1),this._dispatchProxy(b,"dragend",a.event),this._dropTarget&&this._dispatchProxy(this._dropTarget,"drop",a.event),this._draggingTarget=null,this._dropTarget=null}},b}),b("zrender/core/GestureMgr",["require"],function(){function c(a){var b=a[1][0]-a[0][0],c=a[1][1]-a[0][1];return Math.sqrt(b*b+c*c)}function d(a){return[(a[0][0]+a[1][0])/2,(a[0][1]+a[1][1])/2]}var e,b=function(){this._track=[]};return b.prototype={constructor:b,recognize:function(a,b){return this._doTrack(a,b),this._recognize(a)},clear:function(){return this._track.length=0,this},_doTrack:function(a,b){var d,e,f,g,c=a.touches;if(c){for(d={points:[],touches:[],target:b,event:a},e=0,f=c.length;f>e;e++)g=c[e],d.points.push([g.clientX,g.clientY]),d.touches.push(g);this._track.push(d)}},_recognize:function(a){var b,c;for(b in e)if(e.hasOwnProperty(b)&&(c=e[b](this._track,a)))return c}},e={pinch:function(a,b){var f,g,h,i,e=a.length;if(e)return f=(a[e-1]||{}).points,g=(a[e-2]||{}).points||f,g&&g.length>1&&f&&f.length>1?(h=c(f)/c(g),!isFinite(h)&&(h=1),b.pinchScale=h,i=d(f),b.pinchX=i[0],b.pinchY=i[1],{type:"pinch",target:a[0].target,event:b}):void 0}},b}),b("zrender/Handler",["require","./core/env","./core/event","./core/util","./mixin/Draggable","./core/GestureMgr","./mixin/Eventful"],function(a){function n(a){return"_"+a+"Handler"}function o(a,b,c){return{type:a,event:c,target:b,cancelBubble:!1,offsetX:c.zrX,offsetY:c.zrY,gestureEvent:c.gestureEvent,pinchX:c.pinchX,pinchY:c.pinchY,pinchScale:c.pinchScale,wheelDelta:c.zrDelta}}function q(a,b,c){var e,f,d=a._gestureMgr;"start"===c&&d.clear(),e=d.recognize(b,a._findHover(b.zrX,b.zrY,null)),"end"===c&&d.clear(),e&&(f=e.type,b.gestureEvent=f,a._dispatchProxy(e.target,f,e.event))}function r(a){for(var e,b=h.concat(i),c=b.length;c--;)e=b[c],a[n(e)]=d.bind(p[e],a)}function t(a,b,c){if(a[a.rectHover?"rectContain":"contain"](b,c)){for(var d=a.parent;d;){if(d.clipPath&&!d.clipPath.contain(b,c))return!1;d=d.parent}return!0}return!1}var s,b=a("./core/env"),c=a("./core/event"),d=a("./core/util"),e=a("./mixin/Draggable"),f=a("./core/GestureMgr"),g=a("./mixin/Eventful"),h=["click","dblclick","mousewheel","mousemove","mouseout","mouseup","mousedown"],i=["touchstart","touchend","touchmove"],j=300,k=c.addEventListener,l=c.removeEventListener,m=c.normalizeEvent,p={mousemove:function(a){var b,c,d,e;a=m(this.root,a),b=a.zrX,c=a.zrY,d=this._findHover(b,c,null),e=this._hovered,this._hovered=d,this.root.style.cursor=d?d.cursor:this._defaultCursorStyle,e&&d!==e&&e.__zr&&this._dispatchProxy(e,"mouseout",a),this._dispatchProxy(d,"mousemove",a),d&&d!==e&&this._dispatchProxy(d,"mouseover",a)},mouseout:function(a){a=m(this.root,a);var b=a.toElement||a.relatedTarget;if(b!=this.root)for(;b&&9!=b.nodeType;){if(b===this.root)return;b=b.parentNode}this._dispatchProxy(this._hovered,"mouseout",a),this.trigger("globalout",{event:a})},touchstart:function(a){a=m(this.root,a),this._lastTouchMoment=new Date,q(this,a,"start"),this._mousemoveHandler(a),this._mousedownHandler(a)},touchmove:function(a){a=m(this.root,a),q(this,a,"change"),this._mousemoveHandler(a)},touchend:function(a){a=m(this.root,a),q(this,a,"end"),this._mouseupHandler(a),+new Date-this._lastTouchMoment<j&&this._clickHandler(a)}};return d.each(["click","mousedown","mouseup","mousewheel","dblclick"],function(a){p[a]=function(b){b=m(this.root,b);var c=this._findHover(b.zrX,b.zrY,null);this._dispatchProxy(c,a,b)}}),s=function(a,c,j){g.call(this),this.root=a,this.storage=c,this.painter=j,this._hovered,this._lastTouchMoment,this._lastX,this._lastY,this._defaultCursorStyle="default",this._gestureMgr=new f,r(this),b.os.tablet||b.os.phone?(d.each(i,function(b){k(a,b,this[n(b)])},this),k(a,"mouseout",this._mouseoutHandler)):(d.each(h,function(b){k(a,b,this[n(b)])},this),k(a,"DOMMouseScroll",this._mousewheelHandler)),e.call(this)},s.prototype={constructor:s,resize:function(){this._hovered=null},dispatch:function(a,b){var c=this[n(a)];c&&c(b)},dispose:function(){var c,d,a=this.root,b=h.concat(i);for(c=0;c<b.length;c++)d=b[c],l(a,d,this[n(d)]);l(a,"DOMMouseScroll",this._mousewheelHandler),this.root=this.storage=this.painter=null},setDefaultCursorStyle:function(a){this._defaultCursorStyle=a},_dispatchProxy:function(a,b,c){for(var d="on"+b,e=o(b,a,c),f=a;f&&(f[d]&&(e.cancelBubble=f[d].call(f,e)),f.trigger(b,e),f=f.parent,!e.cancelBubble););e.cancelBubble||(this.trigger(b,e),this.painter&&this.painter.eachOtherLayer(function(a){"function"==typeof a[d]&&a[d].call(a,e),a.trigger&&a.trigger(b,e)}))},_findHover:function(a,b,c){var e,d=this.storage.getDisplayList();for(e=d.length-1;e>=0;e--)if(!d[e].silent&&d[e]!==c&&t(d[e],a,b))return d[e]}},d.mixin(s,g),d.mixin(s,e),s}),b("zrender/Storage",["require","./core/util","./container/Group"],function(a){function d(a,b){return a.zlevel===b.zlevel?a.z===b.z?a.z2===b.z2?a.__renderidx-b.__renderidx:a.z2-b.z2:a.z-b.z:a.zlevel-b.zlevel}var b=a("./core/util"),c=a("./container/Group"),e=function(){this._elements={},this._roots=[],this._displayList=[],this._displayListLen=0};return e.prototype={constructor:e,getDisplayList:function(a){return a&&this.updateDisplayList(),this._displayList},updateDisplayList:function(){var a,b,c,e,f;for(this._displayListLen=0,a=this._roots,b=this._displayList,c=0,e=a.length;e>c;c++)f=a[c],this._updateAndAddDisplayable(f);for(b.length=this._displayListLen,c=0,e=b.length;e>c;c++)b[c].__renderidx=c;b.sort(d)},_updateAndAddDisplayable:function(a,b){var c,d,e,f;if(!a.ignore)if(a.beforeUpdate(),a.update(),a.afterUpdate(),c=a.clipPath,c&&(c.parent=a,c.updateTransform(),b?(b=b.slice(),b.push(c)):b=[c]),"group"==a.type){for(d=a._children,e=0;e<d.length;e++)f=d[e],f.__dirty=a.__dirty||f.__dirty,this._updateAndAddDisplayable(f,b);a.__dirty=!1}else a.__clipPaths=b,this._displayList[this._displayListLen++]=a},addRoot:function(a){this._elements[a.id]||(a instanceof c&&a.addChildrenToStorage(this),this.addToMap(a),this._roots.push(a))},delRoot:function(a){var d,e,f,g,h;if(null==a){for(d=0;d<this._roots.length;d++)e=this._roots[d],e instanceof c&&e.delChildrenFromStorage(this);return this._elements={},this._roots=[],this._displayList=[],this._displayListLen=0,void 0}if(a instanceof Array)for(d=0,f=a.length;f>d;d++)this.delRoot(a[d]);else g="string"==typeof a?this._elements[a]:a,h=b.indexOf(this._roots,g),h>=0&&(this.delFromMap(g.id),this._roots.splice(h,1),g instanceof c&&g.delChildrenFromStorage(this))},addToMap:function(a){return a instanceof c&&(a.__storage=this),a.dirty(),this._elements[a.id]=a,this},get:function(a){return this._elements[a]},delFromMap:function(a){var b=this._elements,d=b[a];return d&&(delete b[a],d instanceof c&&(d.__storage=null)),this},dispose:function(){this._elements=this._renderList=this._roots=null}},e}),b("zrender/animation/Animation",["require","../core/util","../core/event","./Animator"],function(a){var b=a("../core/util"),c=a("../core/event").Dispatcher,d="undefined"!=typeof window&&(window.requestAnimationFrame||window.msRequestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(a){setTimeout(a,16)},e=a("./Animator"),f=function(a){a=a||{},this.stage=a.stage||{},this.onframe=a.onframe||function(){},this._clips=[],this._running=!1,this._time=0,c.call(this)};return f.prototype={constructor:f,addClip:function(a){this._clips.push(a)},addAnimator:function(a){var b,c;for(a.animation=this,b=a.getClips(),c=0;c<b.length;c++)this.addClip(b[c])},removeClip:function(a){var c=b.indexOf(this._clips,a);c>=0&&this._clips.splice(c,1)},removeAnimator:function(a){var c,b=a.getClips();for(c=0;c<b.length;c++)this.removeClip(b[c]);a.animation=null},_update:function(){var g,h,i,a=(new Date).getTime(),b=a-this._time,c=this._clips,d=c.length,e=[],f=[];for(g=0;d>g;g++)h=c[g],i=h.step(a),i&&(e.push(i),f.push(h));for(g=0;d>g;)c[g]._needsRemove?(c[g]=c[d-1],c.pop(),d--):g++;for(d=e.length,g=0;d>g;g++)f[g].fire(e[g]);this._time=a,this.onframe(b),this.trigger("frame",b),this.stage.update&&this.stage.update()},start:function(){function b(){a._running&&(d(b),a._update())}var a=this;this._running=!0,this._time=(new Date).getTime(),d(b)},stop:function(){this._running=!1},clear:function(){this._clips=[]},animate:function(a,b){b=b||{};var c=new e(a,b.loop,b.getter,b.setter);return c}},b.mixin(f,c),f}),b("zrender/Layer",["require","./core/util","./config"],function(a){function d(){return!1}function e(a,b,c,d){var e=document.createElement(b),f=c.getWidth(),g=c.getHeight(),h=e.style;return h.position="absolute",h.left=0,h.top=0,h.width=f+"px",h.height=g+"px",e.width=f*d,e.height=g*d,e.setAttribute("data-zr-dom-id",a),e}var b=a("./core/util"),c=a("./config"),f=function(a,f,g){var h,i;g=g||c.devicePixelRatio,"string"==typeof a?h=e(a,"canvas",f,g):b.isObject(a)&&(h=a,a=h.id),this.id=a,this.dom=h,i=h.style,i&&(h.onselectstart=d,i["-webkit-user-select"]="none",i["user-select"]="none",i["-webkit-touch-callout"]="none",i["-webkit-tap-highlight-color"]="rgba(0,0,0,0)"),this.domBack=null,this.ctxBack=null,this.painter=f,this.config=null,this.clearColor=0,this.motionBlur=!1,this.lastFrameAlpha=.7,this.dpr=g};return f.prototype={constructor:f,elCount:0,__dirty:!0,initContext:function(){this.ctx=this.dom.getContext("2d");var a=this.dpr;1!=a&&this.ctx.scale(a,a)},createBackBuffer:function(){var a=this.dpr;this.domBack=e("back-"+this.id,"canvas",this.painter,a),this.ctxBack=this.domBack.getContext("2d"),1!=a&&this.ctxBack.scale(a,a)},resize:function(a,b){var c=this.dpr,d=this.dom,e=d.style,f=this.domBack;e.width=a+"px",e.height=b+"px",d.width=a*c,d.height=b*c,1!=c&&this.ctx.scale(c,c),f&&(f.width=a*c,f.height=b*c,1!=c&&this.ctxBack.scale(c,c))},clear:function(a){var j,b=this.dom,c=this.ctx,d=b.width,e=b.height,f=this.clearColor,g=this.motionBlur&&!a,h=this.lastFrameAlpha,i=this.dpr;g&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(b,0,0,d/i,e/i)),c.clearRect(0,0,d/i,e/i),f&&(c.save(),c.fillStyle=this.clearColor,c.fillRect(0,0,d/i,e/i),c.restore()),g&&(j=this.domBack,c.save(),c.globalAlpha=h,c.drawImage(j,0,0,d/i,e/i),c.restore())}},f}),b("zrender/Painter",["require","./config","./core/util","./core/log","./core/BoundingRect","./Layer","./graphic/Image"],function(a){function g(a){return parseInt(a,10)}function h(a){return a?a.isBuildin?!0:"function"!=typeof a.resize||"function"!=typeof a.refresh?!1:!0:!1}function i(a){a.__unusedCount++}function j(a){a.__dirty=!1,1==a.__unusedCount&&a.clear()}function m(a,b,c){return k.copy(a.getBoundingRect()),a.transform&&k.applyTransform(a.transform),l.width=b,l.height=c,!k.intersect(l)}function n(a,b){if(!a||!b||a.length!==b.length)return!0;for(var c=0;c<a.length;c++)if(a[c]!==b[c])return!0}function o(a,b){var c,d,e,f;for(c=0;c<a.length;c++)d=a[c],d.transform&&(e=d.transform,b.transform(e[0],e[1],e[2],e[3],e[4],e[5])),f=d.path,f.beginPath(b),d.buildPath(f,d.shape),b.clip(),d.transform&&(e=d.invTransform,b.transform(e[0],e[1],e[2],e[3],e[4],e[5]))}var b=a("./config"),c=a("./core/util"),d=a("./core/log"),e=a("./core/BoundingRect"),f=a("./Layer"),k=new e(0,0,0,0),l=new e(0,0,0,0),p=function(a,c,d){var g,h,i,j,k,l,e=!a.nodeName||"CANVAS"===a.nodeName.toUpperCase();d=d||{},this.dpr=d.devicePixelRatio||b.devicePixelRatio,this._singleCanvas=e,this.root=a,g=a.style,g&&(g["-webkit-tap-highlight-color"]="transparent",g["-webkit-user-select"]="none",g["user-select"]="none",g["-webkit-touch-callout"]="none",a.innerHTML=""),this.storage=c,e?(h=a.width,i=a.height,this._width=h,this._height=i,l=new f(a,this,1),l.initContext(),this._layers={0:l},this._zlevelList=[0]):(h=this._getWidth(),i=this._getHeight(),this._width=h,this._height=i,j=document.createElement("div"),this._domRoot=j,k=j.style,k.position="relative",k.overflow="hidden",k.width=this._width+"px",k.height=this._height+"px",a.appendChild(j),this._layers={},this._zlevelList=[]),this._layerConfig={},this.pathToImage=this._createPathToImage()};return p.prototype={constructor:p,isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._singleCanvas?this._layers[0].dom:this._domRoot},refresh:function(a){var d,e,f,b=this.storage.getDisplayList(!0),c=this._zlevelList;for(this._paintList(b,a),d=0;d<c.length;d++)e=c[d],f=this._layers[e],!f.isBuildin&&f.refresh&&f.refresh();return this},_paintList:function(a,b){var c,e,f,g,h,k,l,p,q,r,s;for(null==b&&(b=!1),this._updateLayerStatus(a),g=this._width,h=this._height,this.eachBuildinLayer(i),k=null,l=0,p=a.length;p>l;l++)q=a[l],r=this._singleCanvas?0:q.zlevel,e!==r&&(e=r,c=this.getLayer(e),c.isBuildin||d("ZLevel "+e+" has been used by unkown layer "+c.id),f=c.ctx,c.__unusedCount=0,(c.__dirty||b)&&c.clear()),!c.__dirty&&!b||q.invisible||0===q.style.opacity||!q.scale[0]||!q.scale[1]||q.culling&&m(q,g,h)||(s=q.__clipPaths,n(s,k)&&(k&&f.restore(),s&&(f.save(),o(s,f)),k=s),q.beforeBrush&&q.beforeBrush(f),q.brush(f,!1),q.afterBrush&&q.afterBrush(f)),q.__dirty=!1;k&&f.restore(),this.eachBuildinLayer(j)},getLayer:function(a){if(this._singleCanvas)return this._layers[0];var b=this._layers[a];return b||(b=new f("zr_"+a,this,this.dpr),b.isBuildin=!0,this._layerConfig[a]&&c.merge(b,this._layerConfig[a],!0),this.insertLayer(a,b),b.initContext()),b},insertLayer:function(a,b){var k,c=this._layers,e=this._zlevelList,f=e.length,g=null,i=-1,j=this._domRoot;if(c[a])return d("ZLevel "+a+" has been used already"),void 0;if(!h(b))return d("Layer of zlevel "+a+" is not valid"),void 0;if(f>0&&a>e[0]){for(i=0;f-1>i&&!(e[i]<a&&e[i+1]>a);i++);g=c[e[i]]}e.splice(i+1,0,a),g?(k=g.dom,k.nextSibling?j.insertBefore(b.dom,k.nextSibling):j.appendChild(b.dom)):j.firstChild?j.insertBefore(b.dom,j.firstChild):j.appendChild(b.dom),c[a]=b},eachLayer:function(a,b){var d,e,c=this._zlevelList;for(e=0;e<c.length;e++)d=c[e],a.call(b,this._layers[d],d)},eachBuildinLayer:function(a,b){var d,e,f,c=this._zlevelList;for(f=0;f<c.length;f++)e=c[f],d=this._layers[e],d.isBuildin&&a.call(b,d,e)},eachOtherLayer:function(a,b){var d,e,f,c=this._zlevelList;for(f=0;f<c.length;f++)e=c[f],d=this._layers[e],d.isBuildin||a.call(b,d,e)},getLayers:function(){return this._layers},_updateLayerStatus:function(a){var d,e,f,g,h,b=this._layers,c={};for(this.eachBuildinLayer(function(a,b){c[b]=a.elCount,a.elCount=0}),d=0,e=a.length;e>d;d++)if(f=a[d],g=this._singleCanvas?0:f.zlevel,h=b[g]){if(h.elCount++,h.__dirty)continue;h.__dirty=f.__dirty}this.eachBuildinLayer(function(a,b){c[b]!==a.elCount&&(a.__dirty=!0)})},clear:function(){return this.eachBuildinLayer(this._clearLayer),this},_clearLayer:function(a){a.clear()},configLayer:function(a,b){var d,e;b&&(d=this._layerConfig,d[a]?c.merge(d[a],b,!0):d[a]=b,e=this._layers[a],e&&c.merge(e,d[a],!0))},delLayer:function(a){var b=this._layers,d=this._zlevelList,e=b[a];e&&(e.dom.parentNode.removeChild(e.dom),delete b[a],d.splice(c.indexOf(d,a),1))},resize:function(a,b){var d,c=this._domRoot;if(c.style.display="none",a=a||this._getWidth(),b=b||this._getHeight(),c.style.display="",this._width!=a||b!=this._height){c.style.width=a+"px",c.style.height=b+"px";for(d in this._layers)this._layers[d].resize(a,b);this.refresh(!0)}return this._width=a,this._height=b,this},clearLayer:function(a){var b=this._layers[a];b&&b.clear()},dispose:function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(a){var b,c,d,e,g;if(a=a||{},this._singleCanvas)return this._layers[0].dom;for(b=new f("image",this,a.pixelRatio||this.dpr),b.initContext(),c=b.ctx,b.clearColor=a.backgroundColor,b.clear(),d=this.storage.getDisplayList(!0),e=0;e<d.length;e++)g=d[e],g.invisible||(g.beforeBrush&&g.beforeBrush(c),g.brush(c,!1),g.afterBrush&&g.afterBrush(c));return b.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getWidth:function(){var a=this.root,b=document.defaultView.getComputedStyle(a);return 0|(a.clientWidth||g(b.width)||g(a.style.width))-(g(b.paddingLeft)||0)-(g(b.paddingRight)||0)},_getHeight:function(){var a=this.root,b=document.defaultView.getComputedStyle(a);return 0|(a.clientHeight||g(b.height)||g(a.style.height))-(g(b.paddingTop)||0)-(g(b.paddingBottom)||0)},_pathToImage:function(b,c,d,e,f){var i,j,k,g=document.createElement("canvas"),h=g.getContext("2d");return g.width=d*f,g.height=e*f,h.clearRect(0,0,d*f,e*f),i={position:c.position,rotation:c.rotation,scale:c.scale},c.position=[0,0,0],c.rotation=0,c.scale=[1,1],c&&c.brush(h),j=a("./graphic/Image"),k=new j({id:b,style:{x:0,y:0,image:g}}),null!=i.position&&(k.position=c.position=i.position),null!=i.rotation&&(k.rotation=c.rotation=i.rotation),null!=i.scale&&(k.scale=c.scale=i.scale),k},_createPathToImage:function(){var a=this;return function(b,c,d,e){return a._pathToImage(b,c,d,e,a.dpr)}}},p}),b("zrender/zrender",["require","./core/guid","./core/env","./Handler","./Storage","./animation/Animation","./Painter"],function(a){function k(a){delete i[a]}var l,b=a("./core/guid"),c=a("./core/env"),d=a("./Handler"),e=a("./Storage"),f=a("./animation/Animation"),g=!c.canvasSupported,h={canvas:a("./Painter")},i={},j={};return j.version="3.0.1",j.init=function(a,c){var d=new l(b(),a,c);return i[d.id]=d,d},j.dispose=function(a){if(a)a.dispose();else{for(var b in i)i[b].dispose();i={}}return j},j.getInstance=function(a){return i[a]},j.registerPainter=function(a,b){h[a]=b},l=function(a,b,i){var j,k,l,m,n,o;if(i=i||{},this.dom=b,this.id=a,j=this,k=new e,l=i.renderer,g){if(!h.vml)throw new Error("You need to require 'zrender/vml/vml' to support IE8");l="vml"}else l&&h[l]||(l="canvas");m=new h[l](b,k,i),this.storage=k,this.painter=m,c.node||(this.handler=new d(m.getViewportRoot(),k,m)),this.animation=new f({stage:{update:function(){j._needsRefresh&&j.refreshImmediately()}}}),this.animation.start(),this._needsRefresh,n=k.delFromMap,o=k.addToMap,k.delFromMap=function(a){var b=k.get(a);n.call(k,a),b&&b.removeSelfFromZr(j)},k.addToMap=function(a){o.call(k,a),a.addSelfToZr(j)}},l.prototype={constructor:l,getId:function(){return this.id},add:function(a){this.storage.addRoot(a),this._needsRefresh=!0},remove:function(a){this.storage.delRoot(a),this._needsRefresh=!0},configLayer:function(a,b){this.painter.configLayer(a,b),this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},refresh:function(){this._needsRefresh=!0},resize:function(){this.painter.resize(),this.handler&&this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},toDataURL:function(a,b,c){return this.painter.toDataURL(a,b,c)},pathToImage:function(a,c,d){var e=b();return this.painter.pathToImage(e,a,c,d)},setDefaultCursorStyle:function(a){this.handler.setDefaultCursorStyle(a)},on:function(a,b,c){this.handler&&this.handler.on(a,b,c)},off:function(a,b){this.handler&&this.handler.off(a,b)},trigger:function(a,b){this.handler&&this.handler.trigger(a,b)},clear:function(){this.storage.delRoot(),this.painter.clear()},dispose:function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler&&this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,k(this.id)}},j}),b("zrender",["zrender/zrender"],function(a){return a}),b("echarts/loading/default",["require","../util/graphic","zrender/core/util"],function(a){var b=a("../util/graphic"),c=a("zrender/core/util"),d=Math.PI;return function(a,e){var f,g,h,i;return e=e||{},c.defaults(e,{text:"loading",color:"#c23531",textColor:"#000",maskColor:"rgba(255, 255, 255, 0.8)",zlevel:0}),f=new b.Rect({style:{fill:e.maskColor},zlevel:e.zlevel,z:1e4}),g=new b.Arc({shape:{startAngle:-d/2,endAngle:-d/2+.1,r:10},style:{stroke:e.color,lineCap:"round",lineWidth:5},zlevel:e.zlevel,z:10001}),h=new b.Rect({style:{fill:"none",text:e.text,textPosition:"right",textDistance:10,textFill:e.textColor},zlevel:e.zlevel,z:10001}),g.animateShape(!0).when(1e3,{endAngle:3*d/2}).start("circularInOut"),g.animateShape(!0).when(1e3,{startAngle:3*d/2}).delay(300).start("circularInOut"),i=new b.Group,i.add(g),i.add(h),i.add(f),i.resize=function(){var d,b=a.getWidth()/2,c=a.getHeight()/2;g.setShape({cx:b,cy:c}),d=g.shape.r,h.setShape({x:b-d,y:c-d,width:2*d,height:2*d}),f.setShape({x:0,y:0,width:a.getWidth(),height:a.getHeight()})},i.resize(),i}}),b("echarts/visual/seriesColor",["require","zrender/graphic/Gradient"],function(a){var b=a("zrender/graphic/Gradient");return function(a,c,d){function e(a){var e=[c,"normal","color"],f=d.get("color"),g=a.getData(),h=a.get(e)||f[a.seriesIndex%f.length];g.setVisual("color",h),d.isSeriesFiltered(a)||("function"!=typeof h||h instanceof b||g.each(function(b){g.setItemVisual(b,"color",h(a.getDataParams(b)))}),g.each(function(a){var b=g.getItemModel(a),c=b.get(e,!0);null!=c&&g.setItemVisual(a,"color",c)}))}a?d.eachSeriesByType(a,e):d.eachSeries(e)}}),b("echarts/preprocessor/helper/compatStyle",["require","zrender/core/util"],function(a){function d(a){var d=a&&a.itemStyle;d&&b.each(c,function(c){var e=d.normal,f=d.emphasis;e&&e[c]&&(a[c]=a[c]||{},a[c].normal?b.merge(a[c].normal,e[c]):a[c].normal=e[c],e[c]=null),f&&f[c]&&(a[c]=a[c]||{},a[c].emphasis?b.merge(a[c].emphasis,f[c]):a[c].emphasis=f[c],f[c]=null)})}var b=a("zrender/core/util"),c=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];return function(a){var c,e,f,g,h,i;if(d(a),c=a.data){for(e=0;e<c.length;e++)d(c[e]);if(f=a.markPoint,f&&f.data)for(g=f.data,e=0;e<g.length;e++)d(g[e]);if(h=a.markLine,h&&h.data)for(i=h.data,e=0;e<i.length;e++)b.isArray(i[e])?(d(i[e][0]),d(i[e][1])):d(i[e])}}}),b("echarts/preprocessor/backwardCompat",["require","zrender/core/util","./helper/compatStyle"],function(a){function d(a,b){var c,d;for(b=b.split(","),c=a,d=0;d<b.length&&(c=c&&c[b[d]],null!=c);d++);return c}function e(a,b,c,d){var e,f,g;for(b=b.split(","),e=a,g=0;g<b.length-1;g++)f=b[g],null==e[f]&&(e[f]={}),e=e[f];(d||null==e[b[g]])&&(e[b[g]]=c)}function f(a){j(g,function(b){b[0]in a&&!(b[1]in a)&&(a[b[1]]=a[b[0]])})}var b=a("zrender/core/util"),c=a("./helper/compatStyle"),g=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],h=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],i=["bar","boxplot","candlestick","chord","effectScatter","funnel","gauge","lines","graph","heatmap","line","map","parallel","pie","radar","sankey","scatter","treemap"],j=b.each;
return function(a){j(a.series,function(a){var g,h,j;if(b.isObject(a))for(g=a.type,c(a),("pie"===g||"gauge"===g)&&null!=a.clockWise&&(a.clockwise=a.clockWise),"gauge"===g&&(h=d(a,"pointer.color"),null!=h&&e(a,"itemStyle.normal.color",h)),j=0;j<i.length;j++)if(i[j]===a.type){f(a);break}}),a.dataRange&&(a.visualMap=a.dataRange),j(h,function(c){var d=a[c];d&&(b.isArray(d)||(d=[d]),j(d,function(a){f(a)}))})}}),b("echarts/echarts",["require","./model/Global","./ExtensionAPI","./CoordinateSystem","./model/OptionManager","./model/Component","./model/Series","./view/Component","./view/Chart","./util/graphic","zrender","zrender/core/util","zrender/tool/color","zrender/core/env","zrender/mixin/Eventful","./loading/default","./visual/seriesColor","./preprocessor/backwardCompat","echarts/util/graphic","echarts/util/number","echarts/util/format"],function(a){function s(a){return function(b,c,d){b=b&&b.toLowerCase(),o.prototype[a].call(this,b,c,d)}}function t(){o.call(this)}function u(a,b,e){e=e||{},b&&p(M,function(a){a(b)}),this.id,this.group,this._dom=a,this._zr=k.init(a,{renderer:e.renderer||"canvas",devicePixelRatio:e.devicePixelRatio}),"string"==typeof b&&(b=O[b]),this._theme=l.clone(b),this._chartsViews=[],this._chartsMap={},this._componentsViews=[],this._componentsMap={},this._api=new c(this),this._coordinateSystem=new d,o.call(this),this._messageCenter=new t,this._initEvents(),this.resize=l.bind(this.resize,this)}function x(a,b){var c=this._model;c&&c.eachComponent({mainType:"series",query:b},function(d){var f=this._chartsMap[d.__viewId];f&&f.__alive&&f[a](d,c,this._api,b)},this)}function z(a,b,c){var d=this._api;p(this._componentsViews,function(e){var f=e.__model;e[a](f,b,d,c),H(f,e)},this),b.eachSeries(function(e){var g=this._chartsMap[e.__viewId];g[a](e,b,d,c),H(e,g)},this)}function A(a,b){var j,k,c="component"===a,d=c?this._componentsViews:this._chartsViews,e=c?this._componentsMap:this._chartsMap,g=this._zr;for(j=0;j<d.length;j++)d[j].__alive=!1;for(b[c?"eachComponent":"eachSeries"](function(a,j){var k,l,m,n;if(c){if("series"===a)return}else j=a;if(k=j.id+"_"+j.type,l=e[k],!l){if(m=f.parseClassType(j.type),n=c?h.getClass(m.main,m.sub):i.getClass(m.sub),!n)return;l=new n,l.init(b,this._api),e[k]=l,d.push(l),g.add(l.group)}j.__viewId=k,l.__alive=!0,l.__id=k,l.__model=j},this),j=0;j<d.length;)k=d[j],k.__alive?j++:(g.remove(k.group),k.dispose(b,this._api),d.splice(j,1),delete e[k.__id])}function B(a){p(r,function(b){p(L[b]||[],function(b){b(a)})})}function C(a){var b={};a.eachSeries(function(a){var e,c=a.get("stack"),d=a.getData();c&&"list"===d.type&&(e=b[c],e&&(d.stackedOn=e),b[c]=d)})}function D(a,b){var c=this._api;p(K,function(d){d(a,c,b)})}function E(a,b){p(q,function(c){p(N[c]||[],function(c){c(a,b)})})}function F(a,b){var c=this._api;p(this._componentsViews,function(d){var e=d.__model;d.render(e,a,c,b),H(e,d)},this),p(this._chartsViews,function(a){a.__alive=!1},this),a.eachSeries(function(d){var f=this._chartsMap[d.__viewId];f.__alive=!0,f.render(d,a,c,b),H(d,f)},this),p(this._chartsViews,function(b){b.__alive||b.remove(a,c)},this)}function H(a,b){var c=a.get("z"),d=a.get("zlevel");b.group.traverse(function(a){null!=c&&(a.z=c),null!=d&&(a.zlevel=d)})}function V(a){function f(a,b){var c,d;for(c=0;c<a.length;c++)d=a[c],d[e]=b}var b=0,c=1,d=2,e="__connectUpdateStatus";l.each(J,function(g,h){a._messageCenter.on(h,function(g){var h,i,j,k;if(Q[a.group]&&a[e]!==b){h=a.makeActionFromEvent(g),i=[];for(j in P)k=P[j],k!==a&&k.group===a.group&&i.push(k);f(i,b),p(i,function(a){a[e]!==c&&a.dispatchAction(h)}),f(i,d)}})})}var v,w,y,G,I,J,K,L,M,N,O,P,Q,R,S,T,U,b=a("./model/Global"),c=a("./ExtensionAPI"),d=a("./CoordinateSystem"),e=a("./model/OptionManager"),f=a("./model/Component"),g=a("./model/Series"),h=a("./view/Component"),i=a("./view/Chart"),j=a("./util/graphic"),k=a("zrender"),l=a("zrender/core/util"),m=a("zrender/tool/color"),n=a("zrender/core/env"),o=a("zrender/mixin/Eventful"),p=l.each,q=["echarts","chart","component"],r=["transform","filter","statistic"];return t.prototype.on=s("on"),t.prototype.off=s("off"),t.prototype.one=s("one"),l.mixin(t,o),v=u.prototype,v.getDom=function(){return this._dom},v.getZr=function(){return this._zr},v.setOption=function(a,c,d){(!this._model||c)&&(this._model=new b(null,null,this._theme,new e(this._api))),this._model.setOption(a,M),w.prepareAndUpdate.call(this),!d&&this._zr.refreshImmediately()},v.setTheme=function(){console.log("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},v.getModel=function(){return this._model},v.getOption=function(){return l.clone(this._model.option)},v.getWidth=function(){return this._zr.getWidth()},v.getHeight=function(){return this._zr.getHeight()},v.getRenderedCanvas=function(a){var b,c;if(n.canvasSupported)return a=a||{},a.pixelRatio=a.pixelRatio||1,a.backgroundColor=a.backgroundColor||this._model.get("backgroundColor"),b=this._zr,c=b.storage.getDisplayList(),l.each(c,function(a){a.stopAnimation(!0)}),b.painter.getRenderedCanvas(a)},v.getDataURL=function(a){var b,c,d,e,f;return a=a||{},b=a.excludeComponents,c=this._model,d=[],e=this,p(b,function(a){c.eachComponent({mainType:a},function(a){var b=e._componentsMap[a.__viewId];b.group.ignore||(d.push(b),b.group.ignore=!0)})}),f=this.getRenderedCanvas(a).toDataURL("image/"+(a&&a.type||"png")),p(d,function(a){a.group.ignore=!1}),f},v.getConnectedDataURL=function(a){var b,c,d,e,f,g,h,i,m,o,q,r,s,t,u,v,w,x;if(n.canvasSupported){if(b=this.group,c=Math.min,d=Math.max,e=1/0,Q[b]){f=e,g=e,h=-e,i=-e,m=[],o=a&&a.pixelRatio||1;for(q in P)r=P[q],r.group===b&&(s=r.getRenderedCanvas(l.clone(a)),t=r.getDom().getBoundingClientRect(),f=c(t.left,f),g=c(t.top,g),h=d(t.right,h),i=d(t.bottom,i),m.push({dom:s,left:t.left,top:t.top}));return f*=o,g*=o,h*=o,i*=o,u=h-f,v=i-g,w=l.createCanvas(),w.width=u,w.height=v,x=k.init(w),p(m,function(a){var b=new j.Image({style:{x:a.left*o-f,y:a.top*o-g,image:a.dom}});x.add(b)}),x.refreshImmediately(),w.toDataURL("image/"+(a&&a.type||"png"))}return this.getDataURL(a)}},w={update:function(a){var c,d,e,b=this._model;b&&(b.restoreData(),B.call(this,b),C.call(this,b),this._coordinateSystem.update(b,this._api),D.call(this,b,a),E.call(this,b,a),F.call(this,b,a),c=b.get("backgroundColor")||"transparent",d=this._zr.painter,d.isSingleCanvas&&d.isSingleCanvas()?this._zr.configLayer(0,{clearColor:c}):(n.canvasSupported||(e=m.parse(c),c=m.stringify(e,"rgb"),0===e[3]&&(c="transparent")),c=c,this._dom.style.backgroundColor=c))},updateView:function(a){var b=this._model;b&&(D.call(this,b,a),E.call(this,b,a),z.call(this,"updateView",b,a))},updateVisual:function(a){var b=this._model;b&&(E.call(this,b,a),z.call(this,"updateVisual",b,a))},updateLayout:function(a){var b=this._model;b&&(D.call(this,b,a),z.call(this,"updateLayout",b,a))},highlight:function(a){x.call(this,"highlight",a)},downplay:function(a){x.call(this,"downplay",a)},prepareAndUpdate:function(a){var b=this._model;A.call(this,"component",b),A.call(this,"chart",b),w.update.call(this,a)}},v.resize=function(){this._zr.resize();var a=this._model&&this._model.resetOption("media");w[a?"prepareAndUpdate":"update"].call(this),this._loadingFX&&this._loadingFX.resize()},y=a("./loading/default"),v.showLoading=function(a,b){var c,d;l.isObject(a)&&(b=a,a="default"),c=y(this._api,b),d=this._zr,this._loadingFX=c,d.painter.clear(),d.add(c)},v.hideLoading=function(){this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},v.makeActionFromEvent=function(a){var b=l.extend({},a);return b.type=J[a.type],b},v.dispatchAction=function(a,b){var d,e,f,g,h,i,j,k,m,c=I[a.type];if(c){for(d=c.actionInfo,e=d.update||"update",f=[a],g=!1,a.batch&&(g=!0,f=l.map(a.batch,function(b){return b=l.defaults(l.extend({},b),a),b.batch=null,b})),h=[],j="highlight"===a.type||"downplay"===a.type,k=0;k<f.length;k++)m=f[k],i=c.action(m,this._model),i=i||l.extend({},m),i.type=d.event||i.type,h.push(i),j&&w[e].call(this,m);"none"!==e&&!j&&w[e].call(this,a),b||(i=g?{type:h[0].type,batch:h}:h[0],this._messageCenter.trigger(i.type,i))}},v.on=s("on"),v.off=s("off"),v.one=s("one"),G=["click","dblclick","mouseover","mouseout","globalout"],v._initEvents=function(){var a=this._zr;p(G,function(b){a.on(b,function(a){var e,f,c=this.getModel(),d=a.target;d&&null!=d.dataIndex&&(e=d.hostModel||c.getSeriesByIndex(d.seriesIndex),f=e&&e.getDataParams(d.dataIndex)||{},f.event=a,f.type=b,this.trigger(b,f))},this)},this),p(J,function(a,b){this._messageCenter.on(b,function(a){this.trigger(b,a)},this)},this)},v.isDisposed=function(){return this._disposed},v.clear=function(){this.setOption({},!0)},v.dispose=function(){var a,b;this._disposed=!0,a=this._api,b=this._model,p(this._componentsViews,function(c){c.dispose(b,a)}),p(this._chartsViews,function(c){c.dispose(b,a)}),this._zr.dispose(),P[this.id]=null},l.mixin(u,o),I=[],J={},K=[],L={},M=[],N={},O={},P={},Q={},R=new Date-0,S=new Date-0,T="_echarts_instance_",U={version:"3.0.1",dependencies:{zrender:"3.0.1"}},U.init=function(a,b,c){if(k.version.replace(".","")-0<U.dependencies.zrender.replace(".","")-0)throw new Error("ZRender "+k.version+" is too old for ECharts "+U.version+". Current version need ZRender "+U.dependencies.zrender+"+");if(!a)throw new Error("Initialize failed: invalid dom.");var d=new u(a,b,c);return d.id="ec_"+R++,P[d.id]=d,a.setAttribute&&a.setAttribute(T,d.id),V(d),d},U.connect=function(a){if(l.isArray(a)){var b=a;a=null,l.each(b,function(b){null!=b.group&&(a=b.group)}),a=a||"g_"+S++,l.each(b,function(b){b.group=a})}return Q[a]=!0,a},U.disConnect=function(a){Q[a]=!1},U.dispose=function(a){l.isDom(a)?a=U.getInstanceByDom(a):"string"==typeof a&&(a=P[a]),a instanceof u&&!a.isDisposed()&&a.dispose()},U.getInstanceByDom=function(a){var b=a.getAttribute(T);return P[b]},U.getInstanceById=function(a){return P[a]},U.registerTheme=function(a,b){O[a]=b},U.registerPreprocessor=function(a){M.push(a)},U.registerProcessor=function(a,b){if(l.indexOf(r,a)<0)throw new Error("stage should be one of "+r);var c=L[a]||(L[a]=[]);c.push(b)},U.registerAction=function(a,b,c){"function"==typeof b&&(c=b,b="");var d=l.isObject(a)?a.type:[a,a={event:b}][0];a.event=(a.event||d).toLowerCase(),b=a.event,I[d]||(I[d]={action:c,actionInfo:a}),J[b]=d},U.registerCoordinateSystem=function(a,b){d.register(a,b)},U.registerLayout=function(a){l.indexOf(K,a)<0&&K.push(a)},U.registerVisualCoding=function(a,b){if(l.indexOf(q,a)<0)throw new Error("stage should be one of "+q);var c=N[a]||(N[a]=[]);c.push(b)},U.extendChartView=function(a){return i.extend(a)},U.extendComponentModel=function(a){return f.extend(a)},U.extendSeriesModel=function(a){return g.extend(a)},U.extendComponentView=function(a){return h.extend(a)},U.setCanvasCreator=function(a){l.createCanvas=a},U.registerVisualCoding("echarts",l.curry(a("./visual/seriesColor"),"","itemStyle")),U.registerPreprocessor(a("./preprocessor/backwardCompat")),U.registerAction({type:"highlight",event:"highlight",update:"highlight"},l.noop),U.registerAction({type:"downplay",event:"downplay",update:"downplay"},l.noop),U.graphic=a("echarts/util/graphic"),U.number=a("echarts/util/number"),U.format=a("echarts/util/format"),U.util={},p(["map","each","filter","indexOf","inherits","reduce","filter","bind","curry","isArray","isString","isObject","isFunction","extend"],function(a){U.util[a]=l[a]}),U}),b("echarts",["echarts/echarts"],function(a){return a}),b("echarts/data/DataDiffer",["require"],function(){function b(a){return a}function c(a,c,d,e){this._old=a,this._new=c,this._oldKeyGetter=d||b,this._newKeyGetter=e||b}function d(a,b,c){var d,e,f;for(d=0;d<a.length;d++)e=c(a[d]),f=b[e],null==f?b[e]=d:(f.length||(b[e]=f=[f]),f.push(d))}return c.prototype={constructor:c,add:function(a){return this._add=a,this},update:function(a){return this._update=a,this},remove:function(a){return this._remove=a,this},execute:function(){var h,i,j,k,a=this._old,b=this._new,c=this._oldKeyGetter,e=this._newKeyGetter,f={},g={};for(d(a,f,c),d(b,g,e),h=0;h<a.length;h++)i=c(a[h]),j=g[i],null!=j?(k=j.length,k?(1===k&&(g[i]=null),j=j.unshift()):g[i]=null,this._update&&this._update(j,h)):this._remove&&this._remove(h);for(i in g)if(g.hasOwnProperty(i)){if(j=g[i],null==j)continue;if(j.length)for(h=0,k=j.length;k>h;h++)this._add&&this._add(j[h]);else this._add&&this._add(j)}}},c}),b("echarts/data/List",["require","../model/Model","./DataDiffer","zrender/core/util","../util/model"],function(a){function p(a){return i.isArray(a)||(a=[a]),a}var q,r,b="undefined",c="undefined"==typeof window?global:window,d=typeof c.Float64Array===b?Array:c.Float64Array,e=typeof c.Int32Array===b?Array:c.Int32Array,f={"float":d,"int":e,ordinal:Array,number:Array,time:Array},g=a("../model/Model"),h=a("./DataDiffer"),i=a("zrender/core/util"),j=a("../util/model"),k=i.isObject,l=["stackedOn","_nameList","_idList","_rawData"],m=function(a,b,c){i.each(l.concat(c||[]),function(c){b.hasOwnProperty(c)&&(a[c]=b[c])})},n=function(a,b){var c,d,e,f,g;for(a=a||["x","y"],c={},d=[],e=0;e<a.length;e++)g={},"string"==typeof a[e]?(f=a[e],g={name:f,stackable:!1,type:"number"}):(g=a[e],f=g.name,g.type=g.type||"number"),d.push(f),c[f]=g;this.dimensions=d,this._dimensionInfos=c,this.hostModel=b,this.indices=[],this._storage={},this._nameList=[],this._idList=[],this._optionModels=[],this.stackedOn=null,this._visual={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._rawData},o=n.prototype;return o.type="list",o.getDimension=function(a){return isNaN(a)||(a=this.dimensions[a]||a),a},o.getDimensionInfo=function(a){return this._dimensionInfos[this.getDimension(a)]},o.initData=function(a,b,c){var d,e,g,h,k,l,m,n,o,p,q,r,s,t,u,v,w;for(a=a||[],this._rawData=a,d=this._storage={},e=this.indices=[],g=this.dimensions,h=a.length,k=this._dimensionInfos,l=[],m={},b=b||[],n=0;n<g.length;n++)o=k[g[n]],p=f[o.type],d[g[n]]=new p(h);for(c=c||function(a,b,c,d){var e=j.getDataItemValue(a);return j.converDataValue(i.isArray(e)?e[d]:e,k[b])},q=0;q<a.length;q++){for(r=a[q],s=0;s<g.length;s++)t=g[s],u=d[t],u[q]=c(r,t,q,s);e.push(q)}for(n=0;n<a.length;n++)v="",b[n]||(b[n]=a[n].name,v=a[n].id),w=b[n]||"",!v&&w&&(m[w]=m[w]||0,v=w,m[w]>0&&(v+="__ec__"+m[w]),m[w]++),v&&(l[n]=v);this._nameList=b,this._idList=l},o.count=function(){return this.indices.length},o.get=function(a,b,c){var h,i,d=this._storage,e=this.indices[b],f=d[a]&&d[a][e],g=this._dimensionInfos[a];if(c&&g&&g.stackable)for(h=this.stackedOn;h;)i=h.get(a,b),(f>=0&&i>0||0>=f&&0>i)&&(f+=i),h=h.stackedOn;return f},o.getValues=function(a,b,c){var e,f,d=[];for(i.isArray(a)||(c=b,b=a,a=this.dimensions),e=0,f=a.length;f>e;e++)d.push(this.get(a[e],b,c));return d},o.hasValue=function(a){var d,e,b=this.dimensions,c=this._dimensionInfos;for(d=0,e=b.length;e>d;d++)if("ordinal"!==c[b[d]].type&&isNaN(this.get(b[d],a)))return!1;return!0},o.getDataExtent=function(a,b){var e,f,g,h,i,j,c=this._storage[a],d=this.getDimensionInfo(a);if(b=d&&d.stackable&&b,e=(this._extent||(this._extent={}))[a+!!b])return e;if(c){for(g=1/0,h=-1/0,i=0,j=this.count();j>i;i++)f=this.get(a,i,b),g>f&&(g=f),f>h&&(h=f);return this._extent[a+b]=[g,h]}return[1/0,-1/0]},o.getSum=function(a,b){var e,f,g,c=this._storage[a],d=0;if(c)for(e=0,f=this.count();f>e;e++)g=this.get(a,e,b),isNaN(g)||(d+=g);return d},o.indexOf=function(a,b){var f,g,h,c=this._storage,d=c[a],e=this.indices;if(d)for(f=0,g=e.length;g>f;f++)if(h=e[f],d[h]===b)return f;return-1},o.indexOfName=function(a){var d,e,f,b=this.indices,c=this._nameList;for(d=0,e=b.length;e>d;d++)if(f=b[d],c[f]===a)return d;return-1},o.indexOfNearest=function(a,b,c){var d,e,f,g,h,j,k,l,m;if(i.isArray(a)||(a=a?[a]:[]),d=this._storage,e=d[a]){for(f=Number.MAX_VALUE,g=-1,h=0,j=a.length;j>h;h++)for(k=0,l=this.count();l>k;k++)m=Math.abs(this.get(a[h],k,c)-b),f>=m&&(f=m,g=k);return g}return-1},o.getRawIndex=function(a){var b=this.indices[a];return null==b?-1:b},o.getName=function(a){return this._nameList[this.indices[a]]||""},o.getId=function(a){return this._idList[this.indices[a]]||this.getRawIndex(a)+""},o.each=function(a,b,c,d){var e,f,g,h,j;for("function"==typeof a&&(d=c,c=b,b=a,a=[]),a=i.map(p(a),this.getDimension,this),e=[],f=a.length,g=this.indices,d=d||this,h=0;h<g.length;h++)if(0===f)b.call(d,h);else if(1===f)b.call(d,this.get(a[0],h,c),h);else{for(j=0;f>j;j++)e[j]=this.get(a[j],h,c);e[j]=h,b.apply(d,e)}},o.filterSelf=function(a,b,c,d){var e,f,g,h,j,k,l;for("function"==typeof a&&(d=c,c=b,b=a,a=[]),a=i.map(p(a),this.getDimension,this),e=[],f=[],g=a.length,h=this.indices,d=d||this,j=0;j<h.length;j++){if(1===g)k=b.call(d,this.get(a[0],j,c),j);else{for(l=0;g>l;l++)f[l]=this.get(a[l],j,c);f[l]=j,k=b.apply(d,f)}k&&e.push(h[j])}return this.indices=e,this._extent={},this},o.mapArray=function(a,b,c,d){"function"==typeof a&&(d=c,c=b,b=a,a=[]);var e=[];return this.each(a,function(){e.push(b&&b.apply(this,arguments))},c,d),e},o.map=function(a,b){var e,f,g,h,j,k,l,o,q;for(a=i.map(p(a),this.getDimension,this),e=this.dimensions,f=new n(i.map(e,this.getDimensionInfo,this),this.hostModel),g=f.indices=this.indices,m(f,this,this._wrappedMethods),h=f._storage={},j=this._storage,k=0;k<e.length;k++)l=e[k],o=j[l],h[l]=i.indexOf(a,l)>=0?new o.constructor(j[l].length):j[l];return q=[],this.each(a,function(){var e,f,i,j,c=arguments[arguments.length-1],d=b&&b.apply(this,arguments);if(null!=d)for("number"==typeof d&&(q[0]=d,d=q),e=0;e<d.length;e++)f=a[e],i=h[f],j=g[c],i&&(i[j]=d[e])}),f},q=new g(null),o.getItemModel=function(a,b){var c,d=this.hostModel;return a=this.indices[a],c=b?new g(null,d):q,c.option=this._rawData[a],c.parentModel=d,c.ecModel=d.ecModel,c},o.diff=function(a){var b=this._idList,c=a&&a._idList;return new h(a?a.indices:[],this.indices,function(a){return c[a]||a+""},function(a){return b[a]||a+""})},o.getVisual=function(a){var b=this._visual;return b&&b[a]},o.setVisual=function(a,b){if(k(a))for(var c in a)a.hasOwnProperty(c)&&this.setVisual(c,a[c]);else this._visual=this._visual||{},this._visual[a]=b},o.getItemLayout=function(a){return this._itemLayouts[a]},o.setItemLayout=function(a,b,c){this._itemLayouts[a]=c?i.extend(this._itemLayouts[a]||{},b):b},o.getItemVisual=function(a,b,c){var d=this._itemVisuals[a],e=d&&d[b];return null!=e||c?e:this.getVisual(b)},o.setItemVisual=function(a,b,c){var e,d=this._itemVisuals[a]||{};if(this._itemVisuals[a]=d,k(b))for(e in b)b.hasOwnProperty(e)&&(d[e]=b[e]);else d[b]=c},r=function(a){a.seriesIndex=this.seriesIndex,a.dataIndex=this.dataIndex},o.setItemGraphicEl=function(a,b){var c=this.hostModel;b&&(b.dataIndex=a,b.seriesIndex=c&&c.seriesIndex,"group"===b.type&&b.traverse(r,b)),this._graphicEls[a]=b},o.getItemGraphicEl=function(a){return this._graphicEls[a]},o.eachItemGraphicEl=function(a,b){i.each(this._graphicEls,function(c,d){c&&a&&a.call(b,c,d)})},o.cloneShallow=function(){var a=i.map(this.dimensions,this.getDimensionInfo,this),b=new n(a,this.hostModel);return b._storage=this._storage,m(b,this,this._wrappedMethods),b.indices=this.indices.slice(),b},o.wrapMethod=function(a,b){var c=this[a];"function"==typeof c&&(this._wrappedMethods=this._wrappedMethods||[],this._wrappedMethods.push(a),this[a]=function(){var a=c.apply(this,arguments);return b.call(this,a)})},n}),b("echarts/data/helper/completeDimensions",["require","zrender/core/util"],function(a){function c(a,c,f){var g,h,i,j;if(!c)return a;for(g=e(c[0]),h=b.isArray(g)&&g.length||1,f=f||[],i=0;h>i;i++)a[i]||(j=f[i]||"extra"+(i-f.length),a[i]=d(c,i)?{type:"ordinal",name:j}:j);return a}function d(a,c){var d,f,g;for(d=0,f=a.length;f>d;d++){if(g=e(a[d]),!b.isArray(g))return!1;if(g=g[c],null!=g&&isFinite(g))return!1;if(b.isString(g)&&"-"!==g)return!0}return!1}function e(a){return b.isArray(a)?a:b.isObject(a)?a.value:a}var b=a("zrender/core/util");return c}),b("echarts/chart/helper/createListFromArray",["require","../../data/List","../../data/helper/completeDimensions","zrender/core/util","../../util/model"],function(a){function h(a){for(var b=0;b<a.length&&null==a[b];)b++;return a[b]}function i(a){var b=h(a);return null!=b&&!d.isArray(f(b))}function j(a,c,d){var e,h,j,k,n,o,p;return a=a||[],e=l[c.get("coordinateSystem")](a,c,d),h=e.dimensions,j=e.categoryAxisModel,k="ordinal"===h[0].type?0:"ordinal"===h[1].type?1:-1,n=new b(h,c),o=m(e,a),p=j&&i(a)?function(a,b,c,d){return d===k?c:g(f(a),h[d])}:function(a,b,c,d){var e=f(a);return g(e&&e[d],h[d])},n.initData(a,o,p),n}function k(a){return"category"!==a&&"time"!==a}function m(a,b){var e,f,g,c=[];if(a.categoryAxisModel&&(e=a.categoryAxisModel.getCategories()))if(f=b.length,d.isArray(b[0])&&b[0].length>1)for(c=[],g=0;f>g;g++)c[g]=e[b[g][0]];else c=e.slice(0);return c}var b=a("../../data/List"),c=a("../../data/helper/completeDimensions"),d=a("zrender/core/util"),e=a("../../util/model"),f=e.getDataItemValue,g=e.converDataValue,l={cartesian2d:function(a,b,d){var e=d.getComponent("xAxis",b.get("xAxisIndex")),f=d.getComponent("yAxis",b.get("yAxisIndex")),g=e.get("type"),h=f.get("type"),i="category"===h,j="category"===g,l=[{name:"x",type:j?"ordinal":"float",stackable:k(g)},{name:"y",type:i?"ordinal":"float",stackable:k(h)}];return c(l,a,["x","y","z"]),{dimensions:l,categoryAxisModel:j?e:i?f:null}},polar:function(a,b,d){var e=b.get("polarIndex")||0,f=function(a){return a.get("polarIndex")===e},g=d.findComponents({mainType:"angleAxis",filter:f})[0],h=d.findComponents({mainType:"radiusAxis",filter:f})[0],i="category"===h.get("type"),j="category"===g.get("type"),l=[{name:"radius",type:i?"ordinal":"float",stackable:k(h.get("type"))},{name:"angle",type:j?"ordinal":"float",stackable:k(g.get("type"))}];return c(l,a,["radius","angle","value"]),{dimensions:l,categoryAxisModel:j?g:i?h:null}},geo:function(a){return{dimensions:c([{name:"lng"},{name:"lat"}],a,["lng","lat","value"])}}};return j}),b("echarts/chart/line/LineSeries",["require","../helper/createListFromArray","../../model/Series"],function(a){var b=a("../helper/createListFromArray"),c=a("../../model/Series");return c.extend({type:"series.line",dependencies:["grid","polar"],getInitialData:function(a,c){return b(a.data,this,c)},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,polarIndex:0,clipOverflow:!0,label:{normal:{position:"top"},emphasis:{position:"top"}},lineStyle:{normal:{width:2,type:"solid"}},symbol:"emptyCircle",symbolSize:4,showSymbol:!0,animationEasing:"linear"}})}),b("echarts/util/symbol",["require","./graphic","zrender/core/BoundingRect"],function(a){var k,l,m,n,b=a("./graphic"),c=a("zrender/core/BoundingRect"),d=b.extendShape({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(a,b){var c=b.cx,d=b.cy,e=b.width/2,f=b.height/2;a.moveTo(c,d-f),a.lineTo(c+e,d+f),a.lineTo(c-e,d+f),a.closePath()}}),e=b.extendShape({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(a,b){var c=b.cx,d=b.cy,e=b.width/2,f=b.height/2;a.moveTo(c,d-f),a.lineTo(c+e,d),a.lineTo(c,d+f),a.lineTo(c-e,d),a.closePath()}}),f=b.extendShape({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(a,b){var n,o,c=b.x,d=b.y,e=3*(b.width/5),f=Math.max(e,b.height),g=e/2,h=g*g/(f-g),i=d-f+g+h,j=Math.asin(h/g),k=Math.cos(j)*g,l=Math.sin(j),m=Math.cos(j);a.arc(c,i,g,Math.PI-j,2*Math.PI+j),n=.6*g,o=.7*g,a.bezierCurveTo(c+k-l*n,i+h+m*n,c,d-o,c,d),a.bezierCurveTo(c,d-o,c-k+l*n,i+h+m*n,c-k,i+h),a.closePath()}}),g=b.extendShape({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(a,b){var c=b.height,d=b.width,e=b.x,f=b.y,g=2*(d/3);a.moveTo(e,f),a.lineTo(e+g,f+c),a.lineTo(e,f+3*(c/4)),a.lineTo(e-g,f+c),a.lineTo(e,f),a.closePath()}}),h={line:b.Line,rect:b.Rect,roundRect:b.Rect,square:b.Rect,circle:b.Circle,diamond:e,pin:f,arrow:g,triangle:d},i={line:function(a,b,c,d,e){e.x1=a,e.y1=b+d/2,e.x2=a+c,e.y2=b+d/2},rect:function(a,b,c,d,e){e.x=a,e.y=b,e.width=c,e.height=d},roundRect:function(a,b,c,d,e){e.x=a,e.y=b,e.width=c,e.height=d,e.r=Math.min(c,d)/4},square:function(a,b,c,d,e){var f=Math.min(c,d);e.x=a,e.y=b,e.width=f,e.height=f},circle:function(a,b,c,d,e){e.cx=a+c/2,e.cy=b+d/2,e.r=Math.min(c,d)/2},diamond:function(a,b,c,d,e){e.cx=a+c/2,e.cy=b+d/2,e.width=c,e.height=d},pin:function(a,b,c,d,e){e.x=a+c/2,e.y=b+d/2,e.width=c,e.height=d},arrow:function(a,b,c,d,e){e.x=a+c/2,e.y=b+d/2,e.width=c,e.height=d},triangle:function(a,b,c,d,e){e.cx=a+c/2,e.cy=b+d/2,e.width=c,e.height=d}},j={};for(k in h)j[k]=new h[k];return l=b.extendShape({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},beforeBrush:function(){var a=this.style,b=this.shape;"pin"===b.symbolType&&"inside"===a.textPosition&&(a.textPosition=["50%","40%"],a.textAlign="center",a.textBaseline="middle")},buildPath:function(a,b){var c=b.symbolType,d=j[c];"none"!==b.symbolType&&(d||(c="rect",d=j[c]),i[c](b.x,b.y,b.width,b.height,d.shape),d.buildPath(a,d.shape))}}),m=function(a){var b,c;"image"!==this.type&&(b=this.style,c=this.shape,c&&"line"===c.symbolType?b.stroke=a:this.__isEmptyBrush?(b.stroke=a,b.fill="#fff"):(b.fill&&(b.fill=a),b.stroke&&(b.stroke=a)),this.dirty())},n={createSymbol:function(a,d,e,f,g,h){var j,i=0===a.indexOf("empty");return i&&(a=a.substr(5,1).toLowerCase()+a.substr(6)),j=0===a.indexOf("image://")?new b.Image({style:{image:a.slice(8),x:d,y:e,width:f,height:g}}):0===a.indexOf("path://")?b.makePath(a.slice(7),{},new c(d,e,f,g)):new l({shape:{symbolType:a,x:d,y:e,width:f,height:g}}),j.__isEmptyBrush=i,j.setColor=m,j.setColor(h),j}}}),b("echarts/chart/helper/Symbol",["require","zrender/core/util","../../util/symbol","../../util/graphic","../../util/number"],function(a){function f(a){return b.isArray(a)||(a=[+a,+a]),a}function g(a,b){d.Group.call(this),this.updateData(a,b)}function i(a,b){this.parent.drift(a,b)}var j,k,l,m,b=a("zrender/core/util"),c=a("../../util/symbol"),d=a("../../util/graphic"),e=a("../../util/number"),h=g.prototype;return h._createSymbol=function(a,b,e){var g,h,j,k;this.removeAll(),g=b.hostModel,h=b.getItemVisual(e,"color"),j=c.createSymbol(a,-.5,-.5,1,1,h),j.attr({style:{strokeNoScale:!0},z2:100,scale:[0,0]}),j.drift=i,k=f(b.getItemVisual(e,"symbolSize")),d.initProps(j,{scale:k},g),this._symbolType=a,this.add(j)},h.stopSymbolAnimation=function(a){this.childAt(0).stopAnimation(a)},h.getScale=function(){return this.childAt(0).scale},h.highlight=function(){this.childAt(0).trigger("emphasis")},h.downplay=function(){this.childAt(0).trigger("normal")},h.setZ=function(a,b){var c=this.childAt(0);c.zlevel=a,c.z=b},h.setDraggable=function(a){var b=this.childAt(0);b.draggable=a,b.cursor=a?"move":"pointer"},h.updateData=function(a,b){var h,c=a.getItemVisual(b,"symbol")||"circle",e=a.hostModel,g=f(a.getItemVisual(b,"symbolSize"));c!==this._symbolType?this._createSymbol(c,a,b):(h=this.childAt(0),d.updateProps(h,{scale:g},e)),this._updateCommon(a,b,g),this._seriesModel=e},j=["itemStyle","normal"],k=["itemStyle","emphasis"],l=["label","normal"],m=["label","emphasis"],h._updateCommon=function(a,c,g){var r,s,t,u,v,w,x,y,z,A,h=this.childAt(0),i=a.hostModel,n=a.getItemModel(c),o=n.getModel(j),p=a.getItemVisual(c,"color"),q=n.getModel(k).getItemStyle();h.rotation=n.getShallow("symbolRotate")*Math.PI/180||0,r=n.getShallow("symbolOffset"),r&&(s=h.position,s[0]=e.parsePercent(r[0],g[0]),s[1]=e.parsePercent(r[1],g[1])),h.setColor(p),b.extend(h.style,o.getItemStyle(["color"])),t=n.getModel(l),u=n.getModel(m),v=a.dimensions[a.dimensions.length-1],w=i.getFormattedLabel(c,"normal")||a.get(v,c),x=h.style,t.get("show")?(d.setText(x,t,p),x.text=w):x.text="",u.getShallow("show")?(d.setText(q,u,p),q.text=w):q.text="",d.setHoverStyle(h,q),y=f(a.getItemVisual(c,"symbolSize")),h.off("mouseover").off("mouseout").off("emphasis").off("normal"),n.getShallow("hoverAnimation")&&(z=function(){var a=y[1]/y[0];this.animateTo({scale:[Math.max(1.1*y[0],y[0]+3),Math.max(1.1*y[1],y[1]+3*a)]},400,"elasticOut")},A=function(){this.animateTo({scale:y},400,"elasticOut")},h.on("mouseover",z).on("mouseout",A).on("emphasis",z).on("normal",A))},h.fadeOut=function(a){var b=this.childAt(0);b.style.text="",d.updateProps(b,{scale:[0,0]},this._seriesModel,a)},b.inherits(g,d.Group),g}),b("echarts/chart/helper/SymbolDraw",["require","../../util/graphic","./Symbol"],function(a){function d(a){this.group=new b.Group,this._symbolCtor=a||c}function f(a,b,c){var d=a.getItemLayout(b);return!(!d||isNaN(d[0])||isNaN(d[1])||c&&c(b)||"none"===a.getItemVisual(b,"symbol"))}var b=a("../../util/graphic"),c=a("./Symbol"),e=d.prototype;return e.updateData=function(a,c){var d=this.group,e=a.hostModel,g=this._data,h=this._symbolCtor;a.diff(g).add(function(b){var g,e=a.getItemLayout(b);f(a,b,c)&&(g=new h(a,b),g.attr("position",e),a.setItemGraphicEl(b,g),d.add(g))}).update(function(i,j){var k=g.getItemGraphicEl(j),l=a.getItemLayout(i);return f(a,i,c)?(k?(k.updateData(a,i),b.updateProps(k,{position:l},e)):(k=new h(a,i),k.attr("position",l)),d.add(k),a.setItemGraphicEl(i,k),void 0):(d.remove(k),void 0)}).remove(function(a){var b=g.getItemGraphicEl(a);b&&b.fadeOut(function(){d.remove(b)})}).execute(),this._data=a},e.updateLayout=function(){var a=this._data;a&&a.eachItemGraphicEl(function(b,c){b.attr("position",a.getItemLayout(c))})},e.remove=function(a){var b=this.group,c=this._data;c&&(a?c.eachItemGraphicEl(function(a){a.fadeOut(function(){b.remove(a)})}):b.removeAll())},d}),b("zrender/core/arrayDiff",["require"],function(){function b(a,b){return a===b}function c(a,b,c){var d={cmd:a,idx:b};return"="===a&&(d.idx1=c),d}function d(a,b,d,e){a.push(c(b,d,e))}function f(a,b,c,d,f,g,h,i){var j,o,p,q,r,s,t,u,k=c>d,l=f>g,m=e(d-c),n=e(g-f);for(o=0;m>=o;o++)for(p=0;n>=p;p++)0===o?i[p]=p:0===p?(j=i[p],i[p]=o):(q=a[k?c-o:o-1+c],r=b[l?f-p:p-1+f],s=j+(h(q,r)?0:2),t=i[p]+1,u=i[p-1]+1,j=i[p],i[p]=t>s?s:t,u<i[p]&&(i[p]=u));return i}function g(a,b,c,e,h,i,j,k,l){var p,q,r,s,t,u,v,w,x,y,m=[],n=e-c,o=i-h;if(n)if(o)if(1===n){for(r=a[c],s=!1,q=0;o>q;q++)j(r,b[q+h])&&!s?(s=!0,d(m,"=",c,q+h)):d(m,"+",q+h);s||d(m,"-",c)}else if(1===o){for(t=b[h],s=!1,p=0;n>p;p++)j(t,a[p+c])&&!s?(s=!0,d(m,"=",p+c,h)):d(m,"-",p+c);s||d(m,"+",h)}else{for(u=(0|n/2)+c,f(a,b,c,u,h,i,j,k),f(a,b,e,u+1,i,h,j,l),v=1/0,w=0,q=0;o>=q;q++)x=k[q]+l[o-q],v>x&&(v=x,w=q);for(w+=h,m=g(a,b,c,u,h,w,j,k,l),y=g(a,b,u,e,w,i,j,k,l),p=0;p<y.length;p++)m.push(y[p])}else for(p=0;n>p;p++)d(m,"-",p+c);else for(q=0;o>q;q++)d(m,"+",q+h);return m}function h(a,c,e){var f,h,i,j,k,l,m;for(e=e||b,i=a.length,j=c.length,k=Math.min(i,j),l=[],f=0;k>f&&e(a[f],c[f]);f++)d(l,"=",f,f);for(h=0;k>h&&e(a[i-h-1],c[j-h-1]);h++);if(i-h>=f||j-h>=f){for(m=g(a,c,f,i-h,f,j-h,e,[],[]),f=0;f<m.length;f++)l.push(m[f]);for(f=0;h>f;f++)d(l,"=",i-h+f,j-h+f)}return l}var e=Math.abs;return h}),b("echarts/chart/line/lineAnimationDiff",["require","zrender/core/arrayDiff"],function(a){function c(a){return a>=0?1:-1}function d(a,b,d){for(var j,m,e=a.getBaseAxis(),f=a.getOtherAxis(e),g=e.onZero?0:f.scale.getExtent()[0],h=f.dim,i="x"===h||"radius"===h?1:0,k=b.stackedOn,l=b.get(h,d);k&&c(k.get(h,d))===c(l);){j=k;break}return m=[],m[i]=b.get(e.dim,d),m[1-i]=j?j.get(h,d,!0):g,a.dataToPoint(m)}var b=a("zrender/core/arrayDiff");return function(a,c,e,f,g,h){var t,u,v,w,x,y,z,A,B,C,D,E,i=c.mapArray(c.getId),j=a.mapArray(a.getId),k=[],l=[],m=[],n=[],o=[],p=[],q=[],r=b(j,i),s=h.dimensions;for(t=0;t<r.length;t++){switch(u=r[t],v=!0,u.cmd){case"=":w=a.getItemLayout(u.idx),x=c.getItemLayout(u.idx1),(isNaN(w[0])||isNaN(w[1]))&&(w=x.slice()),k.push(w),l.push(x),m.push(e[u.idx]),n.push(f[u.idx1]),q.push(c.getRawIndex(u.idx1));break;case"+":y=u.idx,k.push(g.dataToPoint([c.get(s[0],y,!0),c.get(s[1],y,!0)])),l.push(c.getItemLayout(y).slice()),m.push(d(g,c,y)),n.push(f[y]),q.push(c.getRawIndex(y));break;case"-":y=u.idx,z=a.getRawIndex(y),z!==y?(k.push(a.getItemLayout(y)),l.push(h.dataToPoint([a.get(s[0],y,!0),a.get(s[1],y,!0)])),m.push(e[y]),n.push(d(h,a,y)),q.push(z)):v=!1}v&&(o.push(u),p.push(p.length))}for(p.sort(function(a,b){return q[a]-q[b]}),A=[],B=[],C=[],D=[],E=[],t=0;t<p.length;t++)y=p[t],A[t]=k[y],B[t]=l[y],C[t]=m[y],D[t]=n[y],E[t]=o[y];return{current:A,next:B,stackedOnCurrent:C,stackedOnNext:D,status:E}}}),b("echarts/chart/line/poly",["require","zrender/graphic/Path","zrender/core/vector"],function(a){function m(a,b,m,n,o,p,q,r,s){var u,v,w,x,y,z,t=m;
for(u=0;o>u&&(v=b[t],!(t>=n||0>t||isNaN(v[0])||isNaN(v[1])));u++)t===m?(a[p>0?"moveTo":"lineTo"](v[0],v[1]),i(k,v)):s>0?(w=t-p,x=t+p,p>0?(w=e(w,m),x=d(x,n-1)):(x=e(x,0),w=d(w,m)),y=b[w],z=b[x],(isNaN(z[0])||isNaN(z[1]))&&(z=v),c.sub(j,z,y),h(l,v,j,-s/2),f(k,k,r),g(k,k,q),f(l,l,r),g(l,l,q),a.bezierCurveTo(k[0],k[1],l[0],l[1],v[0],v[1]),h(k,v,j,s/2)):a.lineTo(v[0],v[1]),t+=p;return u}function n(a){var d,e,b=[1/0,1/0],c=[-1/0,-1/0];for(d=0;d<a.length;d++)e=a[d],e[0]<b[0]&&(b[0]=e[0]),e[1]<b[1]&&(b[1]=e[1]),e[0]>c[0]&&(c[0]=e[0]),e[1]>c[1]&&(c[1]=e[1]);return{min:b,max:c}}var b=a("zrender/graphic/Path"),c=a("zrender/core/vector"),d=Math.min,e=Math.max,f=c.min,g=c.max,h=c.scaleAndAdd,i=c.copy,j=[],k=[],l=[];return{Polyline:b.extend({type:"ec-polyline",shape:{points:[],smooth:0},style:{fill:null,stroke:"#000",smooth:0},buildPath:function(a,b){for(var c=b.points,d=0,e=c.length,f=n(c);e>d;)d+=m(a,c,d,e,e,1,f.min,f.max,b.smooth)+1}}),Polygon:b.extend({type:"ec-polygon",shape:{points:[],stackedOnPoints:[],smooth:0,stackedOnSmooth:0},buildPath:function(a,b){for(var i,c=b.points,d=b.stackedOnPoints,e=0,f=c.length,g=n(c),h=n(d);f>e;)i=m(a,c,e,f,f,1,g.min,g.max,b.smooth),m(a,d,e+i-1,f,i,-1,h.min,h.max,b.stackedOnSmooth),e+=i+1,a.closePath()}})}}),b("echarts/chart/line/LineView",["require","zrender/core/util","../helper/SymbolDraw","../helper/Symbol","./lineAnimationDiff","../../util/graphic","./poly","../../view/Chart"],function(a){function i(a,b){var c,d,e;if(a.length===b.length){for(c=0;c<a.length;c++)if(d=a[c],e=b[c],d[0]!==e[0]||d[1]!==e[1])return;return!0}}function j(a){return"number"==typeof a?a:a?.3:0}function k(a){var c,d,b=a.getGlobalExtent();return a.onBand&&(c=a.getBandWidth()/2-1,d=b[1]>b[0]?1:-1,b[0]+=d*c,b[1]-=d*c),b}function l(a){return a>=0?1:-1}function m(a,b){var c=a.getBaseAxis(),d=a.getOtherAxis(c),e=c.onZero?0:d.scale.getExtent()[0],f=d.dim,g="x"===f||"radius"===f?1:0;return b.mapArray([f],function(d,h){for(var i,k,j=b.stackedOn;j&&l(j.get(f,h))===l(d);){i=j;break}return k=[],k[g]=b.get(c.dim,h),k[1-g]=i?i.get(f,h,!0):e,a.dataToPoint(k)},!0)}function n(a,b){return null!=b.dataIndex?b.dataIndex:null!=b.name?a.indexOfName(b.name):void 0}function o(a,b,c){var m,d=k(a.getAxis("x")),e=k(a.getAxis("y")),g=a.getBaseAxis().isHorizontal(),h=d[0],i=e[0],j=d[1]-h,l=e[1]-i;return c.get("clipOverflow")||(g?(i-=l,l*=3):(h-=j,j*=3)),m=new f.Rect({shape:{x:h,y:i,width:j,height:l}}),b&&(m.shape[g?"width":"height"]=0,f.initProps(m,{shape:{width:j,height:l}},c)),m}function p(a,b,c){var d=a.getAngleAxis(),e=a.getRadiusAxis(),g=e.getExtent(),h=d.getExtent(),i=Math.PI/180,j=new f.Sector({shape:{cx:a.cx,cy:a.cy,r0:g[0],r:g[1],startAngle:-h[0]*i,endAngle:-h[1]*i,clockwise:d.inverse}});return b&&(j.shape.endAngle=-h[0]*i,f.initProps(j,{shape:{endAngle:-h[1]*i}},c)),j}function q(a,b,c){return"polar"===a.type?p(a,b,c):o(a,b,c)}var b=a("zrender/core/util"),c=a("../helper/SymbolDraw"),d=a("../helper/Symbol"),e=a("./lineAnimationDiff"),f=a("../../util/graphic"),g=a("./poly"),h=a("../../view/Chart");return h.extend({type:"line",init:function(){var a=new f.Group,b=new c;this.group.add(b.group),this.group.add(a),this._symbolDraw=b,this._lineGroup=a},render:function(a,c,d){var A,B,C,D,E,e=a.coordinateSystem,f=this.group,g=a.getData(),h=a.getModel("lineStyle.normal"),k=a.getModel("areaStyle.normal"),l=g.mapArray(g.getItemLayout,!0),n="polar"===e.type,o=this._coordSys,p=this._symbolDraw,r=this._polyline,s=this._polygon,t=this._lineGroup,u=a.get("animation"),v=!k.isEmpty(),w=m(e,g),x=a.get("showSymbol"),y=x&&!n&&!a.get("showAllSymbol")&&this._getSymbolIgnoreFunc(g,e),z=this._data;z&&z.eachItemGraphicEl(function(a,b){a.__temp&&(f.remove(a),z.setItemGraphicEl(b,null))}),x||p.remove(),r&&o.type===e.type?(u&&t.setClipPath(q(e,!1,a)),x&&p.updateData(g,y),g.eachItemGraphicEl(function(a){a.stopAnimation(!0)}),i(this._stackedOnPoints,w)&&i(this._points,l)||(u?this._updateAnimation(g,w,e,d):(r.setShape({points:l}),s&&s.setShape({points:l,stackedOnPoints:w}))),f.add(t)):(x&&p.updateData(g,y),r=this._newPolyline(f,l,e,u),v&&(s=this._newPolygon(f,l,w,e,u)),t.setClipPath(q(e,!0,a))),r.setStyle(b.defaults(h.getLineStyle(),{stroke:g.getVisual("color"),lineJoin:"bevel"})),A=a.get("smooth"),A=j(a.get("smooth")),r.shape.smooth=A,s&&(B=s.shape,C=g.stackedOn,D=0,s.style.opacity=.7,s.setStyle(b.defaults(k.getAreaStyle(),{fill:g.getVisual("color"),lineJoin:"bevel"})),B.smooth=A,C&&(E=C.hostModel,D=j(E.get("smooth"))),B.stackedOnSmooth=D),this._data=g,this._coordSys=e,this._stackedOnPoints=w,this._points=l},highlight:function(a,b,c,e){var i,j,f=a.getData(),g=n(f,e);null!=g&&g>=0?(i=f.getItemGraphicEl(g),i||(j=f.getItemLayout(g),i=new d(f,g,c),i.position=j,i.setZ(a.get("zlevel"),a.get("z")),i.ignore=isNaN(j[0])||isNaN(j[1]),i.__temp=!0,f.setItemGraphicEl(g,i),i.stopSymbolAnimation(!0),this.group.add(i)),i.highlight()):h.prototype.highlight.call(this,a,b,c,e)},downplay:function(a,b,c,d){var g,e=a.getData(),f=n(e,d);null!=f&&f>=0?(g=e.getItemGraphicEl(f),g&&(g.__temp?(e.setItemGraphicEl(f,null),this.group.remove(g)):g.downplay())):h.prototype.downplay.call(this,a,b,c,d)},_newPolyline:function(a,b){var c=this._polyline;return c&&a.remove(c),c=new g.Polyline({shape:{points:b},silent:!0,z2:10}),this._lineGroup.add(c),this._polyline=c,c},_newPolygon:function(a,b,c){var d=this._polygon;return d&&a.remove(d),d=new g.Polygon({shape:{points:b,stackedOnPoints:c},silent:!0}),this._lineGroup.add(d),this._polygon=d,d},_getSymbolIgnoreFunc:function(a,c){var d=c.getAxesByScale("ordinal")[0];return d&&d.isLabelIgnored?b.bind(d.isLabelIgnored,d):void 0},_updateAnimation:function(a,b,c){var k,l,m,n,o,g=this._polyline,h=this._polygon,i=a.hostModel,j=e(this._data,a,this._stackedOnPoints,b,this._coordSys,c);for(g.shape.points=j.current,f.updateProps(g,{shape:{points:j.next}},i),h&&(h.setShape({points:j.current,stackedOnPoints:j.stackedOnCurrent}),f.updateProps(h,{shape:{points:j.next,stackedOnPoints:j.stackedOnNext}},i)),k=[],l=j.status,m=0;m<l.length;m++)n=l[m].cmd,"="===n&&(o=a.getItemGraphicEl(l[m].idx1),o&&k.push({el:o,ptIdx:m}));g.animators&&g.animators.length&&g.animators[0].during(function(){var a,b;for(a=0;a<k.length;a++)b=k[a].el,b.attr("position",g.shape.points[k[a].ptIdx])})},remove:function(){var b=this.group;b.remove(this._lineGroup),this._symbolDraw.remove(!0)}})}),b("echarts/visual/symbol",["require"],function(){return function(a,b,c,d){d.eachRawSeriesByType(a,function(a){var e=a.getData(),f=a.get("symbol")||b,g=a.get("symbolSize");e.setVisual({legendSymbol:c||f,symbol:f,symbolSize:g}),d.isSeriesFiltered(a)||("function"==typeof g&&e.each(function(b){var c=a.getRawValue(b),d=a.getDataParams(b);e.setItemVisual(b,"symbolSize",g(c,d))}),e.each(function(a){var b=e.getItemModel(a),c=b.get("symbol",!0),d=b.get("symbolSize",!0);null!=c&&e.setItemVisual(a,"symbol",c),null!=d&&e.setItemVisual(a,"symbolSize",d)}))})}}),b("echarts/layout/points",["require"],function(){return function(a,b){b.eachSeriesByType(a,function(a){var b=a.getData(),c=a.coordinateSystem,d=c.dimensions;b.each(d,function(a,d,e){var f;f=isNaN(a)||isNaN(d)?[0/0,0/0]:c.dataToPoint([a,d]),b.setItemLayout(e,f)},!0)})}}),b("echarts/chart/line",["require","zrender/core/util","../echarts","./line/LineSeries","./line/LineView","../visual/symbol","../layout/points"],function(a){var b=a("zrender/core/util"),c=a("../echarts");a("./line/LineSeries"),a("./line/LineView"),c.registerVisualCoding("chart",b.curry(a("../visual/symbol"),"line","circle","line")),c.registerLayout(b.curry(a("../layout/points"),"line"))}),b("echarts/scale/Scale",["require","../util/clazz"],function(a){function c(){this._extent=[1/0,-1/0],this._interval=0,this.init&&this.init.apply(this,arguments)}var b=a("../util/clazz"),d=c.prototype;return d.contain=function(a){var b=this._extent;return a>=b[0]&&a<=b[1]},d.normalize=function(a){var b=this._extent;return b[1]===b[0]?.5:(a-b[0])/(b[1]-b[0])},d.scale=function(a){var b=this._extent;return a*(b[1]-b[0])+b[0]},d.unionExtent=function(a){var b=this._extent;a[0]<b[0]&&(b[0]=a[0]),a[1]>b[1]&&(b[1]=a[1])},d.getExtent=function(){return this._extent.slice()},d.setExtent=function(a,b){var c=this._extent;isNaN(a)||(c[0]=a),isNaN(b)||(c[1]=b)},d.getTicksLabels=function(){var c,a=[],b=this.getTicks();for(c=0;c<b.length;c++)a.push(this.getLabel(b[c]));return a},b.enableClassExtend(c),b.enableClassManagement(c,{registerWhenExtend:!0}),c}),b("echarts/scale/Ordinal",["require","zrender/core/util","./Scale"],function(a){var b=a("zrender/core/util"),c=a("./Scale"),d=c.prototype,e=c.extend({type:"ordinal",init:function(a,b){this._data=a,this._extent=b||[0,a.length-1]},contain:function(a){return d.contain.call(this,a)&&null!=this._data[a]},normalize:function(a){return"string"==typeof a&&(a=b.indexOf(this._data,a)),d.normalize.call(this,a)},scale:function(a){return Math.round(d.scale.call(this,a))},getTicks:function(){for(var a=[],b=this._extent,c=b[0];c<=b[1];)a.push(c),c++;return a},getLabel:function(a){return this._data[a]},count:function(){return this._extent[1]-this._extent[0]+1},niceTicks:b.noop,niceExtent:b.noop});return e.create=function(){return new e},e}),b("echarts/scale/Interval",["require","../util/number","../util/format","./Scale"],function(a){var b=a("../util/number"),c=a("../util/format"),d=a("./Scale"),e=Math.floor,f=Math.ceil,g=d.extend({type:"interval",_interval:0,setExtent:function(a,b){var c=this._extent;isNaN(a)||(c[0]=a),isNaN(b)||(c[1]=b)},unionExtent:function(a){var b=this._extent;a[0]<b[0]&&(b[0]=a[0]),a[1]>b[1]&&(b[1]=a[1]),g.prototype.setExtent.call(this,b[0],b[1])},getInterval:function(){return this._interval||this.niceTicks(),this._interval},setInterval:function(a){this._interval=a,this._niceExtent=this._extent.slice()},getTicks:function(){var a,c,d,e,f,g;if(this._interval||this.niceTicks(),a=this._interval,c=this._extent,d=[],e=1e4,a){for(f=this._niceExtent,c[0]<f[0]&&d.push(c[0]),g=f[0];g<=f[1];)if(d.push(g),g=b.round(g+a),d.length>e)return[];c[1]>f[1]&&d.push(c[1])}return d},getTicksLabels:function(){var c,a=[],b=this.getTicks();for(c=0;c<b.length;c++)a.push(this.getLabel(b[c]));return a},getLabel:function(a){return c.addCommas(a)},niceTicks:function(a){var c,d,g,h,i;a=a||10,c=this._extent,d=c[1]-c[0],1/0===d||0>=d||(g=Math.pow(10,Math.floor(Math.log(d/a)/Math.LN10)),h=a/d*g,.15>=h?g*=10:.3>=h?g*=5:.5>=h?g*=3:.75>=h&&(g*=2),i=[b.round(f(c[0]/g)*g),b.round(e(c[1]/g)*g)],this._interval=g,this._niceExtent=i)},niceExtent:function(a,c,d){var h,i,g=this._extent;g[0]===g[1]&&(0!==g[0]?(h=g[0]/2,g[0]-=h,g[1]+=h):g[1]=1),g[1]===-1/0&&1/0===g[0]&&(g[0]=0,g[1]=1),this.niceTicks(a,c,d),i=this._interval,c||(g[0]=b.round(e(g[0]/i)*i)),d||(g[1]=b.round(f(g[1]/i)*i))}});return g.create=function(){return new g},g}),b("echarts/scale/Time",["require","zrender/core/util","../util/number","./Interval"],function(a){var m,b=a("zrender/core/util"),c=a("../util/number"),d=a("./Interval"),e=d.prototype,f=Math.ceil,g=Math.floor,h=864e5,i=function(a,b,c,d){for(;d>c;){var e=c+d>>>1;a[e][2]<b?c=e+1:d=e}return c},j=function(a){return 10>a?"0"+a:a},k=function(a,b){var d,e,f,g,h,i,k;return("week"===a||"month"===a||"quarter"===a||"half-year"===a||"year"===a)&&(a="MM-dd\nyyyy"),d=c.parseDate(b),e=d.getFullYear(),f=d.getMonth()+1,g=d.getDate(),h=d.getHours(),i=d.getMinutes(),k=d.getSeconds(),a=a.replace("MM",j(f)).toLowerCase().replace("yyyy",e).replace("yy",e%100).replace("dd",j(g)).replace("d",g).replace("hh",j(h)).replace("h",h).replace("mm",j(i)).replace("m",i).replace("ss",j(k)).replace("s",k)},l=d.extend({type:"time",getLabel:function(a){var b=this._stepLvl,c=new Date(a);return k(b[0],c)},niceExtent:function(a,b,d){var i,j,e=this._extent;e[0]===e[1]&&(e[0]-=h,e[1]+=h),e[1]===-1/0&&1/0===e[0]&&(i=new Date,e[1]=new Date(i.getFullYear(),i.getMonth(),i.getDate()),e[0]=e[1]-h),this.niceTicks(a,b,d),j=this._interval,b||(e[0]=c.round(g(e[0]/j)*j)),d||(e[1]=c.round(f(e[1]/j)*j))},niceTicks:function(a){var b,c,d,e,h,j,k,l;a=a||10,b=this._extent,c=b[1]-b[0],d=c/a,e=m.length,h=i(m,d,0,e),j=m[Math.min(h,e-1)],k=j[2],l=[f(b[0]/k)*k,g(b[1]/k)*k],this._stepLvl=j,this._interval=k,this._niceExtent=l}});return b.each(["contain","normalize"],function(a){l.prototype[a]=function(b){return b=+c.parseDate(b),e[a].call(this,b)}}),m=[["hh:mm:ss",1,1e3],["hh:mm:ss",5,5e3],["hh:mm:ss",10,1e4],["hh:mm:ss",15,15e3],["hh:mm:ss",30,3e4],["hh:mm\nMM-dd",1,6e4],["hh:mm\nMM-dd",5,3e5],["hh:mm\nMM-dd",10,6e5],["hh:mm\nMM-dd",15,9e5],["hh:mm\nMM-dd",30,18e5],["hh:mm\nMM-dd",1,36e5],["hh:mm\nMM-dd",2,72e5],["hh:mm\nMM-dd",6,216e5],["hh:mm\nMM-dd",12,432e5],["MM-dd\nyyyy",1,h],["week",7,7*h],["month",1,31*h],["quarter",3,380*h/4],["half-year",6,380*h/2],["year",1,380*h]],l.create=function(){return new l},l}),b("echarts/scale/Log",["require","zrender/core/util","./Scale","../util/number","./Interval"],function(a){var b=a("zrender/core/util"),c=a("./Scale"),d=a("../util/number"),e=a("./Interval"),f=c.prototype,g=e.prototype,h=Math.floor,i=Math.ceil,j=Math.pow,k=10,l=Math.log,m=c.extend({type:"log",getTicks:function(){return b.map(g.getTicks.call(this),function(a){return d.round(j(k,a))})},getLabel:g.getLabel,scale:function(a){return a=f.scale.call(this,a),j(k,a)},setExtent:function(a,b){a=l(a)/l(k),b=l(b)/l(k),g.setExtent.call(this,a,b)},getExtent:function(){var a=f.getExtent.call(this);return a[0]=j(k,a[0]),a[1]=j(k,a[1]),a},unionExtent:function(a){a[0]=l(a[0])/l(k),a[1]=l(a[1])/l(k),f.unionExtent.call(this,a)},niceTicks:function(a){var b,c,e,f,g;a=a||10,b=this._extent,c=b[1]-b[0],1/0===c||0>=c||(e=j(10,h(l(c/a)/Math.LN10)),f=a/c*e,.5>=f&&(e*=10),g=[d.round(i(b[0]/e)*e),d.round(h(b[1]/e)*e)],this._interval=e,this._niceExtent=g)},niceExtent:g.niceExtent});return b.each(["contain","normalize"],function(a){m.prototype[a]=function(b){return b=l(b)/l(k),f[a].call(this,b)}}),m.create=function(){return new m},m}),b("echarts/coord/axisHelper",["require","../scale/Ordinal","../scale/Interval","../scale/Time","../scale/Log","../scale/Scale","../util/number","zrender/core/util","zrender/contain/text"],function(a){var d,e,f,g,h,b=a("../scale/Ordinal"),c=a("../scale/Interval");return a("../scale/Time"),a("../scale/Log"),d=a("../scale/Scale"),e=a("../util/number"),f=a("zrender/core/util"),g=a("zrender/contain/text"),h={},h.niceScaleExtent=function(a,b){var d,g,h,i,j,k,l,m,c=a.scale;"ordinal"!==c.type&&(d=b.get("min"),g=b.get("max"),h=b.get("boundaryGap"),f.isArray(h)||(h=[h||0,h||0]),h[0]=e.parsePercent(h[0],1),h[1]=e.parsePercent(h[1],1),i=c.getExtent(),j=i[1]-i[0],k=!0,l=!0,null==d&&(d=i[0]-h[0]*j,k=!1),null==g&&(g=i[1]+h[1]*j,l=!1),"dataMin"===d&&(d=i[0]),"dataMax"===g&&(g=i[1]),c.setExtent(d,g),c.niceExtent(b.get("splitNumber"),k,l),m=b.get("interval"),null!=m&&c.setInterval&&c.setInterval(m))},h.createScaleByModel=function(a,e){if(e=e||a.get("type"))switch(e){case"category":return new b(a.getCategories(),[1/0,-1/0]);case"value":return new c;default:return(d.getClass(e)||c).create(a)}},h.ifAxisCrossZero=function(a){var b=a.scale.getExtent(),c=b[0],d=b[1],e=a.model.get("min"),f=a.model.get("max");return isNaN(e)||(c=Math.min(e,c)),isNaN(f)||(d=Math.max(f,d)),!(c>0&&d>0||0>c&&0>d)||h.ifAxisNeedsCrossZero(a)},h.ifAxisNeedsCrossZero=function(a){return!a.model.get("scale")},h.getAxisLabelInterval=function(a,b,c,d){var e,i,j,k,f=0,h=0;for(i=0;i<a.length;i++)j=a[i],k=g.getBoundingRect(b[i],c,"center","top"),k[d?"x":"y"]+=j,k[d?"width":"height"]*=1.5,e?e.intersect(k)?(h++,f=Math.max(f,h)):(e.union(k),h=0):e=k.clone();return f},h.getFormattedLabels=function(a,b){var c=a.scale,d=c.getTicksLabels(),e=c.getTicks();return"string"==typeof b?(b=function(a){return function(b){return a.replace("{value}",b)}}(b),f.map(d,b)):"function"==typeof b?f.map(e,function(d,e){return b("category"===a.type?c.getLabel(d):d,e)},this):d},h}),b("echarts/coord/cartesian/Cartesian",["require","zrender/core/util"],function(a){function c(a){return this._axes[a]}var b=a("zrender/core/util"),d=function(a){this._axes={},this._dimList=[],this.name=a||""};return d.prototype={constructor:d,type:"cartesian",getAxis:function(a){return this._axes[a]},getAxes:function(){return b.map(this._dimList,c,this)},getAxesByScale:function(a){return a=a.toLowerCase(),b.filter(this.getAxes(),function(b){return b.scale.type===a})},addAxis:function(a){var b=a.dim;this._axes[b]=a,this._dimList.push(b)},dataToCoord:function(a){return this._dataCoordConvert(a,"dataToCoord")},coordToData:function(a){return this._dataCoordConvert(a,"coordToData")},_dataCoordConvert:function(a,b){var e,f,g,c=this._dimList,d=a instanceof Array?[]:{};for(e=0;e<c.length;e++)f=c[e],g=this._axes[f],d[f]=g[b](a[f]);return d}},d}),b("echarts/coord/cartesian/Cartesian2D",["require","zrender/core/util","./Cartesian"],function(a){function d(a){c.call(this,a),this.dimensions=["x","y"]}var b=a("zrender/core/util"),c=a("./Cartesian");return d.prototype={constructor:d,type:"cartesian2d",getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},containPoint:function(a){var b=this.getAxis("x"),c=this.getAxis("y");return b.contain(b.toLocalCoord(a[0]))&&c.contain(c.toLocalCoord(a[1]))},containData:function(a){return this.getAxis("x").containData(a[0])&&this.getAxis("y").containData(a[1])},dataToPoints:function(a,b){return a.mapArray(["x","y"],function(a,b){return this.dataToPoint([a,b])},b,this)},dataToPoint:function(a,b){var c=this.getAxis("x"),d=this.getAxis("y");return[c.toGlobalCoord(c.dataToCoord(a[0],b)),d.toGlobalCoord(d.dataToCoord(a[1],b))]},pointToData:function(a,b){var c=this.getAxis("x"),d=this.getAxis("y");return[c.coordToData(c.toLocalCoord(a[0]),b),d.coordToData(d.toLocalCoord(a[1]),b)]},getOtherAxis:function(a){return this.getAxis("x"===a.dim?"y":"x")}},b.inherits(d,c),d}),b("echarts/coord/Axis",["require","../util/number","zrender/core/util"],function(a){function e(a,b){var c=a[1]-a[0],d=b,e=c/d/2;a[0]+=e,a[1]-=e}var b=a("../util/number"),c=b.linearMap,d=a("zrender/core/util"),f=function(a,b,c){this.dim=a,this.scale=b,this._extent=c||[0,0],this.inverse=!1,this.onBand=!1};return f.prototype={constructor:f,contain:function(a){var b=this._extent,c=Math.min(b[0],b[1]),d=Math.max(b[0],b[1]);return a>=c&&d>=a},containData:function(a){return this.contain(this.dataToCoord(a))},getExtent:function(){var a=this._extent.slice();return a},getPixelPrecision:function(a){return b.getPixelPrecision(a||this.scale.getExtent(),this._extent)},setExtent:function(a,b){var c=this._extent;c[0]=a,c[1]=b},dataToCoord:function(a,b){var d,f;return a=this.scale.normalize(a),d=this.getExtent(),f=this.scale,this.onBand&&"ordinal"===f.type&&e(d,f.count()),c(a,[0,1],d,b)},coordToData:function(a,b){var f,d=this.getExtent();return this.onBand&&e(d,this.scale.count()),f=c(a,d,[0,1],b),this.scale.scale(f)},getTicksCoords:function(){var a,b,c;if(this.onBand){for(a=this.getBands(),b=[],c=0;c<a.length;c++)b.push(a[c][0]);return a[c-1]&&b.push(a[c-1][1]),b}return d.map(this.scale.getTicks(),this.dataToCoord,this)},getLabelsCoords:function(){var a,b,c,e;if(this.onBand){for(a=this.getBands(),b=[],e=0;e<a.length;e++)c=a[e],b.push((c[0]+c[1])/2);return b}return d.map(this.scale.getTicks(),this.dataToCoord,this)},getBands:function(){var g,a=this.getExtent(),b=[],c=this.scale.count(),d=a[0],e=a[1],f=e-d;for(g=0;c>g;g++)b.push([f*g/c+d,f*(g+1)/c+d]);return b},getBandWidth:function(){var a=this._extent,b=this.scale.getExtent(),c=b[1]-b[0]+(this.onBand?1:0),d=Math.abs(a[1]-a[0]);return Math.abs(d)/c}},f}),b("echarts/coord/cartesian/axisLabelInterval",["require","zrender/core/util","../axisHelper"],function(a){var b=a("zrender/core/util"),c=a("../axisHelper");return function(a){var d=a.model,e=d.getModel("axisLabel"),f=e.get("interval");return"category"!==a.type||"auto"!==f?"auto"===f?0:f:c.getAxisLabelInterval(b.map(a.scale.getTicks(),a.dataToCoord,a),d.getFormattedLabels(),e.getModel("textStyle").getFont(),a.isHorizontal())}}),b("echarts/coord/cartesian/Axis2D",["require","zrender/core/util","../Axis","./axisLabelInterval"],function(a){var b=a("zrender/core/util"),c=a("../Axis"),d=a("./axisLabelInterval"),e=function(a,b,d,e,f){c.call(this,a,b,d),this.type=e||"value",this.position=f||"bottom"};return e.prototype={constructor:e,index:0,onZero:!1,model:null,isHorizontal:function(){var a=this.position;return"top"===a||"bottom"===a},getGlobalExtent:function(){var a=this.getExtent();return a[0]=this.toGlobalCoord(a[0]),a[1]=this.toGlobalCoord(a[1]),a},getLabelInterval:function(){var a=this._labelInterval;return a||(a=this._labelInterval=d(this)),a},isLabelIgnored:function(a){if("category"===this.type){var b=this.getLabelInterval();return"function"==typeof b&&!b(a,this.scale.getLabel(a))||a%(b+1)}},toLocalCoord:null,toGlobalCoord:null},b.inherits(e,c),e}),b("echarts/coord/axisDefault",["require","zrender/core/util"],function(a){var b=a("zrender/core/util"),c={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameTextStyle:{},nameGap:15,axisLine:{show:!0,onZero:!0,lineStyle:{color:"#333",width:1,type:"solid"}},axisTick:{show:!0,inside:!1,length:5,lineStyle:{color:"#333",width:1}},axisLabel:{show:!0,inside:!1,rotate:0,margin:8,textStyle:{color:"#333",fontSize:12}},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},d=b.merge({boundaryGap:!0,axisTick:{interval:"auto"},axisLabel:{interval:"auto"}},c),e=b.defaults({boundaryGap:[0,0],splitNumber:5},c),f=b.defaults({scale:!0,min:"dataMin",max:"dataMax"},e),g=b.defaults({},e);return g.scale=!0,{categoryAxis:d,valueAxis:e,timeAxis:f,logAxis:g}}),b("echarts/coord/axisModelCreator",["require","./axisDefault","zrender/core/util","../model/Component"],function(a){var b=a("./axisDefault"),c=a("zrender/core/util"),d=a("../model/Component"),e=["value","category","time","log"];return function(a,f,g,h){c.each(e,function(d){f.extend({type:a+"Axis."+d,mergeDefaultAndTheme:function(b,e){var f=e.getTheme();c.merge(b,f.get(d+"Axis")),c.merge(b,this.getDefaultOption()),b.type=g(a,b)},defaultOption:c.mergeAll([{},b[d+"Axis"],h],!0)})}),d.registerSubTypeDefaulter(a+"Axis",c.curry(g,a))}}),b("echarts/coord/axisModelCommonMixin",["require","zrender/core/util","./axisHelper"],function(a){function d(a){return b.isObject(a)&&null!=a.value?a.value:a}function e(){return"category"===this.get("type")&&b.map(this.get("data"),d)}function f(){return c.getFormattedLabels(this.axis,this.get("axisLabel.formatter"))}var b=a("zrender/core/util"),c=a("./axisHelper");return{getFormattedLabels:f,getCategories:e}}),b("echarts/coord/cartesian/AxisModel",["require","../../model/Component","zrender/core/util","../axisModelCreator","../axisModelCommonMixin"],function(a){function f(a,b){return b.type||(b.data?"category":"value")}var g,b=a("../../model/Component"),c=a("zrender/core/util"),d=a("../axisModelCreator"),e=b.extend({type:"cartesian2dAxis",axis:null,setNeedsCrossZero:function(a){this.option.scale=!a},setMin:function(a){this.option.min=a},setMax:function(a){this.option.max=a}});return c.merge(e.prototype,a("../axisModelCommonMixin")),g={gridIndex:0},d("x",e,f,g),d("y",e,f,g),e}),b("echarts/coord/cartesian/GridModel",["require","./AxisModel","../../model/Component"],function(a){a("./AxisModel");var b=a("../../model/Component");return b.extend({type:"grid",dependencies:["xAxis","yAxis"],layoutMode:"box",coordinateSystem:null,defaultOption:{show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:60,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"}})}),b("echarts/coord/cartesian/Grid",["require","exports","module","../../util/layout","../../coord/axisHelper","zrender/core/util","./Cartesian2D","./Axis2D","./GridModel","../../CoordinateSystem"],function(a){function l(a,b,c){return c.getComponent("grid",a.get("gridIndex"))===b}function m(a){var d,e,f,b=a.model,c=b.getFormattedLabels();for(e=0;e<c.length;e++)a.isLabelIgnored(e)||(f=b.getTextRect(c[e]),d?d.union(f):d=f);return d}function n(a,b,c){this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this._initCartesian(a,b,c)}function p(a,b){var c=a.getExtent(),d=c[0]+c[1];a.toGlobalCoord="x"===a.dim?function(a){return a+b}:function(a){return d-a+b},a.toLocalCoord="x"===a.dim?function(a){return a-b}:function(a){return d-a+b}}var o,c=a("../../util/layout"),d=a("../../coord/axisHelper"),e=a("zrender/core/util"),f=a("./Cartesian2D"),g=a("./Axis2D"),h=e.each,i=d.ifAxisCrossZero,j=d.ifAxisNeedsCrossZero,k=d.niceScaleExtent;return a("./GridModel"),o=n.prototype,o.type="grid",o.getRect=function(){return this._rect},o.resize=function(a,b){function f(){h(e,function(a){var b=a.isHorizontal(),c=b?[0,d.width]:[0,d.height],e=a.inverse?1:0;a.setExtent(c[e],c[1-e]),p(a,b?d.x:d.y)})}var e,d=c.getLayoutRect(a.getBoxLayoutParams(),{width:b.getWidth(),height:b.getHeight()});this._rect=d,e=this._axesList,f(),a.get("containLabel")&&(h(e,function(a){var b,c,e;a.model.get("axisLabel.inside")||(b=m(a),b&&(c=a.isHorizontal()?"height":"width",e=a.model.get("axisLabel.margin"),d[c]-=b[c]+e,"top"===a.position?d.y+=b.height+e:"left"===a.position&&(d.x+=b.width+e)))}),f())},o.getAxis=function(a,b){var c,d,e;if(null!=b)return c=a+b,this._axesMap[c];for(d=this._axesList,e=0;e<d.length;e++)if(d[e].dim===a)return d[e]},o.getCartesian=function(a,b){var c="x"+a+"y"+b;return this._coordsMap[c]},o._initCartesian=function(a,b){function o(a){var b=m[a];return b[0]&&("category"===b[0].type||!i(b[0]))||b[1]&&("category"===b[1].type||!i(b[1]))}function p(c){return function(f,h){var i,j,k;l(f,a,b)&&(i=f.get("position"),"x"===c?("top"!==i&&"bottom"!==i&&(i="bottom"),e[i]&&(i="top"===i?"bottom":"top")):("left"!==i&&"right"!==i&&(i="left"),e[i]&&(i="left"===i?"right":"left")),e[i]=!0,j=new g(c,d.createScaleByModel(f),[0,0],f.get("type"),i),k="category"===j.type,j.onBand=k&&f.get("boundaryGap"),j.inverse=f.get("inverse"),j.onZero=f.get("axisLine.onZero"),f.axis=j,j.model=f,j.index=h,this._axesList.push(j),this._axesMap[c+h]=j,m[c][h]=j,n[c]++)}}var e={left:!1,right:!1,top:!1,bottom:!1},m={x:{},y:{}},n={x:0,y:0};return b.eachComponent("xAxis",p("x"),this),b.eachComponent("yAxis",p("y"),this),n.x&&n.y?(h(m.x,function(a,b){h(m.y,function(c,d){var e="x"+b+"y"+d,g=new f(e);g.grid=this,this._coordsMap[e]=g,this._coordsList.push(g),g.addAxis(a),g.addAxis(c)},this)},this),this._updateCartesianFromSeries(b,a),h(m.x,function(a){o("y")&&(a.onZero=!1),j(a)&&a.scale.unionExtent([0,0]),k(a,a.model)},this),h(m.y,function(a){o("x")&&(a.onZero=!1),j(a)&&a.scale.unionExtent([0,0]),k(a,a.model)},this),void 0):(this._axesMap={},this._axesList=[],void 0)},o._updateCartesianFromSeries=function(a,b){function c(a,b,c,d){h(d.getDimensionsOnAxis(c),function(c){b.scale.unionExtent(a.getDataExtent(c,"ordinal"!==b.scale.type))})}a.eachSeries(function(d){var e,f,g,h,i,j;if("cartesian2d"===d.get("coordinateSystem")){if(e=d.get("xAxisIndex"),f=d.get("yAxisIndex"),g=a.getComponent("xAxis",e),h=a.getComponent("yAxis",f),!l(g,b,a)||!l(h,b,a))return;i=this.getCartesian(e,f),j=d.getData(),"list"===j.type&&(c(j,i.getAxis("x"),"x",d),c(j,i.getAxis("y"),"y",d))}},this)},n.create=function(a,b){var c=[];return a.eachComponent("grid",function(d,e){var f=new n(d,a,b);f.name="grid_"+e,f.resize(d,b),d.coordinateSystem=f,c.push(f)}),a.eachSeries(function(b){var d,e,f;"cartesian2d"===b.get("coordinateSystem")&&(d=b.get("xAxisIndex"),e=a.getComponent("xAxis",d),f=c[e.get("gridIndex")],b.coordinateSystem=f.getCartesian(d,b.get("yAxisIndex")))}),c},a("../../CoordinateSystem").register("grid",n),n}),b("echarts/chart/bar/BarSeries",["require","../../model/Series","../helper/createListFromArray"],function(a){var b=a("../../model/Series"),c=a("../helper/createListFromArray");return b.extend({type:"series.bar",dependencies:["grid","polar"],getInitialData:function(a,b){return c(a.data,this,b)},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,barMinHeight:0,barGap:"30%",barCategoryGap:"20%",itemStyle:{normal:{barBorderColor:"#fff",barBorderWidth:0},emphasis:{barBorderColor:"#fff",barBorderWidth:0}}}})}),b("echarts/chart/bar/barItemStyle",["require","../../model/mixin/makeStyleMapper"],function(a){return{getBarItemStyle:a("../../model/mixin/makeStyleMapper")([["fill","color"],["stroke","barBorderColor"],["lineWidth","barBorderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]])}}),b("echarts/chart/bar/BarView",["require","zrender/core/util","../../util/graphic","../../model/Model","./barItemStyle","../../echarts"],function(a){function d(a,b){var c=a.width>0?1:-1,d=a.height>0?1:-1;b=Math.min(b,Math.abs(a.width),Math.abs(a.height)),a.x+=c*b/2,a.y+=d*b/2,a.width-=c*b,a.height-=d*b}var b=a("zrender/core/util"),c=a("../../util/graphic");return b.extend(a("../../model/Model").prototype,a("./barItemStyle")),a("../../echarts").extendChartView({type:"bar",render:function(a,b,c){var d=a.get("coordinateSystem");return"cartesian2d"===d&&this._renderOnCartesian(a,b,c),this.group},_renderOnCartesian:function(a){function o(e,f){var j,k,o,p,g=h.getItemLayout(e),i=h.getItemModel(e).get(n)||0;return d(g,i),j=new c.Rect({shape:b.extend({},g)}),m&&(k=j.shape,o=l?"height":"width",p={},k[o]=0,p[o]=g[o],c[f?"updateProps":"initProps"](j,{shape:p},a)),j}var g=this.group,h=a.getData(),i=this._data,j=a.coordinateSystem,k=j.getBaseAxis(),l=k.isHorizontal(),m=a.get("animation"),n=["itemStyle","normal","barBorderWidth"];h.diff(i).add(function(a){if(h.hasValue(a)){var b=o(a);h.setItemGraphicEl(a,b),g.add(b)}}).update(function(b,e){var j,k,f=i.getItemGraphicEl(e);return h.hasValue(b)?(f||(f=o(b,!0)),j=h.getItemLayout(b),k=h.getItemModel(b).get(n)||0,d(j,k),c.updateProps(f,{shape:j},a),h.setItemGraphicEl(b,f),g.add(f),void 0):(g.remove(f),void 0)}).remove(function(b){var d=i.getItemGraphicEl(b);d&&(d.style.text="",c.updateProps(d,{shape:{width:0}},a,function(){g.remove(d)}))}).execute(),this._updateStyle(a,h,l),this._data=h},_updateStyle:function(a,d,e){function f(a,b,d,e,f){c.setText(a,b,d),a.text=e,"outside"===a.textPosition&&(a.textPosition=f)}d.eachItemGraphicEl(function(g,h){var n,o,p,i=d.getItemModel(h),j=i.getModel("label.normal"),k=d.getItemVisual(h,"color"),l=d.getItemLayout(h),m=i.getModel("itemStyle.emphasis").getItemStyle();g.setStyle(b.defaults({fill:k},i.getModel("itemStyle.normal").getBarItemStyle())),n=e?l.height>0?"bottom":"top":l.width>0?"left":"right",j=i.getModel("label.normal"),o=i.getModel("label.emphasis"),p=g.style,j.get("show")?f(p,j,k,a.getFormattedLabel(h,"normal")||a.getRawValue(h),n):p.text="",o.get("show")?f(m,o,k,a.getFormattedLabel(h,"emphasis")||a.getRawValue(h),n):m.text="",c.setHoverStyle(g,m)})},remove:function(a){var d=this.group;a.get("animation")?this._data&&this._data.eachItemGraphicEl(function(b){b.style.text="",c.updateProps(b,{shape:{width:0}},a,function(){d.remove(b)})}):d.removeAll()}})}),b("echarts/layout/barGrid",["require","zrender/core/util","../util/number"],function(a){function e(a){return a.get("stack")||"__ec_stack_"+a.seriesIndex}function f(a){var g,f={};return b.each(a,function(a){var i,j,k,l,m,c=a.coordinateSystem,d=c.getBaseAxis(),g=f[d.index]||{remainedWidth:d.getBandWidth(),autoWidthCount:0,categoryGap:"20%",gap:"30%",axis:d,stacks:{}},h=g.stacks;f[d.index]=g,i=e(a),h[i]||g.autoWidthCount++,h[i]=h[i]||{width:0,maxWidth:0},j=a.get("barWidth"),k=a.get("barMaxWidth"),l=a.get("barGap"),m=a.get("barCategoryGap"),j&&!h[i].width&&(j=Math.min(g.remainedWidth,j),h[i].width=j,g.remainedWidth-=j),k&&(h[i].maxWidth=k),null!=l&&(g.gap=l),null!=m&&(g.categoryGap=m)}),g={},b.each(f,function(a,c){var e,f,h,i,j,k,l,m,n,o,p;g[c]={},e=a.stacks,f=a.axis,h=f.getBandWidth(),i=d(a.categoryGap,h),j=d(a.gap,1),k=a.remainedWidth,l=a.autoWidthCount,m=(k-i)/(l+(l-1)*j),m=Math.max(m,0),b.each(e,function(a){var c=a.maxWidth;!a.width&&c&&m>c&&(c=Math.min(c,k),k-=c,a.width=c,l--)}),m=(k-i)/(l+(l-1)*j),m=Math.max(m,0),n=0,b.each(e,function(a){a.width||(a.width=m),o=a,n+=a.width*(1+j)}),o&&(n-=o.width*j),p=-n/2,b.each(e,function(a,b){g[c][b]=g[c][b]||{offset:p,width:a.width},p+=a.width*(1+j)
})}),g}function g(a,c){var g=f(b.filter(c.getSeriesByType(a),function(a){return!c.isSeriesFiltered(a)&&a.coordinateSystem&&"cartesian2d"===a.coordinateSystem.type})),h={};c.eachSeriesByType(a,function(a){var b=a.getData(),c=a.coordinateSystem,d=c.getBaseAxis(),f=e(a),i=g[d.index][f],j=i.offset,k=i.width,l=c.getOtherAxis(d),m=a.get("barMinHeight")||0,n=d.onZero?l.toGlobalCoord(l.dataToCoord(0)):l.getGlobalExtent()[0],o=c.dataToPoints(b,!0);h[f]=h[f]||[],b.each(l.dim,function(a,c){var d,e,g,i,p,q,r;isNaN(a)||(h[f][c]||(h[f][c]={p:n,n:n}),d=a>=0?"p":"n",e=o[c],g=h[f][c][d],l.isHorizontal()?(i=g,p=e[1]+j,q=e[0]-g,r=k,Math.abs(q)<m&&(q=(0>q?-1:1)*m),h[f][c][d]+=q):(i=e[0]+j,p=g,q=k,r=e[1]-g,Math.abs(r)<m&&(r=(0>=r?-1:1)*m),h[f][c][d]+=r),b.setItemLayout(c,{x:i,y:p,width:q,height:r}))},!0)},this)}var b=a("zrender/core/util"),c=a("../util/number"),d=c.parsePercent;return g}),b("echarts/chart/bar",["require","zrender/core/util","../coord/cartesian/Grid","./bar/BarSeries","./bar/BarView","../layout/barGrid","../echarts"],function(a){var c,d,b=a("zrender/core/util");a("../coord/cartesian/Grid"),a("./bar/BarSeries"),a("./bar/BarView"),c=a("../layout/barGrid"),d=a("../echarts"),d.registerLayout(b.curry(c,"bar")),d.registerVisualCoding("chart",function(a){a.eachSeriesByType("bar",function(a){var b=a.getData();b.setVisual("legendSymbol","roundRect")})})}),b("echarts/component/axis/AxisBuilder",["require","zrender/core/util","../../util/graphic","../../model/Model","../../util/number"],function(a){function k(a,b,c){var e,i,d=f(b-a.rotation);return g(d)?(i=c>0?"top":"bottom",e="center"):g(d-h)?(i=c>0?"bottom":"top",e="center"):(i="middle",e=d>0&&h>d?c>0?"right":"left":c>0?"left":"right"),{rotation:d,textAlign:e,textBaseline:i}}function l(a,b,c){var e,i,d=f(-a.rotation),j=c[0]>c[1],k="start"===b&&!j||"start"!==b&&j;return g(d-h/2)?(i=k?"bottom":"top",e="center"):g(d-1.5*h)?(i=k?"top":"bottom",e="center"):(i="middle",e=1.5*h>d&&d>h/2?k?"left":"right":k?"right":"left"),{rotation:d,textAlign:e,textBaseline:i}}var j,m,n,b=a("zrender/core/util"),c=a("../../util/graphic"),d=a("../../model/Model"),e=a("../../util/number"),f=e.remRadian,g=e.isRadianAroundZero,h=Math.PI,i=function(a,d){this.opt=d,this.axisModel=a,b.defaults(d,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0}),this.group=new c.Group({position:d.position.slice(),rotation:d.rotation})};return i.prototype={constructor:i,hasBuilder:function(a){return!!j[a]},add:function(a){j[a].call(this)},getGroup:function(){return this.group}},j={axisLine:function(){var e,a=this.opt,d=this.axisModel;d.get("axisLine.show")&&(e=this.axisModel.axis.getExtent(),this.group.add(new c.Line({shape:{x1:e[0],y1:0,x2:e[1],y2:0},style:b.extend({lineCap:"round"},d.getModel("axisLine.lineStyle").getLineStyle()),strokeContainThreshold:a.strokeContainThreshold,silent:!!a.silent,z2:1})))},axisTick:function(){var b,d,e,f,g,h,i,j,k,l,a=this.axisModel;if(a.get("axisTick.show")){for(b=a.axis,d=a.getModel("axisTick"),e=this.opt,f=d.getModel("lineStyle"),g=d.get("length"),h=n(d,e.labelInterval),i=b.getTicksCoords(),j=[],k=0;k<i.length;k++)m(b,k,h)||(l=i[k],j.push(new c.Line(c.subPixelOptimizeLine({shape:{x1:l,y1:0,x2:l,y2:e.tickDirection*g},style:{lineWidth:f.get("width")},silent:!0}))));this.group.add(c.mergePath(j,{style:f.getLineStyle(),silent:!0}))}},axisLabel:function(){function w(a,b){var c=a&&a.getBoundingRect().clone(),d=b&&b.getBoundingRect().clone();return c&&d?(c.applyTransform(a.getLocalTransform()),d.applyTransform(b.getLocalTransform()),c.intersect(d)):void 0}var b,e,f,g,i,j,l,n,o,p,q,r,s,t,u,v,x,y,z,A,a=this.axisModel;if(a.get("axisLabel.show")){for(b=this.opt,e=a.axis,f=a.getModel("axisLabel"),g=f.getModel("textStyle"),i=f.get("margin"),j=e.scale.getTicks(),l=a.getFormattedLabels(),n=b.labelRotation,null==n&&(n=f.get("rotate")||0),n=n*h/180,o=k(b,n,b.labelDirection),p=a.get("data"),q=[],r=0;r<j.length;r++)m(e,r,b.labelInterval)||(s=g,p&&p[r]&&p[r].textStyle&&(s=new d(p[r].textStyle,g,a.ecModel)),t=e.dataToCoord(j[r]),u=[t,b.labelOffset+b.labelDirection*i],v=new c.Text({style:{text:l[r],textAlign:s.get("align",!0)||o.textAlign,textBaseline:s.get("baseline",!0)||o.textBaseline,textFont:s.getFont(),fill:s.getTextColor()},position:u,rotation:o.rotation,silent:!0,z2:10}),q.push(v),this.group.add(v));"category"!==e.type&&(a.get("min")&&(x=q[0],y=q[1],w(x,y)&&(x.ignore=!0)),a.get("max")&&(z=q[q.length-1],A=q[q.length-2],w(A,z)&&(z.ignore=!0)))}},axisName:function(){var e,f,g,h,i,j,m,n,a=this.opt,b=this.axisModel,d=this.opt.axisName;null==d&&(d=b.get("name")),d&&(e=b.get("nameLocation"),f=a.nameDirection,g=b.getModel("nameTextStyle"),h=b.get("nameGap")||0,i=this.axisModel.axis.getExtent(),j=i[0]>i[1]?-1:1,m=["start"===e?i[0]-j*h:"end"===e?i[1]+j*h:(i[0]+i[1])/2,"middle"===e?a.labelOffset+f*h:0],n="middle"===e?k(a,a.rotation,f):l(a,e,i),this.group.add(new c.Text({style:{text:d,textFont:g.getFont(),fill:g.getTextColor()||b.get("axisLine.lineStyle.color"),textAlign:n.textAlign,textBaseline:n.textBaseline},position:m,rotation:n.rotation,silent:!0,z2:1})))}},m=i.ifIgnoreOnTick=function(a,b,c){return"ordinal"===a.scale.type&&"function"==typeof c&&!c(b,a.scale.getLabel(b))||b%(c+1)},n=i.getInterval=function(a,b){var c=a.get("interval");return(null==c||"auto"==c)&&(c=b),c},i}),b("echarts/component/axis/AxisView",["require","zrender/core/util","../../util/graphic","./AxisBuilder","../../echarts"],function(a){function j(a,b){function l(a){var d=c.getAxis(a);return d.toGlobalCoord(d.dataToCoord(0))}var m,n,o,c=a.coordinateSystem,d=b.axis,e={},f=d.position,g=d.onZero?"onZero":f,h=d.dim,i=c.getRect(),j=[i.x,i.x+i.width,i.y,i.y+i.height],k={x:{top:j[2],bottom:j[3]},y:{left:j[0],right:j[1]}};return k.x.onZero=Math.max(Math.min(l("y"),k.x.bottom),k.x.top),k.y.onZero=Math.max(Math.min(l("x"),k.y.right),k.y.left),e.position=["y"===h?k.y[g]:j[0],"x"===h?k.x[g]:j[3]],m={x:0,y:1},e.rotation=Math.PI/2*m[h],n={top:-1,bottom:1,left:-1,right:1},e.labelDirection=e.tickDirection=e.nameDirection=n[f],d.onZero&&(e.labelOffset=k[h][f]-k[h].onZero),b.getModel("axisTick").get("inside")&&(e.tickDirection=-e.tickDirection),b.getModel("axisLabel").get("inside")&&(e.labelDirection=-e.labelDirection),o=b.getModel("axisLabel").get("rotate"),e.labelRotation="top"===g?-o:o,e.labelInterval=d.getLabelInterval(),e.z2=1,e}var b=a("zrender/core/util"),c=a("../../util/graphic"),d=a("./AxisBuilder"),e=d.ifIgnoreOnTick,f=d.getInterval,g=["axisLine","axisLabel","axisTick","axisName"],h=["splitLine","splitArea"],i=a("../../echarts").extendComponentView({type:"axis",render:function(a,c){var e,f,i;this.group.removeAll(),a.get("show")&&(e=c.getComponent("grid",a.get("gridIndex")),f=j(e,a),i=new d(a,f),b.each(g,i.add,i),this.group.add(i.getGroup()),b.each(h,function(b){a.get(b+".show")&&this["_"+b](a,e,f.labelInterval)},this))},_splitLine:function(a,b,d){var m,n,o,p,q,r,s,t,u,v,g=a.axis,h=a.getModel("splitLine"),i=h.getModel("lineStyle"),j=i.get("width"),k=i.get("color"),l=f(h,d);for(k=k instanceof Array?k:[k],m=b.coordinateSystem.getRect(),n=g.isHorizontal(),o=[],p=0,q=g.getTicksCoords(),r=[],s=[],t=0;t<q.length;t++)e(g,t,l)||(u=g.toGlobalCoord(q[t]),n?(r[0]=u,r[1]=m.y,s[0]=u,s[1]=m.y+m.height):(r[0]=m.x,r[1]=u,s[0]=m.x+m.width,s[1]=u),v=p++%k.length,o[v]=o[v]||[],o[v].push(new c.Line(c.subPixelOptimizeLine({shape:{x1:r[0],y1:r[1],x2:s[0],y2:s[1]},style:{lineWidth:j},silent:!0}))));for(t=0;t<o.length;t++)this.group.add(c.mergePath(o[t],{style:{stroke:k[t%k.length],lineDash:i.getLineDash(),lineWidth:j},silent:!0}))},_splitArea:function(a,b,d){var q,r,s,t,u,v,w,g=a.axis,h=a.getModel("splitArea"),i=h.get("areaStyle.color"),j=b.coordinateSystem.getRect(),k=g.getTicksCoords(),l=g.toGlobalCoord(k[0]),m=g.toGlobalCoord(k[0]),n=[],o=0,p=f(h,d);for(i=i instanceof Array?i:[i],q=1;q<k.length;q++)e(g,q,p)||(r=g.toGlobalCoord(k[q]),g.isHorizontal()?(s=l,t=j.y,u=r-s,v=j.height):(s=j.x,t=m,u=j.width,v=r-t),w=o++%i.length,n[w]=n[w]||[],n[w].push(new c.Rect({shape:{x:s,y:t,width:u,height:v},silent:!0})),l=s+u,m=t+v);for(q=0;q<n.length;q++)this.group.add(c.mergePath(n[q],{style:{fill:i[q%i.length]},silent:!0}))}});i.extend({type:"xAxis"}),i.extend({type:"yAxis"})}),b("echarts/component/axis",["require","../coord/cartesian/AxisModel","./axis/AxisView"],function(a){a("../coord/cartesian/AxisModel"),a("./axis/AxisView")}),b("echarts/component/grid",["require","../util/graphic","zrender/core/util","../coord/cartesian/Grid","./axis","../echarts"],function(a){var b=a("../util/graphic"),c=a("zrender/core/util");a("../coord/cartesian/Grid"),a("./axis"),a("../echarts").extendComponentView({type:"grid",render:function(a){this.group.removeAll(),a.get("show")&&this.group.add(new b.Rect({shape:a.coordinateSystem.getRect(),style:c.defaults({fill:a.get("backgroundColor")},a.getItemStyle()),silent:!0}))}})}),b("echarts/chart/helper/dataSelectableMixin",["require","zrender/core/util"],function(a){var b=a("zrender/core/util");return{updateSelectedMap:function(){var a=this.option;this._dataOptMap=b.reduce(a.data,function(a,b){return a[b.name]=b,a},{})},select:function(a){var c=this._dataOptMap,d=c[a],e=this.get("selectedMode");"single"===e&&b.each(c,function(a){a.selected=!1}),d&&(d.selected=!0)},unSelect:function(a){var b=this._dataOptMap[a];b&&(b.selected=!1)},toggleSelected:function(a){var b=this._dataOptMap[a];return null!=b?(this[b.selected?"unSelect":"select"](a),b.selected):void 0},isSelected:function(a){var b=this._dataOptMap[a];return b&&b.selected}}}),b("echarts/chart/pie/PieSeries",["require","../../data/List","zrender/core/util","../../util/model","../../data/helper/completeDimensions","../helper/dataSelectableMixin","../../echarts"],function(a){var b=a("../../data/List"),c=a("zrender/core/util"),d=a("../../util/model"),e=a("../../data/helper/completeDimensions"),f=a("../helper/dataSelectableMixin"),g=a("../../echarts").extendSeriesModel({type:"series.pie",init:function(a){this.$superApply("init",arguments),this.legendDataProvider=function(){return this._dataBeforeProcessed},this.updateSelectedMap(),this._defaultLabelLine(a)},mergeOption:function(a){this.$superCall("mergeOption",a),this.updateSelectedMap()},getInitialData:function(a){var d=e(["value"],a.data),f=new b(d,this);return f.initData(a.data),f},getDataParams:function(a){var b=this._data,c=this.$superCall("getDataParams",a);return c.percent=+(100*(b.get("value",a)/b.getSum("value"))).toFixed(2),c.$vars.push("percent"),c},_defaultLabelLine:function(a){var b,c;d.defaultEmphasis(a.labelLine,["show"]),b=a.labelLine.normal,c=a.labelLine.emphasis,b.show=b.show&&a.label.normal.show,c.show=c.show&&a.label.emphasis.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,selectedOffset:10,avoidLabelOverlap:!0,label:{normal:{rotate:!1,show:!0,position:"outer"},emphasis:{}},labelLine:{normal:{show:!0,length:20,length2:5,smooth:!1,lineStyle:{width:1,type:"solid"}}},itemStyle:{normal:{borderColor:"rgba(0,0,0,0)",borderWidth:1},emphasis:{borderColor:"rgba(0,0,0,0)",borderWidth:1}},animationEasing:"cubicOut",data:[]}});return c.mixin(g,f),g}),b("echarts/chart/pie/PieView",["require","../../util/graphic","zrender/core/util","../../view/Chart"],function(a){function d(a,b,c,d){var f=b.getData(),g=this.dataIndex,h=f.getName(g),i=b.get("selectedOffset");d.dispatchAction({type:"pieToggleSelect",from:a,name:h,seriesId:b.id}),f.each(function(a){e(f.getItemGraphicEl(a),f.getItemLayout(a),b.isSelected(f.getName(a)),i,c)})}function e(a,b,c,d,e){var f=(b.startAngle+b.endAngle)/2,g=Math.cos(f),h=Math.sin(f),i=c?d:0,j=[g*i,h*i];e?a.animate().when(200,{position:j}).start("bounceOut"):a.attr("position",j)}function f(a,c){function g(){e.ignore=e.hoverIgnore,f.ignore=f.hoverIgnore}function h(){e.ignore=e.normalIgnore,f.ignore=f.normalIgnore}var d,e,f;b.Group.call(this),d=new b.Sector({z2:2}),e=new b.Polyline,f=new b.Text,this.add(d),this.add(e),this.add(f),this.updateData(a,c,!0),this.on("emphasis",g).on("normal",h).on("mouseover",g).on("mouseout",h)}function h(a,b,c,d){var e=d.getModel("textStyle"),f=d.get("position"),g="inside"===f||"inner"===f;return{fill:e.getTextColor()||(g?"#fff":a.getItemVisual(b,"color")),textFont:e.getFont(),text:a.hostModel.getFormattedLabel(b,c)||a.getName(b)}}var i,b=a("../../util/graphic"),c=a("zrender/core/util"),g=f.prototype;return g.updateData=function(a,d,f){function n(){g.stopAnimation(!0),g.animateTo({shape:{r:j.r+10}},300,"elasticOut")}function o(){g.stopAnimation(!0),g.animateTo({shape:{r:j.r}},300,"elasticOut")}var l,m,g=this.childAt(0),h=a.hostModel,i=a.getItemModel(d),j=a.getItemLayout(d),k=c.extend({},j);k.label=null,f?(g.setShape(k),g.shape.endAngle=j.startAngle,b.updateProps(g,{shape:{endAngle:j.endAngle}},h)):b.updateProps(g,{shape:k},h),l=i.getModel("itemStyle"),m=a.getItemVisual(d,"color"),g.setStyle(c.defaults({fill:m},l.getModel("normal").getItemStyle())),g.hoverStyle=l.getModel("emphasis").getItemStyle(),e(this,a.getItemLayout(d),i.get("selected"),h.get("selectedOffset"),h.get("animation")),g.off("mouseover").off("mouseout").off("emphasis").off("normal"),i.get("hoverAnimation")&&g.on("mouseover",n).on("mouseout",o).on("emphasis",n).on("normal",o),this._updateLabel(a,d),b.setHoverStyle(this)},g._updateLabel=function(a,c){var l,m,n,o,p,d=this.childAt(1),e=this.childAt(2),f=a.hostModel,g=a.getItemModel(c),i=a.getItemLayout(c),j=i.label,k=a.getItemVisual(c,"color");b.updateProps(d,{shape:{points:j.linePoints||[[j.x,j.y],[j.x,j.y],[j.x,j.y]]}},f),b.updateProps(e,{style:{x:j.x,y:j.y}},f),e.attr({style:{textAlign:j.textAlign,textBaseline:j.textBaseline,textFont:j.font},rotation:j.rotation,origin:[j.x,j.y],z2:10}),l=g.getModel("label.normal"),m=g.getModel("label.emphasis"),n=g.getModel("labelLine.normal"),o=g.getModel("labelLine.emphasis"),e.setStyle(h(a,c,"normal",l)),e.ignore=e.normalIgnore=!l.get("show"),e.hoverIgnore=!m.get("show"),d.ignore=d.normalIgnore=!n.get("show"),d.hoverIgnore=!o.get("show"),d.setStyle({stroke:k}),d.setStyle(n.getModel("lineStyle").getLineStyle()),e.hoverStyle=h(a,c,"emphasis",m),d.hoverStyle=o.getModel("lineStyle").getLineStyle(),p=n.get("smooth"),p&&p===!0&&(p=.4),d.setShape({smooth:p})},c.inherits(f,b.Group),i=a("../../view/Chart").extend({type:"pie",init:function(){var a=new b.Group;this._sectorGroup=a},render:function(a,b,e,g){var h,i,j,k,l,m,n,o,p,q;g&&g.from===this.uid||(h=a.getData(),i=this._data,j=this.group,k=b.get("animation"),l=!i,m=c.curry(d,this.uid,a,k,e),n=a.get("selectedMode"),h.diff(i).add(function(a){var b=new f(h,a);l&&b.eachChild(function(a){a.stopAnimation(!0)}),n&&b.on("click",m),h.setItemGraphicEl(a,b),j.add(b)}).update(function(a,b){var c=i.getItemGraphicEl(b);c.updateData(h,a),c.off("click"),n&&c.on("click",m),j.add(c),h.setItemGraphicEl(a,c)}).remove(function(a){var b=i.getItemGraphicEl(a);j.remove(b)}).execute(),k&&l&&h.count()>0&&(o=h.getItemLayout(0),p=Math.max(e.getWidth(),e.getHeight())/2,q=c.bind(j.removeClipPath,j),j.setClipPath(this._createClipPath(o.cx,o.cy,p,o.startAngle,o.clockwise,q,a))),this._data=h)},_createClipPath:function(a,c,d,e,f,g,h){var i=new b.Sector({shape:{cx:a,cy:c,r0:0,r:d,startAngle:e,endAngle:e,clockwise:f}});return b.initProps(i,{shape:{endAngle:e+2*(f?1:-1)*Math.PI}},h,g),i}})}),b("echarts/action/createDataSelectAction",["require","../echarts","zrender/core/util"],function(a){var b=a("../echarts"),c=a("zrender/core/util");return function(a,d){c.each(d,function(c){c.update="updateView",b.registerAction(c,function(b,d){var e={};return d.eachComponent({mainType:"series",subType:a,query:b},function(a){a[c.method]&&a[c.method](b.name);var d=a.getData();d.each(function(b){var c=d.getName(b);e[c]=a.isSelected(c)||!1})}),{name:b.name,selected:e}})})}}),b("echarts/visual/dataColor",["require"],function(){return function(a,b){var c=b.get("color"),d=0;b.eachRawSeriesByType(a,function(a){var g,e=a.get("color",!0),f=a.getRawData();b.isSeriesFiltered(a)||(g=a.getData(),g.each(function(a){var j,k,b=g.getItemModel(a),h=g.getRawIndex(a),i=g.getItemVisual(a,"color",!0);i?f.setItemVisual(h,"color",i):(j=e?e[h%e.length]:c[(h+d)%c.length],k=b.get("itemStyle.normal.color")||j,f.setItemVisual(h,"color",k),g.setItemVisual(a,"color",k))})),d+=f.count()})}}),b("echarts/chart/pie/labelLayout",["require","zrender/contain/text"],function(a){function c(a,b,c,d,e,f,g){function h(b,c,d){for(var f=b;c>f;f++)if(a[f].y+=d,f>b&&c>f+1&&a[f+1].y>a[f].y+a[f].height)return i(f,d/2),void 0;i(c-1,d/2)}function i(b,c){for(var d=b;d>=0&&(a[d].y-=c,!(d>0&&a[d].y>a[d-1].y+a[d-1].height));d--);}var j,k,l,m,n,o;for(a.sort(function(a,b){return a.y-b.y}),j=0,l=a.length,m=[],n=[],o=0;l>o;o++)k=a[o].y-j,0>k&&h(o,l,-k,e),j=a[o].y+a[o].height;for(0>g-j&&i(l-1,j-g),o=0;l>o;o++)a[o].y>=c?n.push(a[o]):m.push(a[o])}function d(a,b,d,e,f,g){var j,k,h=[],i=[];for(j=0;j<a.length;j++)a[j].x<b?h.push(a[j]):i.push(a[j]);for(c(h,b,d,e,-1,f,g),c(i,b,d,e,1,f,g),j=0;j<a.length;j++)k=a[j].linePoints,k&&(k[2][0]=a[j].x<b?a[j].x+3:a[j].x-3,k[1][1]=k[2][1]=a[j].y)}var b=a("zrender/contain/text");return function(a,c,e,f){var i,j,g=a.getData(),h=[],k=!1;g.each(function(d){var t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,e=g.getItemLayout(d),f=g.getItemModel(d),l=f.getModel("label.normal"),m=l.get("position"),n=f.getModel("labelLine.normal"),o=n.get("length"),p=n.get("length2"),q=(e.startAngle+e.endAngle)/2,r=Math.cos(q),s=Math.sin(q);i=e.cx,j=e.cy,"center"===m?(t=e.cx,u=e.cy,w="center"):(x="inside"===m||"inner"===m,y=(x?e.r/2*r:e.r*r)+i,z=(x?e.r/2*s:e.r*s)+j,o+=c-e.r,t=y+3*r,u=z+3*s,x||(A=y+r*o,B=z+s*o,C=A+(0>r?-1:1)*p,D=B,t=C+(0>r?-5:5),u=D,v=[[y,z],[A,B],[C,D]]),w=x?"center":r>0?"left":"right"),E="middle",F=l.getModel("textStyle").getFont(),G=l.get("rotate")?0>r?-q+Math.PI:-q:0,H=a.getFormattedLabel(d,"normal")||g.getName(d),I=b.getBoundingRect(H,F,w,E),k=!!G,e.label={x:t,y:u,height:I.height,length:o,length2:p,linePoints:v,textAlign:w,textBaseline:E,font:F,rotation:G},h.push(e.label)}),!k&&a.get("avoidLabelOverlap")&&d(h,i,j,c,e,f)}}),b("echarts/chart/pie/pieLayout",["require","../../util/number","./labelLayout","zrender/core/util"],function(a){var b=a("../../util/number"),c=b.parsePercent,d=a("./labelLayout"),e=a("zrender/core/util"),f=2*Math.PI,g=Math.PI/180;return function(a,h,i){h.eachSeriesByType(a,function(a){var k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,h=a.get("center"),j=a.get("radius");e.isArray(j)||(j=[0,j]),e.isArray(h)||(h=[h,h]),k=i.getWidth(),l=i.getHeight(),m=Math.min(k,l),n=c(h[0],k),o=c(h[1],l),p=c(j[0],m/2),q=c(j[1],m/2),r=a.getData(),s=-a.get("startAngle")*g,t=a.get("minAngle")*g,u=r.getSum("value"),v=2*(Math.PI/(u||r.count())),w=a.get("clockwise"),x=a.get("roseType"),y=r.getDataExtent("value"),y[0]=0,z=f,A=0,B=s,C=w?1:-1,r.each("value",function(a,c){var d,e;d="area"!==x?0===u?v:a*v:f/(r.count()||1),t>d?(d=t,z-=t):A+=a,e=B+C*d,r.setItemLayout(c,{angle:d,startAngle:B,endAngle:e,clockwise:w,cx:n,cy:o,r0:p,r:x?b.linearMap(a,y,[p,q]):q}),B=e},!0),f>z&&(.001>=z?(D=f/r.count(),r.each(function(a){var b=r.getItemLayout(a);b.startAngle=s+C*a*D,b.endAngle=s+C*(a+1)*D})):(v=z/A,B=s,r.each("value",function(a,b){var c=r.getItemLayout(b),d=c.angle===t?t:a*v;c.startAngle=B,c.endAngle=B+C*d,B+=d}))),d(a,q,k,l)})}}),b("echarts/processor/dataFilter",[],function(){return function(a,b){var c=b.findComponents({mainType:"legend"});c&&c.length&&b.eachSeriesByType(a,function(a){var b=a.getData();b.filterSelf(function(a){var e,d=b.getName(a);for(e=0;e<c.length;e++)if(!c[e].isSelected(d))return!1;return!0},this)},this)}}),b("echarts/chart/pie",["require","zrender/core/util","../echarts","./pie/PieSeries","./pie/PieView","../action/createDataSelectAction","../visual/dataColor","./pie/pieLayout","../processor/dataFilter"],function(a){var b=a("zrender/core/util"),c=a("../echarts");a("./pie/PieSeries"),a("./pie/PieView"),a("../action/createDataSelectAction")("pie",[{type:"pieToggleSelect",event:"pieselectchanged",method:"toggleSelected"},{type:"pieSelect",event:"pieselected",method:"select"},{type:"pieUnSelect",event:"pieunselected",method:"unSelect"}]),c.registerVisualCoding("chart",b.curry(a("../visual/dataColor"),"pie")),c.registerLayout(b.curry(a("./pie/pieLayout"),"pie")),c.registerProcessor("filter",b.curry(a("../processor/dataFilter"),"pie"))}),b("echarts/chart/scatter/ScatterSeries",["require","../helper/createListFromArray","../../model/Series"],function(a){var b=a("../helper/createListFromArray"),c=a("../../model/Series");return c.extend({type:"series.scatter",dependencies:["grid","polar"],getInitialData:function(a,c){var d=b(a.data,this,c);return d},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,polarIndex:0,geoIndex:0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{normal:{opacity:.8}}}})}),b("echarts/chart/helper/LargeSymbolDraw",["require","../../util/graphic","../../util/symbol","zrender/core/util"],function(a){function f(){this.group=new b.Group,this._symbolEl=new e({silent:!0})}var b=a("../../util/graphic"),c=a("../../util/symbol"),d=a("zrender/core/util"),e=b.extendShape({shape:{points:null,sizes:null},symbolProxy:null,buildPath:function(a,b){var g,h,i,c=b.points,d=b.sizes,e=this.symbolProxy,f=e.shape;for(g=0;g<c.length;g++)h=c[g],i=d[g],i[0]<4?a.rect(h[0]-i[0]/2,h[1]-i[1]/2,i[0],i[1]):(f.x=h[0]-i[0]/2,f.y=h[1]-i[1]/2,f.width=i[0],f.height=i[1],e.buildPath(a,f))}}),g=f.prototype;return g.updateData=function(a){var b,e,f;this.group.removeAll(),b=this._symbolEl,e=a.hostModel,b.setShape({points:a.mapArray(a.getItemLayout),sizes:a.mapArray(function(b){var c=a.getItemVisual(b,"symbolSize");return d.isArray(c)||(c=[c,c]),c})}),b.symbolProxy=c.createSymbol(a.getVisual("symbol"),0,0,0,0),b.setColor=b.symbolProxy.setColor,b.setStyle(e.getModel("itemStyle.normal").getItemStyle(["color"])),f=a.getVisual("color"),f&&b.setColor(f),this.group.add(this._symbolEl)},g.updateLayout=function(a){var b=a.getData();this._symbolEl.setShape({points:b.mapArray(b.getItemLayout)})},g.remove=function(){this.group.removeAll()},f}),b("echarts/chart/scatter/ScatterView",["require","../helper/SymbolDraw","../helper/LargeSymbolDraw","../../echarts"],function(a){var b=a("../helper/SymbolDraw"),c=a("../helper/LargeSymbolDraw");a("../../echarts").extendChartView({type:"scatter",init:function(){this._normalSymbolDraw=new b,this._largeSymbolDraw=new c},render:function(a){var d=a.getData(),e=this._largeSymbolDraw,f=this._normalSymbolDraw,g=this.group,h=a.get("large")&&d.count()>a.get("largeThreshold")?e:f;this._symbolDraw=h,h.updateData(d),g.add(h.group),g.remove(h===e?f.group:e.group)},updateLayout:function(){this._symbolDraw.updateLayout()},remove:function(a,b){this._symbolDraw&&this._symbolDraw.remove(b,!0)}})}),b("echarts/chart/scatter",["require","zrender/core/util","../echarts","./scatter/ScatterSeries","./scatter/ScatterView","../visual/symbol","../layout/points"],function(a){var b=a("zrender/core/util"),c=a("../echarts");a("./scatter/ScatterSeries"),a("./scatter/ScatterView"),c.registerVisualCoding("chart",b.curry(a("../visual/symbol"),"scatter","circle",null)),c.registerLayout(b.curry(a("../layout/points"),"scatter"))}),b("echarts/component/tooltip/TooltipModel",["require","../../echarts"],function(a){a("../../echarts").extendComponentModel({type:"tooltip",defaultOption:{zlevel:0,z:8,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove",alwaysShowContent:!1,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"rgba(50,50,50,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,axisPointer:{type:"line",axis:"auto",animation:!0,animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",lineStyle:{color:"#555",width:1,type:"solid"},crossStyle:{color:"#555",width:1,type:"dashed",textStyle:{}},shadowStyle:{color:"rgba(150,150,150,0.3)"}},textStyle:{color:"#fff",fontSize:14}}})}),b("echarts/component/tooltip/TooltipContent",["require","zrender/core/util","zrender/tool/color","zrender/core/event","../../util/format"],function(a){function j(a){var c="cubic-bezier(0.23, 1, 0.32, 1)",d="left "+a+"s "+c+","+"top "+a+"s "+c;return b.map(h,function(a){return a+"transition:"+d}).join(";")}function k(a){var b=[],c=a.get("fontSize"),d=a.getTextColor();return d&&b.push("color:"+d),b.push("font:"+a.getFont()),c&&b.push("line-height:"+Math.round(3*c/2)+"px"),f(["decoration","align"],function(c){var d=a.get(c);d&&b.push("text-"+c+":"+d)}),b.join(";")}function l(a){var b,d,h,i,l;return a=a,b=[],d=a.get("transitionDuration"),h=a.get("backgroundColor"),i=a.getModel("textStyle"),l=a.get("padding"),d&&b.push(j(d)),h&&(b.push("background-Color:"+c.toHex(h)),b.push("filter:alpha(opacity=70)"),b.push("background-Color:"+h)),f(["width","color","radius"],function(c){var d="border-"+c,e=g(d),f=a.get(e);null!=f&&b.push(d+":"+f+("color"===c?"":"px"))}),b.push(k(i)),null!=l&&b.push("padding:"+e.normalizeCssArray(l).join("px ")+"px"),b.join(";")+";"}function m(a,b){var f,c=document.createElement("div"),e=b.getZr();this.el=c,this._x=b.getWidth()/2,this._y=b.getHeight()/2,a.appendChild(c),this._container=a,this._show=!1,this._hideTimeout,f=this,c.onmouseenter=function(){f.enterable&&(clearTimeout(f._hideTimeout),f._show=!0),f._inContent=!0},c.onmousemove=function(b){if(!f.enterable){var c=e.handler;d.normalizeEvent(a,b),c.dispatch("mousemove",b)}},c.onmouseleave=function(){f.enterable&&f._show&&f.hideLater(f._hideDelay),f._inContent=!1},n(c,a)}function n(a,b){function c(a){e(a.target)&&a.preventDefault()}function e(c){for(;c&&c!==b;){if(c===a)return!0;c=c.parentNode}}d.addEventListener(b,"touchstart",c),d.addEventListener(b,"touchmove",c),d.addEventListener(b,"touchend",c)}var b=a("zrender/core/util"),c=a("zrender/tool/color"),d=a("zrender/core/event"),e=a("../../util/format"),f=b.each,g=e.toCamelCase,h=["","-webkit-","-moz-","-o-"],i="position:absolute;display:block;border-style:solid;white-space:nowrap;";return m.prototype={constructor:m,enterable:!0,update:function(){var a=this._container,b=a.currentStyle||document.defaultView.getComputedStyle(a),c=a.style;"absolute"!==c.position&&"absolute"!==b.position&&(c.position="relative"),this.hide()},show:function(a){clearTimeout(this._hideTimeout),this.el.style.cssText=i+l(a)+";left:"+this._x+"px;top:"+this._y+"px;",this._show=!0},setContent:function(a){var b=this.el;b.innerHTML=a,b.style.display=a?"block":"none"},moveTo:function(a,b){var c=this.el.style;c.left=a+"px",c.top=b+"px",this._x=a,this._y=b},hide:function(){this.el.style.display="none",this._show=!1},hideLater:function(a){!this._show||this._inContent&&this.enterable||(a?(this._hideDelay=a,this._show=!1,this._hideTimeout=setTimeout(b.bind(this.hide,this),a)):this.hide())},isShow:function(){return this._show}},m}),b("echarts/component/tooltip/TooltipView",["require","./TooltipContent","../../util/graphic","zrender/core/util","../../util/format","../../util/number","../../echarts"],function(a){function h(a,b){if(!a||!b)return!1;var c=f.round;return c(a[0])===c(b[0])&&c(a[1])===c(b[1])}function i(a,b,c,d){return{x1:a,y1:b,x2:c,y2:d}}function j(a,b,c,d){return{x:a,y:b,width:c,height:d}}function k(a,b,c,d,e,f){return{cx:a,cy:b,r0:c,r:d,startAngle:e,endAngle:f,clockwise:!0}}function l(a,b,c,d,e){var f=c.clientWidth,g=c.clientHeight,h=20;return a+f+h>d?a-=f+h:a+=h,b+g+h>e?b-=g+h:b+=h,[a,b]}function m(a,b,c){var d=c.clientWidth,e=c.clientHeight,f=5,g=0,h=0,i=b.width,j=b.height;switch(a){case"inside":g=b.x+i/2-d/2,h=b.y+j/2-e/2;break;case"top":g=b.x+i/2-d/2,h=b.y-e-f;break;case"bottom":g=b.x+i/2-d/2,h=b.y+j+f;break;case"left":g=b.x-d-f,h=b.y+j/2-e/2;break;case"right":g=b.x+i+f,h=b.y+j/2-e/2}return[g,h]}function n(a,b,c,e,f,h,i){var o,j=i.getWidth(),k=i.getHeight(),n=h&&h.getBoundingRect().clone();h&&n.applyTransform(h.transform),"function"==typeof a&&(a=a([b,c],f,n)),d.isArray(a)?(b=g(a[0],j),c=g(a[1],k)):"string"==typeof a&&h?(o=m(a,n,e.el),b=o[0],c=o[1]):(o=l(b,c,e.el,j,k),b=o[0],c=o[1]),e.moveTo(b,c)}function o(a){var b=a.coordinateSystem,c=a.get("tooltip.trigger",!0);return!(!b||"cartesian2d"!==b.type&&"polar"!==b.type||"item"===c)}var b=a("./TooltipContent"),c=a("../../util/graphic"),d=a("zrender/core/util"),e=a("../../util/format"),f=a("../../util/number"),g=f.parsePercent;a("../../echarts").extendComponentView({type:"tooltip",_axisPointers:{},init:function(a,c){var d=new b(c.getDom(),c);this._tooltipContent=d,c.on("showTip",this._manuallyShowTip,this),c.on("hideTip",this._hide,this)},render:function(a,b,c){var d,e,f,g;this.group.removeAll(),this._axisPointers={},this._tooltipModel=a,this._ecModel=b,this._api=c,this._lastHover={},d=this._tooltipContent,d.update(),d.enterable=a.get("enterable"),this._alwaysShowContent=a.get("alwaysShowContent"),this._seriesGroupByAxis=this._prepareAxisTriggerData(a,b),e=this._crossText,e&&this.group.add(e),f=this._api.getZr(),g=this._tryShow,f.off("click",g),f.off("mousemove",g),f.off("mouseout",this._hide),"click"===a.get("triggerOn")?f.on("click",g,this):(f.on("mousemove",g,this),f.on("mouseout",this._hide,this))},_manuallyShowTip:function(a){var b,c,d,e,f,g,h,i,j,k;a.from!==this.uid&&(b=this._ecModel,c=a.seriesIndex,d=a.dataIndex,e=b.getSeriesByIndex(c),f=this._api,null==a.x||null==a.y?(e||b.eachSeries(function(a){o(a)&&!e&&(e=a)}),e&&(g=e.getData(),null==d&&(d=g.indexOfName(a.name)),h=g.getItemGraphicEl(d),h&&(i=h.getBoundingRect().clone(),i.applyTransform(h.transform),j=i.x+i.width/2,k=i.y+i.height/2,this._tryShow({offsetX:j,offsetY:k,target:h,event:{}})))):f.getZr().handler.dispatch("mousemove",{zrX:a.x,zrY:a.y}))},_prepareAxisTriggerData:function(a,b){var c={};return b.eachSeries(function(a){var b,d,e;o(a)&&(b=a.coordinateSystem,"cartesian2d"===b.type?(d=b.getBaseAxis(),e=d.dim+d.index):(d=b.getBaseAxis(),e=d.dim+b.name),c[e]=c[e]||{coordSys:[],series:[]},c[e].coordSys.push(b),c[e].series.push(a))},this),c},_tryShow:function(a){var g,h,i,b=a.target,c=this._tooltipModel,d=c.get("trigger"),e=this._ecModel,f=this._api;c&&(b&&null!=b.dataIndex?(g=b.hostModel||e.getSeriesByIndex(b.seriesIndex),h=b.dataIndex,i=g.getData().getItemModel(h),"axis"===(i.get("tooltip.trigger")||d)?this._showAxisTooltip(c,e,a):(this._ticket="",this._hideAxisPointer(),this._resetLastHover(),this._showItemTooltipContent(g,h,a)),f.dispatchAction({type:"showTip",from:this.uid,dataIndex:b.dataIndex,seriesIndex:b.seriesIndex})):("item"===d?this._hide():this._showAxisTooltip(c,e,a),f.dispatchAction({type:"showTip",from:this.uid,x:a.offsetX,y:a.offsetY})))},_showAxisTooltip:function(a,b,c){var g,i,j,k,e=a.getModel("axisPointer"),f=e.get("type");"cross"===f&&(g=c.target,g&&null!=g.dataIndex&&(i=b.getSeriesByIndex(g.seriesIndex),j=g.dataIndex,this._showItemTooltipContent(i,j,c))),this._showAxisPointer(),k=!0,d.each(this._seriesGroupByAxis,function(a){var j,l,m,n,o,p,q,b=a.coordSys,g=b[0],i=[c.offsetX,c.offsetY];return g.containPoint(i)?(k=!1,j=g.dimensions,l=g.pointToData(i,!0),i=g.dataToPoint(l),m=g.getBaseAxis(),n=e.get("axis"),"auto"===n&&(n=m.dim),o=!1,p=this._lastHover,"cross"===f?(h(p.data,l)&&(o=!0),p.data=l):(q=d.indexOf(j,n),p.data===l[q]&&(o=!0),p.data=l[q]),"cartesian2d"!==g.type||o?"polar"!==g.type||o||this._showPolarPointer(e,g,n,i):this._showCartesianPointer(e,g,n,i),"cross"!==f&&this._showSeriesTooltipContent(g,a.series,i,l,o),void 0):(this._hideAxisPointer(g.name),void 0)},this),k&&this._hide()},_showCartesianPointer:function(a,b,d,e){function m(d,e,g){var j="x"===d?i(e[0],g[0],e[0],g[1]):i(g[0],e[1],g[1],e[1]),k=f._getPointerElement(b,a,d,j);h?c.updateProps(k,{shape:j},a):k.attr({shape:j})}function n(d,e,g){var i=b.getAxis(d),k=i.getBandWidth(),l=g[1]-g[0],m="x"===d?j(e[0]-k/2,g[0],k,l):j(g[0],e[1]-k/2,l,k),n=f._getPointerElement(b,a,d,m);h?c.updateProps(n,{shape:m},a):n.attr({shape:m})}var k,l,f=this,g=a.get("type"),h="cross"!==g;"cross"===g?(m("x",e,b.getAxis("y").getGlobalExtent()),m("y",e,b.getAxis("x").getGlobalExtent()),this._updateCrossText(b,e,a)):(k=b.getAxis("x"===d?"y":"x"),l=k.getGlobalExtent(),"cartesian2d"===b.type&&("line"===g?m:n)(d,e,l))},_showPolarPointer:function(a,b,d,e){function o(d,e,g){var j,k,m,n,h=b.pointToCoord(e);
"angle"===d?(k=b.coordToPoint([g[0],h[1]]),m=b.coordToPoint([g[1],h[1]]),j=i(k[0],k[1],m[0],m[1])):j={cx:b.cx,cy:b.cy,r:h[0]},n=f._getPointerElement(b,a,d,j),l?c.updateProps(n,{shape:j},a):n.attr({shape:j})}function p(d,e,g){var m,o,h=b.getAxis(d),i=h.getBandWidth(),j=b.pointToCoord(e),n=Math.PI/180;m="angle"===d?k(b.cx,b.cy,g[0],g[1],(-j[1]-i/2)*n,(-j[1]+i/2)*n):k(b.cx,b.cy,j[0]-i/2,j[0]+i/2,0,2*Math.PI),o=f._getPointerElement(b,a,d,m),l?c.updateProps(o,{shape:m},a):o.attr({shape:m})}var m,n,f=this,g=a.get("type"),h=b.getAngleAxis(),j=b.getRadiusAxis(),l="cross"!==g;"cross"===g?(o("angle",e,j.getExtent()),o("radius",e,h.getExtent()),this._updateCrossText(b,e,a)):(m=b.getAxis("radius"===d?"angle":"radius"),n=m.getExtent(),("line"===g?o:p)(d,e,n))},_updateCrossText:function(a,b,f){var k,l,g=f.getModel("crossStyle"),h=g.getModel("textStyle"),i=this._tooltipModel,j=this._crossText;j||(j=this._crossText=new c.Text({style:{textAlign:"left",textBaseline:"bottom"}}),this.group.add(j)),k=a.pointToData(b),l=a.dimensions,k=d.map(k,function(b,c){var d=a.getAxis(l[c]);return b="category"===d.type||"time"===d.type?d.scale.getLabel(b):e.addCommas(b.toFixed(d.getPixelPrecision()))}),j.setStyle({fill:h.getTextColor()||g.get("color"),textFont:h.getFont(),text:k.join(", "),x:b[0]+5,y:b[1]-5}),j.z=i.get("z"),j.zlevel=i.get("zlevel")},_getPointerElement:function(a,b,d,e){var k,l,m,n,o,p,f=this._tooltipModel,g=f.get("z"),h=f.get("zlevel"),i=this._axisPointers,j=a.name;return i[j]=i[j]||{},i[j][d]?i[j][d]:(k=b.get("type"),l=b.getModel(k+"Style"),m="shadow"===k,n=l[m?"getAreaStyle":"getLineStyle"](),o="polar"===a.type?m?"Sector":"radius"===d?"Circle":"Line":m?"Rect":"Line",m?n.stroke=null:n.fill=null,p=i[j][d]=new c[o]({style:n,z:g,zlevel:h,silent:!0,shape:e}),this.group.add(p),p)},_showSeriesTooltipContent:function(a,b,c,f,g){var p,q,r,s,t,u,v,w,h=this._tooltipModel,i=this._tooltipContent,j=a.getBaseAxis(),k=f["x"===j.dim||"radius"===j.dim?0:1],l=d.map(b,function(a){return{seriesIndex:a.seriesIndex,dataIndex:a.getData().indexOfNearest(a.getDimensionsOnAxis(j.dim),k)}}),m=this._api,o=this._lastHover;o.payloadBatch&&!g&&this._api.dispatchAction({type:"downplay",batch:d.clone(o.payloadBatch)}),g||(this._api.dispatchAction({type:"highlight",batch:d.clone(l)}),o.payloadBatch=l),j&&h.get("showContent")&&(p=h.get("formatter"),q=h.get("position"),s=d.map(b,function(a,b){return a.getDataParams(l[b].dataIndex)}),i.show(h),t=l[0].dataIndex,g||(this._ticket="",p?"string"==typeof p?r=e.formatTpl(p,s):"function"==typeof p&&(u=this,v="axis_"+a.name+"_"+t,w=function(a,b){a===u._ticket&&(i.setContent(b),n(q,c[0],c[1],i,s,null,m))},u._ticket=v,r=p(s,v,w)):r=b[0].getData().getName(t)+"<br />"+d.map(b,function(a,b){return a.formatTooltip(l[b].dataIndex,!0)}).join("<br />"),i.setContent(r)),n(q,c[0],c[1],i,s,null,m))},_showItemTooltipContent:function(a,b,c){var k,l,m,o,p,q,r,d=this._api,f=a.getData(),g=f.getItemModel(b),h=this._tooltipModel,i=this._tooltipContent,j=g.getModel("tooltip");j.parentModel?j.parentModel.parentModel=h:j.parentModel=this._tooltipModel,j.get("showContent")&&(k=j.get("formatter"),l=j.get("position"),m=a.getDataParams(b),k?"string"==typeof k?o=e.formatTpl(k,m):"function"==typeof k&&(p=this,q="item_"+a.name+"_"+b,r=function(a,b){a===p._ticket&&(i.setContent(b),n(l,c.offsetX,c.offsetY,i,m,c.target,d))},p._ticket=q,o=k(m,q,r)):o=a.formatTooltip(b),i.show(j),i.setContent(o),n(l,c.offsetX,c.offsetY,i,m,c.target,d))},_showAxisPointer:function(a){if(a){var b=this._axisPointers[a];b&&d.each(b,function(a){a.show()})}else this.group.eachChild(function(a){a.show()}),this.group.show()},_resetLastHover:function(){var a=this._lastHover;a.payloadBatch&&this._api.dispatchAction({type:"downplay",batch:a.payloadBatch}),this._lastHover={}},_hideAxisPointer:function(a){if(a){var b=this._axisPointers[a];b&&d.each(b,function(a){a.hide()})}else this.group.hide()},_hide:function(){this._hideAxisPointer(),this._resetLastHover(),this._alwaysShowContent||this._tooltipContent.hideLater(this._tooltipModel.get("hideDelay"))},dispose:function(a,b){var c=b.getZr();this._tooltipContent.hide(),c.off("click",this._tryShow),c.off("mousemove",this._tryShow),c.off("mouseout",this._hide),b.off("showTip",this._manuallyShowTip),b.off("hideTip",this._hide)}})}),b("echarts/component/tooltip",["require","./tooltip/TooltipModel","./tooltip/TooltipView","../echarts","../echarts"],function(a){a("./tooltip/TooltipModel"),a("./tooltip/TooltipView"),a("../echarts").registerAction({type:"showTip",event:"showTip",update:"none"},function(){}),a("../echarts").registerAction({type:"hideTip",event:"hideTip",update:"none"},function(){})}),b("echarts/coord/polar/RadiusAxis",["require","zrender/core/util","../Axis"],function(a){function d(a,b){c.call(this,"radius",a,b),this.type="category"}var b=a("zrender/core/util"),c=a("../Axis");return d.prototype={constructor:d,dataToRadius:c.prototype.dataToCoord,radiusToData:c.prototype.coordToData},b.inherits(d,c),d}),b("echarts/coord/polar/AngleAxis",["require","zrender/core/util","../Axis"],function(a){function d(a,b){b=b||[0,360],c.call(this,"angle",a,b),this.type="category"}var b=a("zrender/core/util"),c=a("../Axis");return d.prototype={constructor:d,dataToAngle:c.prototype.dataToCoord,angleToData:c.prototype.coordToData},b.inherits(d,c),d}),b("echarts/coord/polar/Polar",["require","./RadiusAxis","./AngleAxis"],function(a){var b=a("./RadiusAxis"),c=a("./AngleAxis"),d=function(a){this.name=a||"",this.cx=0,this.cy=0,this.dimensions=["radius","angle"],this._radiusAxis=new b,this._angleAxis=new c};return d.prototype={constructor:d,type:"polar",containPoint:function(a){var b=this.pointToCoord(a);return this._radiusAxis.contain(b[0])&&this._angleAxis.contain(b[1])},containData:function(a){return this._radiusAxis.containData(a[0])&&this._angleAxis.containData(a[1])},getAxis:function(a){return this["_"+a+"Axis"]},getAxesByScale:function(a){var b=[],c=this._angleAxis,d=this._radiusAxis;return c.scale.type===a&&b.push(c),d.scale.type===a&&b.push(d),b},getAngleAxis:function(){return this._angleAxis},getRadiusAxis:function(){return this._radiusAxis},getOtherAxis:function(a){var b=this._angleAxis;return a===b?this._radiusAxis:b},getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},dataToPoints:function(a){return a.mapArray(this.dimensions,function(a,b){return this.dataToPoint([a,b])},this)},dataToPoint:function(a,b){return this.coordToPoint([this._radiusAxis.dataToRadius(a[0],b),this._angleAxis.dataToAngle(a[1],b)])},pointToData:function(a,b){var c=this.pointToCoord(a);return[this._radiusAxis.radiusToData(c[0],b),this._angleAxis.angleToData(c[1],b)]},pointToCoord:function(a){var h,i,j,b=a[0]-this.cx,c=a[1]-this.cy,d=this.getAngleAxis(),e=d.getExtent(),f=Math.min(e[0],e[1]),g=Math.max(e[0],e[1]);for(d.inverse?f=g-360:g=f+360,h=Math.sqrt(b*b+c*c),b/=h,c/=h,i=180*(Math.atan2(-c,b)/Math.PI),j=f>i?1:-1;f>i||i>g;)i+=360*j;return[h,i]},coordToPoint:function(a){var b=a[0],c=a[1]/180*Math.PI,d=Math.cos(c)*b+this.cx,e=-Math.sin(c)*b+this.cy;return[d,e]}},d}),b("echarts/coord/polar/AxisModel",["require","zrender/core/util","../../model/Component","../axisModelCreator","../axisModelCommonMixin"],function(a){function g(a,b){return b.type||(b.data?"category":"value")}var f,b=a("zrender/core/util"),c=a("../../model/Component"),d=a("../axisModelCreator"),e=c.extend({type:"polarAxis",axis:null});b.merge(e.prototype,a("../axisModelCommonMixin")),f={angle:{polarIndex:0,startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:!1}},radius:{polarIndex:0,splitNumber:5}},d("angle",e,g,f.angle),d("radius",e,g,f.radius)}),b("echarts/coord/polar/PolarModel",["require","./AxisModel","../../echarts"],function(a){a("./AxisModel"),a("../../echarts").extendComponentModel({type:"polar",dependencies:["polarAxis","angleAxis"],coordinateSystem:null,findAxisModel:function(a){var b,c=this.ecModel;return c.eachComponent(a,function(a){c.getComponent("polar",a.getShallow("polarIndex"))===this&&(b=a)},this),b},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"80%"}})}),b("echarts/coord/polar/polarCreator",["require","./Polar","../../util/number","zrender/core/util","../../coord/axisHelper","./PolarModel","../../CoordinateSystem"],function(a){function g(a,b){var i,j,d=a.get("center"),e=a.get("radius"),f=b.getWidth(),g=b.getHeight(),h=c.parsePercent;this.cx=h(d[0],f),this.cy=h(d[1],g),i=this.getRadiusAxis(),j=Math.min(f,g)/2,i.setExtent(0,h(e,j))}function h(a,b){if(a.type=b.get("type"),a.scale=e.createScaleByModel(b),a.onBand=b.get("boundaryGap")&&"category"===a.type,"angleAxis"===b.mainType){var c=b.get("startAngle");a.inverse=b.get("inverse")^b.get("clockwise"),a.setExtent(c,c+(a.inverse?-360:360))}b.axis=a,a.model=b}function i(a,b){b.eachSeries(function(b){var c,d,e,f,g;if("polar"===b.get("coordinateSystem")){if(c=b.get("polarIndex")||0,d=a[c],!d)return;b.coordinateSystem=d,e=d.getRadiusAxis(),f=d.getAngleAxis(),g=b.getData(),e.scale.unionExtent(g.getDataExtent("radius","category"!==e.type)),f.scale.unionExtent(g.getDataExtent("angle","category"!==f.type))}}),d.each(a,function(a){var b=a.getAngleAxis(),c=a.getRadiusAxis();f(b,b.model),f(c,c.model)})}var j,b=a("./Polar"),c=a("../../util/number"),d=a("zrender/core/util"),e=a("../../coord/axisHelper"),f=e.niceScaleExtent;a("./PolarModel"),j={create:function(a,c){var e=[];return a.eachComponent("polar",function(a,d){var i,j,k,l,f=new b(d);f.resize=g,i=f.getRadiusAxis(),j=f.getAngleAxis(),k=a.findAxisModel("radiusAxis"),l=a.findAxisModel("angleAxis"),h(i,k),h(j,l),f.resize(a,c),e.push(f),a.coordinateSystem=f}),i(e,a,c),d.each(e,function(a){var c,d,b=a.getAngleAxis();"category"!==b.type||b.onBand||(c=b.getExtent(),d=360/b.scale.count(),b.inverse?c[1]+=d:c[1]-=d,b.setExtent(c[0],c[1]))}),e}},a("../../CoordinateSystem").register("polar",j)}),b("echarts/component/axis/AngleAxisView",["require","zrender/core/util","../../util/graphic","../../model/Model","../../echarts"],function(a){function f(a,b,c,d){var e=a.coordToPoint([b,d]),f=a.coordToPoint([c,d]);return{x1:e[0],y1:e[1],x2:f[0],y2:f[1]}}var b=a("zrender/core/util"),c=a("../../util/graphic"),d=a("../../model/Model"),e=["axisLine","axisLabel","axisTick","splitLine","splitArea"];a("../../echarts").extendComponentView({type:"angleAxis",render:function(a,c){var d,f,g,h,i;this.group.removeAll(),a.get("show")&&(d=c.getComponent("polar",a.get("polarIndex")),f=a.axis,g=d.coordinateSystem,h=g.getRadiusAxis().getExtent(),i=f.getTicksCoords(),"category"!==f.type&&i.pop(),b.each(e,function(b){a.get(b+".show")&&this["_"+b](a,g,i,h)},this))},_axisLine:function(a,b,d,e){var f=a.getModel("axisLine.lineStyle"),g=new c.Circle({shape:{cx:b.cx,cy:b.cy,r:e[1]},style:f.getLineStyle(),z2:1,silent:!0});g.style.fill=null,this.group.add(g)},_axisTick:function(a,d,e,g){var h=a.getModel("axisTick"),i=(h.get("inside")?-1:1)*h.get("length"),j=b.map(e,function(a){return new c.Line({shape:f(d,g[1],g[1]+i,a)})});this.group.add(c.mergePath(j,{style:h.getModel("lineStyle").getLineStyle()}))},_axisLabel:function(a,b,e,f){var n,o,p,q,r,s,t,u,g=a.axis,h=a.get("data"),i=a.getModel("axisLabel"),j=i.getModel("textStyle"),k=a.getFormattedLabels(),l=i.get("margin"),m=g.getLabelsCoords();for(n=0;n<e.length;n++)o=f[1],p=b.coordToPoint([o+l,m[n]]),q=b.cx,r=b.cy,s=Math.abs(p[0]-q)/o<.3?"center":p[0]>q?"left":"right",t=Math.abs(p[1]-r)/o<.3?"middle":p[1]>r?"top":"bottom",u=j,h&&h[n]&&h[n].textStyle&&(u=new d(h[n].textStyle,j)),this.group.add(new c.Text({style:{x:p[0],y:p[1],fill:u.getTextColor(),text:k[n],textAlign:s,textBaseline:t,textFont:u.getFont()},silent:!0}))},_splitLine:function(a,d,e,g){var l,m,n,h=a.getModel("splitLine"),i=h.getModel("lineStyle"),j=i.get("color"),k=0;for(j=j instanceof Array?j:[j],l=[],m=0;m<e.length;m++)n=k++%j.length,l[n]=l[n]||[],l[n].push(new c.Line({shape:f(d,g[0],g[1],e[m])}));for(m=0;m<l.length;m++)this.group.add(c.mergePath(l[m],{style:b.defaults({stroke:j[m%j.length]},i.getLineStyle()),silent:!0,z:a.get("z")}))},_splitArea:function(a,d,e,f){var k,l,m,n,o,p,q,r,g=a.getModel("splitArea"),h=g.getModel("areaStyle"),i=h.get("color"),j=0;for(i=i instanceof Array?i:[i],k=[],l=Math.PI/180,m=-e[0]*l,n=Math.min(f[0],f[1]),o=Math.max(f[0],f[1]),p=a.get("clockwise"),q=1;q<e.length;q++)r=j++%i.length,k[r]=k[r]||[],k[r].push(new c.Sector({shape:{cx:d.cx,cy:d.cy,r0:n,r:o,startAngle:m,endAngle:-e[q]*l,clockwise:p},silent:!0})),m=-e[q]*l;for(q=0;q<k.length;q++)this.group.add(c.mergePath(k[q],{style:b.defaults({fill:i[q%i.length]},h.getAreaStyle()),silent:!0}))}})}),b("echarts/component/angleAxis",["require","../coord/polar/polarCreator","./axis/AngleAxisView"],function(a){a("../coord/polar/polarCreator"),a("./axis/AngleAxisView")}),b("echarts/component/axis/RadiusAxisView",["require","zrender/core/util","../../util/graphic","./AxisBuilder","../../echarts"],function(a){function g(a,b,c){return{position:[a.cx,a.cy],rotation:c/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotation:b.getModel("axisLabel").get("rotate"),z2:1}}var b=a("zrender/core/util"),c=a("../../util/graphic"),d=a("./AxisBuilder"),e=["axisLine","axisLabel","axisTick","axisName"],f=["splitLine","splitArea"];a("../../echarts").extendComponentView({type:"radiusAxis",render:function(a,c){var h,i,j,k,l,m,n,o,p;this.group.removeAll(),a.get("show")&&(h=c.getComponent("polar",a.get("polarIndex")),i=h.coordinateSystem.getAngleAxis(),j=a.axis,k=h.coordinateSystem,l=j.getTicksCoords(),m=i.getExtent()[0],n=j.getExtent(),o=g(k,a,m),p=new d(a,o),b.each(e,p.add,p),this.group.add(p.getGroup()),b.each(f,function(b){a.get(b+".show")&&this["_"+b](a,k,m,n,l)},this))},_splitLine:function(a,d,e,f,g){var l,m,n,h=a.getModel("splitLine"),i=h.getModel("lineStyle"),j=i.get("color"),k=0;for(j=j instanceof Array?j:[j],l=[],m=0;m<g.length;m++)n=k++%j.length,l[n]=l[n]||[],l[n].push(new c.Circle({shape:{cx:d.cx,cy:d.cy,r:g[m]},silent:!0}));for(m=0;m<l.length;m++)this.group.add(c.mergePath(l[m],{style:b.defaults({stroke:j[m%j.length],fill:null},i.getLineStyle()),silent:!0}))},_splitArea:function(a,d,e,f,g){var l,m,n,o,h=a.getModel("splitArea"),i=h.getModel("areaStyle"),j=i.get("color"),k=0;for(j=j instanceof Array?j:[j],l=[],m=g[0],n=1;n<g.length;n++)o=k++%j.length,l[o]=l[o]||[],l[o].push(new c.Sector({shape:{cx:d.cx,cy:d.cy,r0:m,r:g[n],startAngle:0,endAngle:2*Math.PI},silent:!0})),m=g[n];for(n=0;n<l.length;n++)this.group.add(c.mergePath(l[n],{style:b.defaults({fill:j[n%j.length]},i.getAreaStyle()),silent:!0}))}})}),b("echarts/component/radiusAxis",["require","../coord/polar/polarCreator","./axis/RadiusAxisView"],function(a){a("../coord/polar/polarCreator"),a("./axis/RadiusAxisView")}),b("echarts/component/polar",["require","../coord/polar/polarCreator","./angleAxis","./radiusAxis","../echarts"],function(a){a("../coord/polar/polarCreator"),a("./angleAxis"),a("./radiusAxis"),a("../echarts").extendComponentView({type:"polar"})}),b("echarts/chart/radar/RadarSeries",["require","../helper/createListFromArray","../../model/Series","zrender/core/util","../../util/number","../../component/polar"],function(a){var b=a("../helper/createListFromArray"),c=a("../../model/Series"),d=a("zrender/core/util"),e=a("../../util/number"),f=e.linearMap;return a("../../component/polar"),c.extend({type:"series.radar",dependencies:["polar"],getInitialData:function(a,c){var h,i,e=a.indicator,g=b(a.data,this,c);return e&&(h=d.reduce(e,function(a,b){return a[b.name]=b,a},{}),g=g.map(["radius"],function(a,b){var c=h[g.getName(b)];return c&&c.max?f(a,[c.min||0,c.max],[0,1]):void 0}),i=this.getRawValue,this.getRawValue=function(a){var b=i.call(this,a),c=h[g.getName(a)];return c&&null!=c.max?f(b,[0,1],[c.min||0,c.max]):void 0}),g},defaultOption:{zlevel:0,z:2,coordinateSystem:"polar",legendHoverLink:!0,polarIndex:0,lineStyle:{normal:{width:2,type:"solid"}},symbol:"emptyCircle",symbolSize:4,showAllSymbol:!1}})}),b("echarts/chart/radar/RadarView",["require","../helper/SymbolDraw","../../util/graphic","zrender/core/util","../../echarts"],function(a){var b=a("../helper/SymbolDraw"),c=a("../../util/graphic"),d=a("zrender/core/util");return a("../../echarts").extendChartView({type:"radar",init:function(){this._symbolDraw=new b},render:function(a){function n(){return d.map(i,function(){return[f.cx,f.cy]})}var j,k,l,m,o,p,f=a.coordinateSystem,g=this.group,h=a.getData(),i=h.mapArray(h.getItemLayout,!0);i.length<1||(i.push(i[0].slice()),j=this._polygon||(this._polygon=new c.Polygon({shape:{points:[]}})),k=this._polyline||(this._polyline=new c.Polyline({shape:{points:[]},z2:10})),l=k.shape,m=j.shape,o={shape:{points:i}},l.points.length!==i.length?(m.points=n(),l.points=n(),c.initProps(k,o,a),c.initProps(j,o,a)):(c.updateProps(k,o,a),c.updateProps(j,o,a)),this._symbolDraw.updateData(h),k.setStyle(d.extend(a.getModel("lineStyle.normal").getLineStyle(),{stroke:h.getVisual("color")})),p=a.getModel("areaStyle.normal"),j.ignore=p.isEmpty(),c.setHoverStyle(k,a.getModel("lineStyle.emphasis").getLineStyle()),j.ignore||(j.setStyle(d.defaults(p.getAreaStyle(),{fill:h.getVisual("color"),opacity:.7})),c.setHoverStyle(j,a.getModel("areaStyle.emphasis").getLineStyle())),g.add(k),g.add(j),g.add(this._symbolDraw.group),this._data=h)}})}),b("echarts/chart/radar/backwardCompat",["require","zrender/core/util","../../scale/Interval"],function(a){var b=a("zrender/core/util"),c=a("../../scale/Interval"),d=b.isArray,e=b.each,f=b.filter;return function(a){var g=a.polar,h=a.radiusAxis,i=a.angleAxis,j=f(a.series,function(a){return"radar"===a.type})||[];g&&j.length&&(d(g)||(g=[g]),h?d(h)||(h=[h]):h=a.radiusAxis=[],i?d(i)||(i=[i]):i=a.angleAxis=[],e(g,function(d,g){var k,l,m,n,o;d.indicator&&(k=b.map(d.indicator,function(a){var b=a.min,c=a.max;return null!=c&&c>=0&&(b=0),{name:a.text,min:b,max:c}}),l=b.find(h,function(a){return(a.polarIndex||0)===g}),m=b.find(i,function(a){return(a.polarIndex||0)===g}),l||(l={type:"value",polarIndex:g},h.push(l)),m||(m={type:"category",polarIndex:g},i.push(m)),m.data=b.map(d.indicator,function(a){var b={value:a.text},c=a.axisLabel;return c&&c.textStyle&&(b.textStyle=c.textStyle),b}),m.startAngle=d.startAngle||90,d.axisLine&&(m.splitLine=d.axisLine),d.axisLabel&&(m.axisLabel=d.axisLabel),d.splitLine&&(l.splitLine=d.splitLine),d.splitArea&&(l.splitArea=d.splitArea),l.splitLine=l.splitLine||{},l.splitArea=l.splitArea||{},null==l.splitLine.show&&(l.splitLine.show=!0),null==l.splitArea.show&&(l.splitArea.show=!0),m.boundaryGap=!1,l.min=0,l.max=1,l.interval=1/(d.splitNumber||5),l.axisLine={show:!1},l.axisLabel={show:!1},l.axisTick={show:!1},n=f(j,function(a){return(a.polarIndex||0)===g}),o=b.map(k,function(){return[]}),e(n,function(c){var d,e,f,g,h;if(c.indicator=k,c.data[0]&&b.isArray(c.data[0].value)){for(d=c.data,e=d[0],c.data=e.value,c.name=e.name,f=1;f<d.length;f++)e=d[f],g=b.clone(c),a.series.push(b.extend(g,{name:e.name,data:e.value,indicator:k}));for(f=0;f<e.value.length;f++)for(h=0;h<d.length;h++)o[f].push(d[h].value[f])}}),e(o,function(a,b){var i,j,e=new c,f=1/0,g=-1/0,h=a.length;if(h){for(i=0;h>i;i++)f=Math.min(f,a[i]),g=Math.max(g,a[i]);e.setExtent(f,g),e.niceExtent(d.splitNumber||5),j=e.getExtent(),null==k[b].min&&(k[b].min=j[0]),null==k[b].max&&(k[b].max=j[1])}}))}))}}),b("echarts/chart/radar",["require","zrender/core/util","../echarts","./radar/RadarSeries","./radar/RadarView","../visual/symbol","../layout/points","./radar/backwardCompat"],function(a){var b=a("zrender/core/util"),c=a("../echarts");a("./radar/RadarSeries"),a("./radar/RadarView"),c.registerVisualCoding("chart",b.curry(a("../visual/symbol"),"radar","circle",null)),c.registerLayout(b.curry(a("../layout/points"),"radar")),c.registerPreprocessor(a("./radar/backwardCompat"))}),b("echarts/component/legend/LegendModel",["require","zrender/core/util","../../model/Model","../../echarts"],function(a){var b=a("zrender/core/util"),c=a("../../model/Model");return a("../../echarts").extendComponentModel({type:"legend",dependencies:["series"],layoutMode:{type:"box",ignoreSize:!0},init:function(a,d,e){var f,g,h,i;if(this.mergeDefaultAndTheme(a,e),a.selected=a.selected||{},f=b.map(a.data||[],function(a){return"string"==typeof a&&(a={name:a}),new c(a,this,this.ecModel)},this),this._data=f,this._updateAvailableNames(e),g=this.option.selected,f[0]&&"single"===this.get("selectedMode")){h=!1;for(i in g)g[i]&&(this.select(i),h=!0);!h&&this.select(f[0].get("name"))}},mergeOption:function(a){this.$superCall("mergeOption",a),this._updateAvailableNames(this.ecModel)},_updateAvailableNames:function(a){var c=b.map(a.getSeries(),function(a){return a.name});a.eachSeries(function(a){if(a.legendDataProvider){var b=a.legendDataProvider();c=c.concat(b.mapArray(b.getName))}}),this._availableNames=c},getData:function(){return this._data},select:function(a){var e,c=this.option.selected,d=this.get("selectedMode");"single"===d&&(e=this._data,b.each(e,function(a){c[a.get("name")]=!1})),c[a]=!0},unSelect:function(a){"single"!==this.get("selectedMode")&&(this.option.selected[a]=!1)},toggleSelected:function(a){var b=this.option.selected;a in b||(b[a]=!0),this[b[a]?"unSelect":"select"](a)},isSelected:function(a){var c=this.option.selected;return!(a in c&&!c[a])&&b.indexOf(this._availableNames,a)>=0},defaultOption:{zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:"top",align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,textStyle:{color:"#333"},selectedMode:!0}})}),b("echarts/component/legend/legendAction",["require","../../echarts","zrender/core/util"],function(a){function d(a,b,d){var g,e={},f="toggleSelected"===a;return d.eachComponent("legend",function(d){f&&null!=g?d[g?"select":"unSelect"](b.name):(d[a](b.name),g=d.isSelected(b.name));var h=d.getData();c.each(h,function(a){var c,b=a.get("name");"\n"!==b&&""!==b&&(c=d.isSelected(b),e[b]=b in e?e[b]&&c:c)})}),{name:b.name,selected:e}}var b=a("../../echarts"),c=a("zrender/core/util");b.registerAction("legendToggleSelect","legendselectchanged",c.curry(d,"toggleSelected")),b.registerAction("legendSelect","legendselected",c.curry(d,"select")),b.registerAction("legendUnSelect","legendunselected",c.curry(d,"unSelect"))}),b("echarts/component/helper/listComponent",["require","../../util/layout","../../util/format","../../util/graphic"],function(a){function e(a,c,d){b.positionGroup(a,c.getBoxLayoutParams(),{width:d.getWidth(),height:d.getHeight()},c.get("padding"))}var b=a("../../util/layout"),c=a("../../util/format"),d=a("../../util/graphic");return{layout:function(a,c,d){b.box(c.get("orient"),a,c.get("itemGap"),d.getWidth(),d.getHeight()),e(a,c,d)},addBackground:function(a,b){var h,e=c.normalizeCssArray(b.get("padding")),f=a.getBoundingRect(),g=b.getItemStyle(["color","opacity"]);g.fill=b.get("backgroundColor"),h=new d.Rect({shape:{x:f.x-e[3],y:f.y-e[0],width:f.width+e[1]+e[3],height:f.height+e[0]+e[2]},style:g,silent:!0}),d.subPixelOptimizeRect(h),a.add(h)}}}),b("echarts/component/legend/LegendView",["require","zrender/core/util","../../util/symbol","../../util/graphic","../helper/listComponent","../../echarts"],function(a){function h(a,b){b.dispatchAction({type:"legendToggleSelect",name:a})}function i(a,b,c){a.get("legendHoverLink")&&c.dispatchAction({type:"highlight",seriesName:a.name,name:b})}function j(a,b,c){a.get("legendHoverLink")&&c.dispatchAction({type:"downplay",seriesName:a.name,name:b})}var b=a("zrender/core/util"),c=a("../../util/symbol"),d=a("../../util/graphic"),e=a("../helper/listComponent"),f=b.curry,g="#ccc";return a("../../echarts").extendComponentView({type:"legend",init:function(){this._symbolTypeStore={}},render:function(a,c,k){var m,n,o,p,q,r,l=this.group;l.removeAll(),a.get("show")&&(m=a.get("selectedMode"),n=a.get("itemWidth"),o=a.get("itemHeight"),p=a.get("align"),"auto"===p&&(p="right"===a.get("left")&&"vertical"===a.get("orient")?"right":"left"),q={},r={},b.each(a.getData(),function(b){var s,t,u,v,w,x,e=b.get("name");(""===e||"\n"===e)&&l.add(new d.Group({newline:!0})),s=c.getSeriesByName(e)[0],q[e]=b,s&&!r[e]&&(t=s.getData(),u=t.getVisual("color"),a.isSelected(e)||(u=g),"function"==typeof u&&(u=u(s.getDataParams(0))),v=t.getVisual("legendSymbol")||"roundRect",w=t.getVisual("symbol"),x=this._createItem(e,b,a,v,w,n,o,p,u,m),x.on("click",f(h,e,k)).on("mouseover",f(i,s,"",k)).on("mouseout",f(j,s,"",k)),r[e]=!0)},this),c.eachRawSeries(function(b){if(b.legendDataProvider){var c=b.legendDataProvider();c.each(function(d){var l,s,t,e=c.getName(d);q[e]&&!r[e]&&(l=c.getItemVisual(d,"color"),a.isSelected(e)||(l=g),s="roundRect",t=this._createItem(e,q[e],a,s,null,n,o,p,l,m),t.on("click",f(h,e,k)).on("mouseover",f(i,b,e,k)).on("mouseout",f(j,b,e,k)),r[e]=!0)},!1,this)}},this),e.layout(l,a,k),e.addBackground(l,a))},_createItem:function(a,b,e,f,g,h,i,j,k,l){var p,q,r,s,t,m=new d.Group,n=b.getModel("textStyle"),o=b.get("icon");return f=o||f,m.add(c.createSymbol(f,0,0,h,i,k)),!o&&g&&g!==f&&"none"!=g&&(p=.8*i,m.add(c.createSymbol(g,(h-p)/2,(i-p)/2,p,p,k))),q="left"===j?h+5:-5,r=j,s=e.get("formatter"),"string"==typeof s&&s?a=s.replace("{name}",a):"function"==typeof s&&(a=s(a)),t=new d.Text({style:{text:a,x:q,y:i/2,fill:n.getTextColor(),textFont:n.getFont(),textAlign:r,textBaseline:"middle"}}),m.add(t),m.add(new d.Rect({shape:m.getBoundingRect(),invisible:!0})),m.eachChild(function(a){a.silent=!l}),this.group.add(m),m}})}),b("echarts/component/legend/legendFilter",[],function(){return function(a){var b=a.findComponents({mainType:"legend"});b&&b.length&&a.filterSeries(function(a){for(var c=0;c<b.length;c++)if(!b[c].isSelected(a.name))return!1;return!0})}}),b("echarts/component/legend",["require","./legend/LegendModel","./legend/legendAction","./legend/LegendView","../echarts","./legend/legendFilter"],function(a){a("./legend/LegendModel"),a("./legend/legendAction"),a("./legend/LegendView");var b=a("../echarts");b.registerProcessor("filter",a("./legend/legendFilter"))}),b("echarts/chart/map/MapSeries",["require","../../data/List","../../echarts","../../model/Series","zrender/core/util","../../data/helper/completeDimensions","../../util/format","../helper/dataSelectableMixin"],function(a){function k(a,b){var e,f,c={},d=b.features;for(e=0;e<a.length;e++)c[a[e].name]=a[e];for(e=0;e<d.length;e++)f=d[e].properties.name,c[f]||a.push({value:0/0,name:f});return a}var b=a("../../data/List"),c=a("../../echarts"),d=a("../../model/Series"),e=a("zrender/core/util"),f=a("../../data/helper/completeDimensions"),g=a("../../util/format"),h=g.encodeHTML,i=g.addCommas,j=a("../helper/dataSelectableMixin"),l=d.extend({type:"series.map",needsDrawMap:!1,seriesGroup:[],init:function(a){a=this._fillOption(a),this.option=a,this.$superApply("init",arguments),this.updateSelectedMap()},getInitialData:function(a){var c=f(["value"],a.data||[]),d=new b(c,this);return d.initData(a.data),d},mergeOption:function(a){a=this._fillOption(a),d.prototype.mergeOption.call(this,a),this.updateSelectedMap()},_fillOption:function(a){var b,d;return a=e.extend({},a),b=c.getMap(a.mapType),d=b&&b.geoJson,d&&a.data&&(a.data=k(a.data,d)),a},setRoamZoom:function(a){var b=this.option.roamDetail;b&&(b.zoom=a)},setRoamPan:function(a,b){var c=this.option.roamDetail;c&&(c.x=a,c.y=b)},formatTooltip:function(a){var g,b=this._data,c=i(this.getRawValue(a)),d=b.getName(a),e=this.seriesGroup,f=[];for(g=0;g<e.length;g++)isNaN(e[g].getRawValue(a))||f.push(h(e[g].name));return f.join(", ")+"<br />"+d+" : "+c},defaultOption:{zlevel:0,z:2,coordinateSystem:"geo",map:"china",left:"center",top:"center",showLegendSymbol:!0,dataRangeHoverLink:!0,roamDetail:{x:0,y:0,zoom:1},label:{normal:{show:!1,textStyle:{color:"#000"}},emphasis:{show:!1,textStyle:{color:"#000"}}},itemStyle:{normal:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{areaColor:"rgba(255,215, 0, 0.8)"}}}});return e.mixin(l,j),l}),b("echarts/component/helper/interactionMutex",["require"],function(){function d(a){return a[b]||(a[b]={})}var b="\0_ec_interaction_mutex",c={take:function(a,b){d(b)[a]=!0},release:function(a,b){d(b)[a]=!1},isTaken:function(a,b){return!!d(b)[a]}};return c}),b("echarts/component/helper/RoamController",["require","zrender/mixin/Eventful","zrender/core/util","zrender/core/event","./interactionMutex"],function(a){function f(a){var b,c,d;a.target&&a.target.draggable||(b=a.offsetX,c=a.offsetY,d=this.rect,d&&d.contain(b,c)&&(this._x=b,this._y=c,this._dragging=!0))}function g(a){var b,c,f,g,h,i;if(this._dragging&&(d.stop(a.event),"pinch"!==a.gestureEvent)){if(e.isTaken("globalPan",this._zr))return;b=a.offsetX,c=a.offsetY,f=b-this._x,g=c-this._y,this._x=b,this._y=c,h=this.target,h&&(i=h.position,i[0]+=f,i[1]+=g,h.dirty()),d.stop(a.event),this.trigger("pan",f,g)}}function h(){this._dragging=!1}function i(a){d.stop(a.event);var b=a.wheelDelta>0?1.1:1/1.1;k.call(this,a,b,a.offsetX,a.offsetY)}function j(a){if(!e.isTaken("globalPan",this._zr)){d.stop(a.event);var b=a.pinchScale>1?1.1:1/1.1;k.call(this,a,b,a.pinchX,a.pinchY)}}function k(a,b,c,d){var f,g,h,i,j,e=this.rect;e&&e.contain(c,d)&&(f=this.target,f&&(g=f.position,h=f.scale,i=this._zoom=this._zoom||1,i*=b,j=i/this._zoom,this._zoom=i,g[0]-=(c-g[0])*(j-1),g[1]-=(d-g[1])*(j-1),h[0]*=j,h[1]*=j,f.dirty()),this.trigger("zoom",b,c,d))}function l(a,d,e){var k,l,m,n,o,p;this.target=d,this.rect=e,this._zr=a,k=c.bind,l=k(f,this),m=k(g,this),n=k(h,this),o=k(i,this),p=k(j,this),b.call(this),this.enable=function(b){this.disable(),null==b&&(b=!0),b&&"scale"!==b&&(a.on("mousedown",l),a.on("mousemove",m),a.on("mouseup",n)),b&&"move"!==b&&(a.on("mousewheel",o),a.on("pinch",p))},this.disable=function(){a.off("mousedown",l),a.off("mousemove",m),a.off("mouseup",n),a.off("mousewheel",o),a.off("pinch",p)},this.dispose=this.disable,this.isDragging=function(){return this._dragging},this.isPinching=function(){return this._pinching}}var b=a("zrender/mixin/Eventful"),c=a("zrender/core/util"),d=a("zrender/core/event"),e=a("./interactionMutex");return c.mixin(l,b),l}),b("echarts/component/helper/MapDraw",["require","./RoamController","../../util/graphic","zrender/core/util"],function(a){function e(a){var c=a.getItemStyle(),d=a.get("areaColor");return d&&(c.fill=d),c}function f(a,b,c,d,e){c.off("click"),a.get("selectedMode")&&c.on("click",function(c){var h,f=c.target.dataIndex;null!=f&&(h=b.getName(f),d.dispatchAction({type:"mapToggleSelect",seriesIndex:a.seriesIndex,name:h,from:e.uid}),g(a,b,d))})}function g(a,b){b.eachItemGraphicEl(function(c,d){var e=b.getName(d);c.trigger(a.isSelected(e)?"emphasis":"normal")})}function h(a,d){var e=new c.Group;this._controller=new b(a.getZr(),d?e:null,null),this.group=e,this._updateGroup=d}var b=a("./RoamController"),c=a("../../util/graphic"),d=a("zrender/core/util");return h.prototype={constructor:h,draw:function(a,b,h,i){var m,n,o,p,q,r,s,t,u,v,w,j=a.getData&&a.getData(),k=a.coordinateSystem,l=this.group;l.removeAll(),m=k.scale,l.position=k.position.slice(),l.scale=m.slice(),t=["itemStyle","normal"],u=["itemStyle","emphasis"],v=["label","normal"],w=["label","emphasis"],j||(n=a.getModel(t),o=a.getModel(u),p=e(n,m),q=e(o,m),r=a.getModel(v),s=a.getModel(w)),d.each(k.regions,function(b){var g,h,i,k,x,y,z,A,B,C,D,E,F,f=new c.Group;j&&(g=j.indexOfName(b.name),h=j.getItemModel(g),i=j.getItemVisual(g,"color",!0),n=h.getModel(t),o=h.getModel(u),p=e(n,m),q=e(o,m),r=h.getModel(v),s=h.getModel(w),i&&(p.fill=i)),k=r.getModel("textStyle"),x=s.getModel("textStyle"),d.each(b.contours,function(a){var b=new c.Polygon({shape:{points:a},style:{strokeNoScale:!0},culling:!0});b.setStyle(p),f.add(b)}),y=r.get("show"),z=s.get("show"),A=j&&isNaN(j.get("value",g)),B=j&&j.getItemLayout(g),(!j||A&&(y||z)||B&&B.showLabel)&&(C=j?g:b.name,D=a.getFormattedLabel(C,"normal"),E=a.getFormattedLabel(C,"emphasis"),F=new c.Text({style:{text:y?D||b.name:"",fill:k.getTextColor(),textFont:k.getFont(),textAlign:"center",textBaseline:"middle"},hoverStyle:{text:z?E||b.name:"",fill:x.getTextColor(),textFont:x.getFont()},position:b.center.slice(),scale:[1/m[0],1/m[1]],z2:10,silent:!0}),f.add(F)),j&&j.setItemGraphicEl(g,f),c.setHoverStyle(f,q),l.add(f)
}),this._updateController(a,b,h),j&&f(a,j,l,h,i),j&&g(a,j)},remove:function(){this.group.removeAll(),this._controller.dispose()},_updateController:function(a,b,c){var f,d=a.coordinateSystem,e=this._controller;e.enable(a.get("roam")||!1),f=a.type.split(".")[0],e.off("pan").on("pan",function(b,d){c.dispatchAction({type:"geoRoam",component:f,name:a.name,dx:b,dy:d})}),e.off("zoom").on("zoom",function(b,d,e){var g,h;c.dispatchAction({type:"geoRoam",component:f,name:a.name,zoom:b,originX:d,originY:e}),this._updateGroup&&(g=this.group,h=g.scale,g.traverse(function(a){"text"===a.type&&a.attr("scale",[1/h[0],1/h[1]])}))},this),e.rect=d.getViewRect()}},h}),b("echarts/chart/map/MapView",["require","../../util/graphic","../../component/helper/MapDraw","../../echarts"],function(a){var b=a("../../util/graphic"),c=a("../../component/helper/MapDraw");a("../../echarts").extendChartView({type:"map",render:function(a,b,d,e){var f,g;e&&"mapToggleSelect"===e.type&&e.from===this.uid||(f=this.group,f.removeAll(),e&&"geoRoam"===e.type&&"series"===e.component&&e.name===a.name?(g=this._mapDraw,g&&f.add(g.group)):a.needsDrawMap?(g=this._mapDraw||new c(d,!0),f.add(g.group),g.draw(a,b,d,this),this._mapDraw=g):(this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null),a.get("showLegendSymbol")&&b.getComponent("legend")&&this._renderSymbols(a,b,d))},remove:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},_renderSymbols:function(a){var e=a.getData(),f=this.group;e.each("value",function(a,c){var d,g,h,i,j,k,l,m,n,o,p,q,r;isNaN(a)||(d=e.getItemLayout(c),d&&d.point&&(g=d.point,h=d.offset,i=new b.Circle({style:{fill:e.getVisual("color")},shape:{cx:g[0]+9*h,cy:g[1],r:3},silent:!0,z2:10}),h||(j=e.getName(c),k=e.getItemModel(c),l=k.getModel("label.normal"),m=k.getModel("label.emphasis"),n=l.getModel("textStyle"),o=m.getModel("textStyle"),p=e.getItemGraphicEl(c),i.setStyle({textPosition:"bottom"}),q=function(){i.setStyle({text:m.get("show")?j:"",textFill:o.getTextColor(),textFont:o.getFont()})},r=function(){i.setStyle({text:l.get("show")?j:"",textFill:n.getTextColor(),textFont:n.getFont()})},p.on("mouseover",q).on("mouseout",r).on("emphasis",q).on("normal",r),r()),f.add(i)))})}})}),b("echarts/action/roamHelper",["require"],function(){var b={};return b.calcPanAndZoom=function(a,b){var i,j,c=b.dx,d=b.dy,e=b.zoom,f=a.get("x")||0,g=a.get("y")||0,h=a.get("zoom")||1;return null!=c&&null!=d&&(f+=c,g+=d),null!=e&&(i=(b.originX-f)*(e-1),j=(b.originY-g)*(e-1),f-=i,g-=j),{x:f,y:g,zoom:(e||1)*h}},b}),b("echarts/action/geoRoam",["require","zrender/core/util","./roamHelper","../echarts"],function(a){var b=a("zrender/core/util"),c=a("./roamHelper"),d=a("../echarts"),e={type:"geoRoam",event:"geoRoam",update:"updateLayout"};d.registerAction(e,function(a,d){var e=a.component||"series";d.eachComponent(e,function(d){var f,g,h;if(d.name===a.name){if(f=d.coordinateSystem,"geo"!==f.type)return;g=d.getModel("roamDetail"),h=c.calcPanAndZoom(g,a),d.setRoamPan&&d.setRoamPan(h.x,h.y),d.setRoamZoom&&d.setRoamZoom(h.zoom),f&&f.setPan(h.x,h.y),f&&f.setZoom(h.zoom),"series"===e&&b.each(d.seriesGroup,function(a){a.setRoamPan(h.x,h.y),a.setRoamZoom(h.zoom)})}})})}),b("echarts/coord/geo/GeoModel",["require","../../util/model","../../model/Component"],function(a){var b=a("../../util/model"),c=a("../../model/Component");c.extend({type:"geo",coordinateSystem:null,init:function(a){c.prototype.init.apply(this,arguments),b.defaultEmphasis(a.label,["position","show","textStyle","distance","formatter"])},defaultOption:{zlevel:0,z:0,show:!0,left:"center",top:"center",map:"",roamDetail:{x:0,y:0,zoom:1},label:{normal:{show:!1,textStyle:{color:"#000"}},emphasis:{show:!0,textStyle:{color:"rgb(100,0,0)"}}},itemStyle:{normal:{borderWidth:.5,borderColor:"#444",color:"#eee"},emphasis:{color:"rgba(255,215,0,0.8)"}}},getFormattedLabel:function(a,b){var c=this.get("label."+b+".formatter"),d={name:a};return"function"==typeof c?(d.status=b,c(d)):"string"==typeof c?c.replace("{a}",d.seriesName):void 0},setRoamZoom:function(a){var b=this.option.roamDetail;b&&(b.zoom=a)},setRoamPan:function(a,b){var c=this.option.roamDetail;c&&(c.x=a,c.y=b)}})}),b("zrender/contain/polygon",["require","./windingLine"],function(a){function d(a,b){return Math.abs(a-b)<c}function e(a,c,e){var h,i,j,f=0,g=a[0];if(!g)return!1;for(h=1;h<a.length;h++)i=a[h],f+=b(g[0],g[1],i[0],i[1],c,e),g=i;return j=a[0],d(g[0],j[0])&&d(g[1],j[1])||(f+=b(g[0],g[1],j[0],j[1],c,e)),0!==f}var b=a("./windingLine"),c=1e-8;return{contain:e}}),b("echarts/coord/geo/Region",["require","zrender/contain/polygon","zrender/core/BoundingRect","zrender/core/bbox","zrender/core/vector"],function(a){function f(a,b,c){if(this.name=a,this.contours=b,c)c=[c[0],c[1]];else{var d=this.getBoundingRect();c=[d.x+d.width/2,d.y+d.height/2]}this.center=c}var b=a("zrender/contain/polygon"),c=a("zrender/core/BoundingRect"),d=a("zrender/core/bbox"),e=a("zrender/core/vector");return f.prototype={constructor:f,getBoundingRect:function(){var b,f,g,h,i,j,k,a=this._rect;if(a)return a;for(b=Number.MAX_VALUE,f=[b,b],g=[-b,-b],h=[],i=[],j=this.contours,k=0;k<j.length;k++)d.fromPoints(j[k],h,i),e.min(f,f,h),e.max(g,g,i);return 0===k&&(f[0]=f[1]=g[0]=g[1]=0),this._rect=new c(f[0],f[1],g[0]-f[0],g[1]-f[1])},contain:function(a){var e,f,c=this.getBoundingRect(),d=this.contours;if(c.contain(a[0],a[1]))for(e=0,f=d.length;f>e;e++)if(b.contain(d[e],a[0],a[1]))return!0;return!1},transformTo:function(a,b,d,f){var i,j,k,l,m,g=this.getBoundingRect(),h=g.width/g.height;for(d?f||(f=d/h):d=h*f,i=new c(a,b,d,f),j=g.calculateTransform(i),k=this.contours,l=0;l<k.length;l++)for(m=0;m<k[l].length;m++)e.applyTransform(k[l][m],k[l][m],j);g=this._rect,g.copy(i),this.center=[g.x+g.width/2,g.y+g.height/2]}},f}),b("echarts/coord/geo/parseGeoJson",["require","zrender/core/util","./Region"],function(a){function d(a){var b,c,d,f,g,h,i,j,k,l;if(!a.UTF8Encoding)return a;for(b=a.features,c=0;c<b.length;c++)for(d=b[c],f=d.geometry,g=f.coordinates,h=f.encodeOffsets,i=0;i<g.length;i++)if(j=g[i],"Polygon"===f.type)g[i]=e(j,h[i]);else if("MultiPolygon"===f.type)for(k=0;k<j.length;k++)l=j[k],j[k]=e(l,h[i][k]);return a.UTF8Encoding=!1,a}function e(a,b){var f,g,h,c=[],d=b[0],e=b[1];for(f=0;f<a.length;f+=2)g=a.charCodeAt(f)-64,h=a.charCodeAt(f+1)-64,g=g>>1^-(1&g),h=h>>1^-(1&h),g+=d,h+=e,d=g,e=h,c.push([g/1024,h/1024]);return c}function f(a){var c,d,b=[];for(c=0;c<a.length;c++)for(d=0;d<a[c].length;d++)b.push(a[c][d]);return b}var b=a("zrender/core/util"),c=a("./Region");return function(a){return d(a),b.map(b.filter(a.features,function(a){return a.geometry&&a.properties}),function(a){var b=a.properties,d=a.geometry,e=d.coordinates;return"MultiPolygon"===d.type&&(e=f(e)),new c(b.name,e,b.cp)})}}),b("echarts/coord/View",["require","zrender/core/vector","zrender/core/matrix","zrender/mixin/Transformable","zrender/core/util","zrender/core/BoundingRect"],function(a){function h(){d.call(this)}function i(a){this.name=a,this.dimensions=["x","y"],d.call(this),this._roamTransform=new h,this._viewTransform=new h}var b=a("zrender/core/vector"),c=a("zrender/core/matrix"),d=a("zrender/mixin/Transformable"),e=a("zrender/core/util"),f=a("zrender/core/BoundingRect"),g=b.applyTransform;return e.mixin(h,d),i.prototype={constructor:i,type:"view",setBoundingRect:function(a,b,c,d){return this._rect=new f(a,b,c,d),this._rect},getBoundingRect:function(){return this._rect},setViewRect:function(a,b,c,d){this.transformTo(a,b,c,d),this._viewRect=new f(a,b,c,d)},transformTo:function(a,b,c,d){var e=this.getBoundingRect(),g=this._viewTransform;g.transform=e.calculateTransform(new f(a,b,c,d)),g.decomposeTransform(),this._updateTransform()},setPan:function(a,b){this._roamTransform.position=[a,b],this._updateTransform()},setZoom:function(a){this._roamTransform.scale=[a,a],this._updateTransform()},getRoamTransform:function(){return this._roamTransform.transform},_updateTransform:function(){var a=this._roamTransform,b=this._viewTransform;b.parent=a,a.updateTransform(),b.updateTransform(),b.transform&&c.copy(this.transform||(this.transform=[]),b.transform),this.decomposeTransform()},getViewRect:function(){return this._viewRect},dataToPoint:function(a){var b=this.transform;return b?g([],a,b):[a[0],a[1]]},pointToData:function(a){var b=this.invTransform;return b?g([],a,b):[a[0],a[1]]}},e.mixin(i,d),i}),b("echarts/coord/geo/fix/nanhai",["require","../Region"],function(a){var e,f,b=a("../Region"),c=[126,25],d=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]];for(e=0;e<d.length;e++)for(f=0;f<d[e].length;f++)d[e][f][0]/=10.5,d[e][f][1]/=-14,d[e][f][0]+=c[0],d[e][f][1]+=c[1];return function(a){"china"===a.map&&a.regions.push(new b("南海诸岛",d,c))}}),b("echarts/coord/geo/fix/textCoord",["require","zrender/core/util"],function(a){var b=a("zrender/core/util"),c={"南海诸岛":[32,80],"广东":[0,-10],"香港":[10,5],"澳门":[-10,10],"天津":[5,5]};return function(a){b.each(a.regions,function(a){var d,b=c[a.name];b&&(d=a.center,d[0]+=b[0]/10.5,d[1]+=-b[1]/14)})}}),b("echarts/coord/geo/fix/geoCoord",["require","zrender/core/util"],function(a){var b=a("zrender/core/util"),c={Russia:[100,60],"United States of America":[-99,38]};return function(a){b.each(a.regions,function(a){var d,b=c[a.name];b&&(d=a.center,d[0]=b[0],d[1]=b[1])})}}),b("echarts/coord/geo/Geo",["require","./parseGeoJson","zrender/core/util","zrender/core/BoundingRect","../View","./fix/nanhai","./fix/textCoord","./fix/geoCoord"],function(a){function g(a,b,c,d,f){e.call(this,a),this.map=b,this.dimensions=["lng","lat"],this._nameCoordMap={},this.loadGeoJson(c,d,f)}var b=a("./parseGeoJson"),c=a("zrender/core/util"),d=a("zrender/core/BoundingRect"),e=a("../View"),f=[a("./fix/nanhai"),a("./fix/textCoord"),a("./fix/geoCoord")];return g.prototype={constructor:g,type:"geo",loadGeoJson:function(a,d,e){var h,i,j,k,l;try{this.regions=a?b(a):[]}catch(g){throw"Invalid geoJson format\n"+g}for(d=d||{},e=e||{},h=this.regions,i={},j=0;j<h.length;j++)k=h[j].name,k=e[k]||k,h[j].name=k,i[k]=h[j],this.addGeoCoord(k,h[j].center),l=d[k],l&&h[j].transformTo(l.left,l.top,l.width,l.height);this._regionsMap=i,this._rect=null,c.each(f,function(a){a(this)},this)},transformTo:function(a,b,c,e){var g,h,f=this.getBoundingRect();f=f.clone(),f.y=-f.y-f.height,g=this._viewTransform,g.transform=f.calculateTransform(new d(a,b,c,e)),g.decomposeTransform(),h=g.scale,h[1]=-h[1],g.updateTransform(),this._updateTransform()},getRegion:function(a){return this._regionsMap[a]},addGeoCoord:function(a,b){this._nameCoordMap[a]=b},getGeoCoord:function(a){return this._nameCoordMap[a]},getBoundingRect:function(){var a,b,c,e;if(this._rect)return this._rect;for(b=this.regions,c=0;c<b.length;c++)e=b[c].getBoundingRect(),a=a||e.clone(),a.union(e);return this._rect=a||new d(0,0,0,0)},dataToPoints:function(a){var b=[];return a.mapArray(["lng","lat"],function(a,c){return b[0]=a,b[1]=c,this.dataToPoint(b)},this)},dataToPoint:function(a){return"string"==typeof a&&(a=this.getGeoCoord(a)),a?e.prototype.dataToPoint.call(this,a):void 0}},c.mixin(g,e),g}),b("echarts/coord/geo/geoCreator",["require","./GeoModel","./Geo","../../util/layout","zrender/core/util","../../echarts"],function(a){function f(a,b){var f,g,h,i,j,d=this.getBoundingRect(),e=a.getBoxLayoutParams();e.aspect=.75*(d.width/d.height),f=c.getLayoutRect(e,{width:b.getWidth(),height:b.getHeight()}),this.setViewRect(f.x,f.y,f.width,f.height),g=a.getModel("roamDetail"),h=g.get("x")||0,i=g.get("y")||0,j=g.get("zoom")||1,this.setPan(h,i),this.setZoom(j)}function g(a,b){d.each(b.get("geoCoord"),function(b,c){a.addGeoCoord(c,b)})}var b,c,d,e,h,i;a("./GeoModel"),b=a("./Geo"),c=a("../../util/layout"),d=a("zrender/core/util"),e={},h={create:function(a,c){var i,h=[];return a.eachComponent("geo",function(a,d){var i=a.get("map"),j=e[i],k=new b(i+d,i,j&&j.geoJson,j&&j.specialAreas,a.get("nameMap"));h.push(k),g(k,a),a.coordinateSystem=k,k.model=a,k.resize=f,k.resize(a,c)}),a.eachSeries(function(a){var c,b=a.get("coordinateSystem");"geo"===b&&(c=a.get("geoIndex")||0,a.coordinateSystem=h[c])}),i={},a.eachSeriesByType("map",function(a){var b=a.get("map");i[b]=i[b]||[],i[b].push(a)}),d.each(i,function(a,i){var j=e[i],k=d.map(a,function(a){return a.get("nameMap")}),l=new b(i,i,j&&j.geoJson,j&&j.specialAreas,d.mergeAll(k));h.push(l),l.resize=f,l.resize(a[0],c),d.each(a,function(a){a.coordinateSystem=l,g(l,a)})}),h},registerMap:function(a,b,c){b.geoJson&&!b.features&&(c=b.specialAreas,b=b.geoJson),"string"==typeof b&&(b="undefined"!=typeof JSON&&JSON.parse?JSON.parse(b):new Function("return ("+b+");")()),e[a]={geoJson:b,specialAreas:c}},getMap:function(a){return e[a]}},i=a("../../echarts"),i.registerMap=h.registerMap,i.getMap=h.getMap,i.loadMap=function(){},i.registerCoordinateSystem("geo",h)}),b("echarts/chart/map/mapSymbolLayout",["require","zrender/core/util"],function(a){var b=a("zrender/core/util");return function(a){var c={};a.eachSeriesByType("map",function(d){var f,g,e=d.get("mapType");c[e]||(f={},b.each(d.seriesGroup,function(b){var c=b.coordinateSystem,d=b.getData();b.get("showLegendSymbol")&&a.getComponent("legend")&&d.each("value",function(a,b){var h,i,e=d.getName(b),g=c.getRegion(e);g&&!isNaN(a)&&(h=f[e]||0,i=c.dataToPoint(g.center),f[e]=h+1,d.setItemLayout(b,{point:i,offset:h}))})}),g=d.getData(),g.each(function(a){var b=g.getName(a),c=g.getItemLayout(a)||{};c.showLabel=!f[b],g.setItemLayout(a,c)}),c[e]=!0)})}}),b("echarts/chart/map/mapVisual",["require"],function(){return function(a){a.eachSeriesByType("map",function(a){var b=a.get("color"),c=a.getModel("itemStyle.normal"),d=c.get("areaColor"),e=c.get("color")||b[a.seriesIndex%b.length];a.getData().setVisual({areaColor:d,color:e})})}}),b("echarts/chart/map/mapDataStatistic",["require","zrender/core/util"],function(a){function c(a,b){var e,c={},d=["value"];for(e=0;e<a.length;e++)a[e].each(d,function(b,d){var f=a[e].getName(d);c[f]=c[f]||[],isNaN(b)||c[f].push(b)});return a[0].map(d,function(d,e){var k,l,f=a[0].getName(e),g=0,h=1/0,i=-1/0,j=c[f].length;for(k=0;j>k;k++)h=Math.min(h,c[f][k]),i=Math.max(i,c[f][k]),g+=c[f][k];return l="min"===b?h:"max"===b?i:"average"===b?g/j:g,0===j?0/0:l})}var b=a("zrender/core/util");return function(a){var d={};a.eachSeriesByType("map",function(a){var b=a.get("map");d[b]=d[b]||[],d[b].push(a)}),b.each(d,function(a){var f,e=c(b.map(a,function(a){return a.getData()}),a[0].get("mapValueCalculation"));for(a[0].seriesGroup=[],a[0].setData(e),f=0;f<a.length;f++)a[f].seriesGroup=a,a[f].needsDrawMap=0===f})}}),b("echarts/chart/map/backwardCompat",["require","zrender/core/util"],function(a){function e(a){var d={};return b.each(c,function(b){null!=a[b]&&(d[b]=a[b])}),d}var b=a("zrender/core/util"),c=["x","y","x2","y2","width","height","map","roam","roamDetail","label","itemStyle"],d={};return function(a){var f,c=[];b.each(a.series,function(a){"map"===a.type&&c.push(a),b.extend(d,a.geoCoord)}),f={},b.each(c,function(c){var g,h,i;c.map=c.map||c.mapType,b.defaults(c,c.mapLocation),c.markPoint&&(g=c.markPoint,g.data=b.map(g.data,function(a){var c,e;return b.isArray(a.value)||(a.geoCoord?c=a.geoCoord:a.name&&(c=d[a.name]),e=c?[c[0],c[1]]:[0/0,0/0],null!=a.value&&e.push(a.value),a.value=e),a}),c.data&&c.data.length||(a.geo||(a.geo=[]),h=f[c.map],h||(h=f[c.map]=e(c),a.geo.push(h)),i=c.markPoint,i.type=a.effect&&a.effect.show?"effectScatter":"scatter",i.coordinateSystem="geo",i.geoIndex=b.indexOf(a.geo,h),i.name=c.name,a.series.splice(b.indexOf(a.series,c),1,i)))})}}),b("echarts/chart/map",["require","../echarts","./map/MapSeries","./map/MapView","../action/geoRoam","../coord/geo/geoCreator","./map/mapSymbolLayout","./map/mapVisual","./map/mapDataStatistic","./map/backwardCompat","../action/createDataSelectAction"],function(a){var b=a("../echarts");a("./map/MapSeries"),a("./map/MapView"),a("../action/geoRoam"),a("../coord/geo/geoCreator"),b.registerLayout(a("./map/mapSymbolLayout")),b.registerVisualCoding("chart",a("./map/mapVisual")),b.registerProcessor("statistic",a("./map/mapDataStatistic")),b.registerPreprocessor(a("./map/backwardCompat")),a("../action/createDataSelectAction")("map",[{type:"mapToggleSelect",event:"mapselectchanged",method:"toggleSelected"},{type:"mapSelect",event:"mapselected",method:"select"},{type:"mapUnSelect",event:"mapunselected",method:"unSelect"}])}),b("echarts/data/helper/linkList",["require","zrender/core/util"],function(a){function d(a,c,d){return b.each(e,function(e,f){var g=a[f];a[f]=b.curry(e,g,c,d)}),a[d]=c,c.data=a,a}var b=a("zrender/core/util"),c=Array.prototype.slice,e={cloneShallow:function(a,b,e){var f=a.apply(this,c.call(arguments,3));return d(f,b,e)},map:function(a,b,e){var f=a.apply(this,c.call(arguments,3));return d(f,b,e)},filterSelf:function(a,b){var e=a.apply(this,c.call(arguments,3));return b.update(),e}};return{linkToGraph:function(a,b){d(a,b,"graph")},linkToTree:function(a,b){d(a,b,"tree")}}}),b("echarts/data/Tree",["require","zrender/core/util","../model/Model","./List","./helper/linkList","./helper/completeDimensions"],function(a){function h(a,d){this.root,this.data,this._nodes=[],this.hostModel=a,this.levelModels=b.map(d||[],function(b){return new c(b,a,a.ecModel)})}function i(a,b){var c=b.children;a.parentNode!==b&&(c.push(a),a.parentNode=b,b.hostTree._nodes.push(a))}var b=a("zrender/core/util"),c=a("../model/Model"),d=a("./List"),e=a("./helper/linkList"),f=a("./helper/completeDimensions"),g=function(a,b,c){this.name=a||"",this.depth=0,this.height=0,this.parentNode=null,this.dataIndex=null==b?-1:b,this.children=[],this.viewChildren=[],this.hostTree=c};return g.prototype={constructor:g,isRemoved:function(){return this.dataIndex<0},eachNode:function(a,c,d){var e,f,g,h;for("function"==typeof a&&(d=c,c=a,a=null),a=a||{},b.isString(a)&&(a={order:a}),e=a.order||"preorder",f=this[a.attr||"children"],"preorder"===e&&(g=c.call(d,this)),h=0;!g&&h<f.length;h++)f[h].eachNode(a,c,d);"postorder"===e&&c.call(d,this)},updateDepthAndHeight:function(a){var c,d,b=0;for(this.depth=a,c=0;c<this.children.length;c++)d=this.children[c],d.updateDepthAndHeight(a+1),d.height>b&&(b=d.height);this.height=b+1},getNodeById:function(a){var b,c,d,e;if(this.getId()===a)return this;for(b=0,c=this.children,d=c.length;d>b;b++)if(e=c[b].getNodeById(a))return e},contains:function(a){var b,c,d,e;if(a===this)return!0;for(b=0,c=this.children,d=c.length;d>b;b++)if(e=c[b].contains(a))return e},getAncestors:function(a){for(var b=[],c=a?this:this.parentNode;c;)b.push(c),c=c.parentNode;return b.reverse(),b},getValue:function(a){var b=this.hostTree.data;return b.get(b.getDimension(a||"value"),this.dataIndex)},setLayout:function(a,b){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,a,b)},getLayout:function(){return this.hostTree.data.getItemLayout(this.dataIndex)},getModel:function(a){var b,c,d;if(!(this.dataIndex<0))return b=this.hostTree,c=b.data.getItemModel(this.dataIndex),d=this.getLevelModel(),c.getModel(a,(d||b.hostModel).getModel(a))},getLevelModel:function(){return(this.hostTree.levelModels||[])[this.depth]},setVisual:function(a,b){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,a,b)},getVisual:function(a,b){return this.hostTree.data.getItemVisual(this.dataIndex,a,b)},getRawIndex:function(){return this.hostTree.data.getRawIndex(this.dataIndex)},getId:function(){return this.hostTree.data.getId(this.dataIndex)}},h.prototype={constructor:h,type:"tree",eachNode:function(a,b,c){this.root.eachNode(a,b,c)},getNodeByDataIndex:function(a){var b=this.data.getRawIndex(a);return this._nodes[b]},getNodeByName:function(a){return this.root.getNodeByName(a)},update:function(){var c,d,a=this.data,b=this._nodes;for(c=0,d=b.length;d>c;c++)b[c].dataIndex=-1;for(c=0,d=a.count();d>c;c++)b[a.getRawIndex(c)].dataIndex=c}},h.createTree=function(a,b,c){function l(a,b){var c,d,e;if(k.push(a),c=new g(a.name,k.length-1,j),b?i(c,b):j.root=c,d=a.children)for(e=0;e<d.length;e++)l(d[e],c)}var m,n,j=new h(b,c),k=[];return l(a),j.root.updateDepthAndHeight(0),m=f([{name:"value"}],k),n=new d(m,b),n.initData(k),e.linkToTree(n,j),j},h}),b("echarts/chart/treemap/TreemapSeries",["require","../../model/Series","../../data/Tree","zrender/core/util","../../model/Model","../../util/format"],function(a){function i(a,b){var e,c=0;d.each(a.children,function(a){i(a,b);var e=a.value;d.isArray(e)&&(e=e[0]),c+=e}),e=a.value,b>=0&&(d.isArray(e)?e=e[0]:a.value=new Array(b)),(null==e||isNaN(e))&&(e=c),0>e&&(e=0),b>=0?a.value[0]=e:a.value=e}function j(a,b){var f,g,c=b.get("color");if(c)return a=a||[],d.each(a,function(a){var b=new e(a),c=b.get("color");(b.get("itemStyle.normal.color")||c&&"none"!==c)&&(f=!0)}),f||(g=a[0]||(a[0]={}),g.color=c.slice()),a}var b=a("../../model/Series"),c=a("../../data/Tree"),d=a("zrender/core/util"),e=a("../../model/Model"),f=a("../../util/format"),g=f.encodeHTML,h=f.addCommas;return b.extend({type:"series.treemap",dependencies:["grid","polar"],defaultOption:{left:"center",top:"middle",right:null,bottom:null,width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),root:null,visualDimension:0,zoomToNodeRatio:.1024,roam:!0,animation:!0,animationDurationUpdate:1500,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{normal:{color:"rgba(0,0,0,0.7)",borderColor:"rgba(255,255,255,0.7)",borderWidth:1,shadowColor:"rgba(150,150,150,1)",shadowBlur:3,shadowOffsetX:0,shadowOffsetY:0,textStyle:{color:"#fff"}},emphasis:{textStyle:{}}}},label:{normal:{show:!0,position:["50%","50%"],textStyle:{align:"center",baseline:"middle",color:"#fff",ellipsis:!0}}},itemStyle:{normal:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{}},color:"none",colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},getInitialData:function(a,b){var g,h,k,e=a.data||[],f=a.name;return null==f&&(f=a.name),g={name:f,children:a.data},h=(e[0]||{}).value,i(g,d.isArray(h)?h.length:-1),k=a.levels||[],k=a.levels=j(k,b),c.createTree(g,this,k).data},getViewRoot:function(){var a=this.option.root,b=this.getData().tree.root;return a&&b.getNodeById(a)||b},formatTooltip:function(a){var b=this.getData(),c=this.getRawValue(a),e=d.isArray(c)?h(c[0]):h(c),f=b.getName(a);return g(f)+": "+e},getDataParams:function(a){for(var g,c=b.prototype.getDataParams.apply(this,arguments),d=this.getData(),e=d.tree.getNodeByDataIndex(a),f=c.treePathInfo=[];e;)g=e.dataIndex,f.push({name:e.name,dataIndex:g,value:this.getRawValue(g)}),e=e.parentNode;return f.reverse(),c},setLayoutInfo:function(a){this.layoutInfo=this.layoutInfo||{},d.extend(this.layoutInfo,a)},mapIdToIndex:function(a){var c,b=this._idIndexMap;return b||(b=this._idIndexMap={},this._idIndexMapCount=0),c=b[a],null==c&&(b[a]=c=this._idIndexMapCount++),c}})}),b("echarts/chart/treemap/helper",["require"],function(){var b={retrieveTargetInfo:function(a,b){var c,d,e;if(a&&"treemapZoomToNode"===a.type)return c=b.getData().tree.root,d=a.targetNode,d&&c.contains(d)?{node:d}:(e=a.targetNodeId,null!=e&&(d=c.getNodeById(e))?{node:d}:null)}};return b}),b("echarts/chart/treemap/Breadcrumb",["require","../../util/graphic","../../util/layout","zrender/core/util"],function(a){function h(a,c){this.group=new b.Group,a.add(this.group),this._onSelect=c||d.noop}function i(a,b,c,d,e,f){var h=[[e?a:a-g,b],[a+c,b],[a+c,b+d],[e?a:a-g,b+d]];return!f&&h.splice(2,0,[a+c+g,b+d/2]),!e&&h.push([a,b+d/2]),h}var b=a("../../util/graphic"),c=a("../../util/layout"),d=a("zrender/core/util"),e=8,f=8,g=5;return h.prototype={constructor:h,render:function(a,b,d){var g,h,i,e=a.getModel("breadcrumb"),f=this.group;f.removeAll(),e.get("show")&&d&&(g=e.getModel("itemStyle.normal"),h=g.getModel("textStyle"),i={pos:{left:e.get("left"),right:e.get("right"),top:e.get("top"),bottom:e.get("bottom")},box:{width:b.getWidth(),height:b.getHeight()},emptyItemWidth:e.get("emptyItemWidth"),totalWidth:0,renderList:[]},this._prepare(e,d,i,h),this._renderContent(e,d,i,g,h),c.positionGroup(f,i.pos,i.box))},_prepare:function(a,b,c,d){var g,h,i,j;for(g=b;g;g=g.parentNode)h=g.getModel().get("name"),i=d.getTextRect(h),j=Math.max(i.width+2*e,c.emptyItemWidth),c.totalWidth+=j+f,c.renderList.push({node:g,text:h,width:j})},_renderContent:function(a,e,g,h,j){var q,r,s,t,k=0,l=g.emptyItemWidth,m=a.get("height"),n=c.getAvailableSize(g.pos,g.box),o=g.totalWidth,p=g.renderList;for(q=p.length-1;q>=0;q--)r=p[q],s=r.width,t=r.text,o>n.width&&(o-=s-l,s=l,t=""),this.group.add(new b.Polygon({shape:{points:i(k,0,s,m,q===p.length-1,0===q)},style:d.defaults(h.getItemStyle(),{lineJoin:"bevel",text:t,textFill:j.getTextColor(),textFont:j.getFont()}),onclick:d.bind(this._onSelect,this,r.node)})),k+=s+f},remove:function(){this.group.removeAll()}},h}),b("echarts/util/animation",["require","zrender/core/util"],function(a){function c(){var d,a=[],c={};return{add:function(d,e,f,g,h){return b.isString(g)&&(h=g,g=0),c[d.id]?!1:(c[d.id]=1,a.push({el:d,target:e,time:f,delay:g,easing:h}),!0)},done:function(a){return d=a,this},start:function(){function h(){b--,b||(a.length=0,c={},d&&d())}var e,f,g,b=a.length;for(e=0,f=a.length;f>e;e++)g=a[e],g.el.animateTo(g.target,g.time,g.delay,g.easing,h);return this}}}var b=a("zrender/core/util");return{createWrap:c}}),b("echarts/chart/treemap/TreemapView",["require","zrender/core/util","../../util/graphic","../../data/DataDiffer","./helper","./Breadcrumb","../../component/helper/RoamController","zrender/core/BoundingRect","zrender/core/matrix","../../util/animation","../../echarts"],function(a){function p(){return{nodeGroup:[],background:[],content:[]}}var b=a("zrender/core/util"),c=a("../../util/graphic"),d=a("../../data/DataDiffer"),e=a("./helper"),f=a("./Breadcrumb"),g=a("../../component/helper/RoamController"),h=a("zrender/core/BoundingRect"),i=a("zrender/core/matrix"),j=a("../../util/animation"),k=b.bind,l=c.Group,m=c.Rect,n=b.each,o=3;return a("../../echarts").extendChartView({type:"treemap",init:function(){this._containerGroup,this._storage=p(),this._oldTree,this._breadcrumb,this._controller,this._state="ready",this._mayClick},render:function(a,c,d,f){var h,i,j,k,l,m,g=c.findComponents({mainType:"series",subType:"treemap",query:f});b.indexOf(g,a)<0||(this.seriesModel=a,this.api=d,this.ecModel=c,h=f&&f.type,i=a.layoutInfo,j=!this._oldTree,k=this._giveContainerGroup(i),l=this._doRender(k,a),j||h&&"treemapZoomToNode"!==h?l.renderFinally():this._doAnimation(k,l,a),this._resetController(d),m=e.retrieveTargetInfo(f,a),this._renderBreadcrumb(a,d,m))},_giveContainerGroup:function(a){var b=this._containerGroup;return b||(b=this._containerGroup=new l,this._initEvents(b),this.group.add(b)),b.position=[a.x,a.y],b},_doRender:function(a,c){function r(a,c,e,f,g){function h(a){return a.getId()}function i(b,d){var k,h=null!=b?a[b]:null,i=null!=d?c[d]:null,j=g||h===q;j||(h=null),k=o(h,i,e),k&&r(h&&h.viewChildren||[],i&&i.viewChildren||[],k,f,j)}f?(c=a,n(a,function(a,b){!a.isRemoved()&&i(b,b)})):new d(c,a,h,h).add(i).update(i).remove(b.curry(i,null)).execute()}function s(a){var b=p();return a&&n(a,function(a,c){var d=b[c];n(a,function(a){a&&(d.push(a),a.__tmWillDelete=c)})}),b}function t(){n(m,function(a){n(a,function(a){a.parent&&a.parent.remove(a)})}),n(j,function(a){a.invisible=!0}),n(l,function(a){a.invisible=!1,a.__tmWillVisible=!1,a.dirty()})}var e=c.getData().tree,f=this._oldTree,g=p(),h=p(),i=this._storage,j=[],l=[],m=[],o=k(this._renderNode,this,h,i,g,j,l),q=c.getViewRoot();return r(e.root?[e.root]:[],f&&f.root?[f.root]:[],a,e===f||!f,q===e.root),m=s(i),this._oldTree=e,this._storage=h,{lastsForAnimation:g,willDeleteEls:m,renderFinally:t}},_renderNode:function(a,c,d,e,f,g,h,i){function D(b,e){var f=null!=k&&c[b][k],g=d[b];return f?(c[b][k]=null,E(g,f,b)):q||(f=new e,F(g,f,b)),a[b][j]=f}function E(a,c,d){var e=a[j]={};e.old="nodeGroup"===d?c.position.slice():b.extend({},c.shape)}function F(a,b,c){var e,h,i,k,l;"background"===c?(b.invisible=!0,b.__tmWillVisible=!0,f.push(b)):(e=g.parentNode,i=0,k=0,e&&(h=d.background[e.getRawIndex()])&&(i=h.old.width,k=h.old.height),l=a[j]={},l.old="nodeGroup"===c?[i,k]:{x:i,y:k,width:0,height:0},l.fadein="nodeGroup"!==c)}function G(a,b){q?!a.invisible&&e.push(a):(a.setStyle(b),a.__tmWillVisible||(a.invisible=!1))}var n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,j=g&&g.getRawIndex(),k=h&&h.getRawIndex();if(g&&(n=g.getLayout(),o=n.width,p=n.height,q=n.invisible,r=D("nodeGroup",l)))return i.add(r),r.position=[n.x,n.y],r.__tmNodeWidth=o,r.__tmNodeHeight=p,s=D("background",m),s&&(s.setShape({x:0,y:0,width:o,height:p}),G(s,{fill:g.getVisual("borderColor",!0)}),r.add(s)),t=g.viewChildren,t&&t.length||(u=n.borderWidth,v=D("content",m),v&&(w=Math.max(o-2*u,0),x=Math.max(p-2*u,0),y=g.getModel("label.normal"),z=g.getModel("label.normal.textStyle"),A=g.getModel().get("name"),B=z.getTextRect(A),C=y.get("show"),!C||B.height>x?A="":B.width>w&&(A=z.get("ellipsis")?z.ellipsis(A,w):""),v.dataIndex=g.dataIndex,v.seriesIndex=this.seriesModel.seriesIndex,v.culling=!0,v.setShape({x:u,y:u,width:w,height:x}),G(v,{fill:g.getVisual("color",!0),text:A,textPosition:y.get("position"),textFill:z.getTextColor(),textAlign:z.get("align"),textBaseline:z.get("baseline"),textFont:z.getFont()}),r.add(v))),r},_doAnimation:function(a,c,d){var e,f,g,h,i;d.get("animation")&&(e=d.get("animationDurationUpdate"),f=d.get("animationEasing"),g=j.createWrap(),h=this.seriesModel.getViewRoot(),i=this._storage.nodeGroup[h.getRawIndex()],i&&i.traverse(function(a){var b,c,d,h,i;!a.invisible&&(b=a.__tmWillDelete)&&(c=0,d=0,h=a.parent,h.__tmWillDelete||(c=h.__tmNodeWidth,d=h.__tmNodeHeight),i="nodeGroup"===b?{position:[c,d],style:{opacity:0}}:{shape:{x:c,y:d,width:0,height:0},style:{opacity:0}},g.add(a,i,e,f))}),n(this._storage,function(a,d){n(a,function(a,h){var j,i=c.lastsForAnimation[d][h];i&&("nodeGroup"===d?(j={position:a.position.slice()},a.position=i.old):(j={shape:b.extend({},a.shape)},a.setShape(i.old),i.fadein?(a.setStyle("opacity",0),j.style={opacity:1}):1!==a.style.opacity&&(j.style={opacity:1})),g.add(a,j,e,f))})},this),this._state="animating",g.done(k(function(){this._state="ready",c.renderFinally()},this)).start())},_resetController:function(a){function c(a){return this._mayClick=!1,a.apply(this,Array.prototype.slice.call(arguments,1))}var b=this._controller;return b||(b=this._controller=new g(a.getZr()),b.enable(),b.on("pan",k(c,this,this._onPan)),b.on("zoom",k(c,this,this._onZoom))),b.rect=new h(0,0,a.getWidth(),a.getHeight()),this.seriesModel.get("roam")?void 0:(b.off("pan").off("zoom"),this._controller=null,void 0)},_onPan:function(a,b){var c,d;if("animating"!==this._state&&(Math.abs(a)>o||Math.abs(b)>o)){if(c=this.seriesModel.getViewRoot(),!c)return;if(d=c.getLayout(),!d)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:d.x+a,y:d.y+b,width:d.width,height:d.height}})}},_onZoom:function(a,b,c){var d,e,f,g,j;if("animating"!==this._state){if(d=this.seriesModel.getViewRoot(),!d)return;if(e=d.getLayout(),!e)return;f=new h(e.x,e.y,e.width,e.height),g=this.seriesModel.layoutInfo,b-=g.x,c-=g.y,j=i.create(),i.translate(j,j,[-b,-c]),i.scale(j,j,[a,a]),i.translate(j,j,[b,c]),f.applyTransform(j),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:f.x,y:f.y,width:f.width,height:f.height}})}},_initEvents:function(a){function b(a){var b=this.findTarget(a.offsetX,a.offsetY);
b&&this._zoomToNode(b)}a.on("mousedown",function(){"ready"===this._state&&(this._mayClick=!0)},this),a.on("mouseup",function(a){this._mayClick&&(this._mayClick=!1,"ready"===this._state&&b.call(this,a))},this)},_renderBreadcrumb:function(a,b,c){function d(a){this._zoomToNode({node:a})}c||(c=this.findTarget(b.getWidth()/2,b.getHeight()/2),c||(c={node:a.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new f(this.group,k(d,this)))).render(a,b,c.node)},remove:function(){this._containerGroup&&this._containerGroup.removeAll(),this._storage=p(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},_zoomToNode:function(a){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:a.node})},findTarget:function(a,b){var c,d=this.seriesModel.getViewRoot();return d.eachNode({attr:"viewChildren",order:"preorder"},function(d){var f,g,e=this._storage.background[d.getRawIndex()];if(e){if(f=e.transformCoordToLocal(a,b),g=e.shape,!(g.x<=f[0]&&f[0]<=g.x+g.width&&g.y<=f[1]&&f[1]<=g.y+g.height))return!1;c={node:d,offsetX:f[0],offsetY:f[1]}}},this),c}})}),b("echarts/chart/treemap/treemapAction",["require","../../echarts"],function(a){var b=a("../../echarts"),c=function(){};b.registerAction({type:"treemapZoomToNode",update:"updateView"},c),b.registerAction({type:"treemapRender",update:"updateView"},c),b.registerAction({type:"treemapMove",update:"updateView"},c)}),b("echarts/visual/VisualMapping",["require","zrender/core/util","zrender/tool/color","../util/number"],function(a){function j(a){var c=a.pieceList;a.hasSpecialVisual=!1,b.each(c,function(b,c){b.originIndex=c,b.visual&&(a.hasSpecialVisual=!0)})}function k(a){var h,i,j,c=a.categories,d=a.visual,f=b.isArray(d);if(!c){if(f)return;throw new Error}for(h=a.categoryMap={},e(c,function(a,b){h[a]=b}),f||(i=[],b.isObject(d)?e(d,function(a,b){var c=h[b];i[null!=c?c:g]=a}):i[g]=d,d=a.visual=i),j=c.length-1;j>=0;j--)null==d[j]&&(delete h[c[j]],c.pop())}function l(a){return{applyVisual:function(c,d,e){var h,i,f=d("color"),g=b.isArray(c);if(c=g?[this.mapValueToVisual(c[0]),this.mapValueToVisual(c[1])]:this.mapValueToVisual(c),b.isArray(f))for(h=0,i=f.length;i>h;h++)f[h].color=a(f[h].color,g?c[h]:c);else e("color",a(f,c))},mapValueToVisual:function(a){var b=this._normalizeData(a),c=this._getSpecifiedVisual(a),e=this.option.visual;return null==c&&(c=p(this)?o(this,e,b):d(b,[0,1],e,!0)),c}}}function m(a,b){return a[Math.round(d(b,[0,1],[0,a.length-1],!0))]}function n(a,b,c){c("color",this.mapValueToVisual(a))}function o(a,b,c){return b[a.option.loop&&c!==g?c%b.length:c]}function p(a){return"category"===a.option.mappingMethod}var i,q,r,b=a("zrender/core/util"),c=a("zrender/tool/color"),d=a("../util/number").linearMap,e=b.each,f=b.isObject,g=-1,h=function(a){var e,c=a.mappingMethod,d=a.type;this.type=d,this.mappingMethod=c,e=this.option=b.clone(a),this._normalizeData=q[c],this._getSpecifiedVisual=b.bind(r[c],this,d),b.extend(this,i[d]),"piecewise"===c&&j(e),"category"===c&&k(e)};return h.prototype={constructor:h,applyVisual:null,isValueActive:null,mapValueToVisual:null,getNormalizer:function(){return b.bind(this._normalizeData,this)}},i=h.visualHandlers={color:{applyVisual:n,getColorMapper:function(){var a=p(this)?this.option.visual:b.map(this.option.visual,c.parse);return b.bind(p(this)?function(b,c){return!c&&(b=this._normalizeData(b)),o(this,a,b)}:function(d,e,f){var g=!!f;return!e&&(d=this._normalizeData(d)),f=c.fastMapToColor(d,a,f),g?f:b.stringify(f,"rgba")},this)},mapValueToVisual:function(a){var e,f,d=this.option.visual;return b.isArray(a)?(a=[this._normalizeData(a[0]),this._normalizeData(a[1])],c.mapIntervalToColor(a,d)):(e=this._normalizeData(a),f=this._getSpecifiedVisual(a),null==f&&(f=p(this)?o(this,d,e):c.mapToColor(e,d)),f)}},colorHue:l(function(a,b){return c.modifyHSL(a,b)}),colorSaturation:l(function(a,b){return c.modifyHSL(a,null,b)}),colorLightness:l(function(a,b){return c.modifyHSL(a,null,null,b)}),colorAlpha:l(function(a,b){return c.modifyAlpha(a,b)}),symbol:{applyVisual:function(a,c,d){var g,e=this.mapValueToVisual(a);if(b.isString(e))d("symbol",e);else if(f(e))for(g in e)e.hasOwnProperty(g)&&d(g,e[g])},mapValueToVisual:function(a){var b=this._normalizeData(a),c=this._getSpecifiedVisual(a),d=this.option.visual;return null==c&&(c=p(this)?o(this,d,b):m(d,b)||{}),c}},symbolSize:{applyVisual:function(a,b,c){c("symbolSize",this.mapValueToVisual(a))},mapValueToVisual:function(a){var b=this._normalizeData(a),c=this._getSpecifiedVisual(a),e=this.option.visual;return null==c&&(c=p(this)?o(this,e,b):d(b,[0,1],e,!0)),c}}},q={linear:function(a){return d(a,this.option.dataExtent,[0,1],!0)},piecewise:function(a){var b=this.option.pieceList,c=h.findPieceIndex(a,b);return null!=c?d(c,[0,b.length-1],[0,1],!0):void 0},category:function(a){var b=this.option.categories?this.option.categoryMap[a]:a;return null==b?g:b}},r={linear:b.noop,piecewise:function(a,b){var e,f,c=this.option,d=c.pieceList;return c.hasSpecialVisual&&(e=h.findPieceIndex(b,d),f=d[e],f&&f.visual)?f.visual[a]:void 0},category:b.noop},h.addVisualHandler=function(a,b){i[a]=b},h.isValidType=function(a){return i.hasOwnProperty(a)},h.eachVisual=function(a,c,d){b.isObject(a)?b.each(a,c,d):c.call(d,a)},h.mapVisual=function(a,c,d){var e,f=b.isArray(a)?[]:b.isObject(a)?{}:(e=!0,null);return h.eachVisual(a,function(a,b){var g=c.call(d,a,b);e?f=g:f[b]=g}),f},h.isInVisualCluster=function(a,b){return"color"===b?!(!a||0!==a.indexOf(b)):a===b},h.retrieveVisuals=function(a){var c,b={};return a&&e(i,function(d,e){a.hasOwnProperty(e)&&(b[e]=a[e],c=!0)}),c?b:null},h.prepareVisualTypes=function(a){if(f(a)){var c=[];e(a,function(a,b){c.push(b)}),a=c}else{if(!b.isArray(a))return[];a=a.slice()}return a.sort(function(a,b){return"color"===b&&"color"!==a&&0===a.indexOf("color")?1:-1}),a},h.findPieceIndex=function(a,b){var c,d,e,f;for(c=0,d=b.length;d>c;c++)if(e=b[c],null!=e.value&&e.value===a)return c;for(c=0,d=b.length;d>c;c++)if(e=b[c],f=e.interval)if(f[0]===-1/0){if(a<f[1])return c}else if(1/0===f[1]){if(f[0]<a)return c}else if(e.interval[0]<=a&&a<=e.interval[1])return c},h}),b("echarts/chart/treemap/treemapVisual",["require","../../visual/VisualMapping","zrender/tool/color","zrender/core/util"],function(a){function g(a,b,c,e,k,m){var q,r,s,t,u,v,w,x,o=a.getModel(),p=a.getLayout();p.invisible||(q=a.getModel(f),r=c[a.depth],s=h(q,b,r,e),t=q.get("borderColor"),u=q.get("borderColorSaturation"),null!=u&&(v=i(s,a),t=j(u,v)),a.setVisual("borderColor",t),w=a.viewChildren,w&&w.length?(x=l(a,o,p,q,s,w),d.each(w,function(a,b){if(a.depth>=k.length||a===k[a.depth]){var d=n(o,s,a,b,x,m);g(a,d,c,e,k,m)}})):(v=i(s,a),a.setVisual("color",v)))}function h(a,b,c,e){var f=d.extend({},b);return d.each(["color","colorAlpha","colorSaturation"],function(d){var g=a.get(d,!0);null==g&&c&&(g=c[d]),null==g&&(g=b[d]),null==g&&(g=e.get(d)),null!=g&&(f[d]=g)}),f}function i(a){var d,e,b=k(a,"color");return b?(d=k(a,"colorAlpha"),e=k(a,"colorSaturation"),e&&(b=c.modifyHSL(b,null,null,e)),d&&(b=c.modifyAlpha(b,d)),b):void 0}function j(a,b){return null!=b?c.modifyHSL(b,null,null,a):null}function k(a,b){var c=a[b];return null!=c&&"none"!==c?c:void 0}function l(a,c,d,e,f,g){var h,i,j,k;if(g&&g.length&&(h=m(c,"color")||null!=f.color&&"none"!==f.color&&(m(c,"colorAlpha")||m(c,"colorSaturation"))))return i=c.get("colorMappingBy"),j={type:h.name,dataExtent:d.dataExtent,visual:h.range},"color"!==j.type||"index"!==i&&"id"!==i?j.mappingMethod="linear":(j.mappingMethod="category",j.loop=!0),k=new b(j),k.__drColorMappingBy=i,k}function m(a,b){var c=a.get(b);return e(c)&&c.length?{name:b,range:c}:null}function n(a,b,c,e,f,g){var i,j,k,h=d.extend({},b);return f&&(i=f.type,j="color"===i&&f.__drColorMappingBy,k="index"===j?e:"id"===j?g.mapIdToIndex(c.getId()):c.getValue(a.get("visualDimension")),h[i]=f.mapValueToVisual(k)),h}var b=a("../../visual/VisualMapping"),c=a("zrender/tool/color"),d=a("zrender/core/util"),e=d.isArray,f="itemStyle.normal";return function(a,b){var c={mainType:"series",subType:"treemap",query:b};a.eachComponent(c,function(a){var h,b=a.getData().tree,c=b.root,e=a.getModel(f);c.isRemoved()||(h=d.map(b.levelModels,function(a){return a?a.get(f):null}),g(c,{},h,e,a.getViewRoot().getAncestors(),a))})}}),b("echarts/chart/treemap/treemapLayout",["require","zrender/core/util","../../util/number","../../util/layout","zrender/core/BoundingRect","./helper"],function(a){function k(a,b,c){var d={mainType:"series",subType:"treemap",query:c};a.eachComponent(d,function(a){var w,x,y,d=b.getWidth(),e=b.getHeight(),k=a.get("size")||[],m=g(h(a.get("width"),k[0]),d),n=g(h(a.get("height"),k[1]),e),o=f.getLayoutRect(a.getBoxLayoutParams(),{width:b.getWidth(),height:b.getHeight()}),p=c&&c.type,q=j.retrieveTargetInfo(c,a),r="treemapRender"===p||"treemapMove"===p?c.rootRect:null,v=a.getViewRoot();"treemapMove"!==p&&(w="treemapZoomToNode"===p?s(a,q,m,n):r?[r.width,r.height]:[m,n],x=a.get("sort"),x&&"asc"!==x&&"desc"!==x&&(x="desc"),y={squareRatio:a.get("squareRatio"),sort:x},v.setLayout({x:0,y:0,width:w[0],height:w[1],area:w[0]*w[1]}),l(v,y)),v.setLayout(t(o,r,q),!0),a.setLayoutInfo(o),u(v,new i(-o.x,-o.y,d,e))})}function l(a,e){var f,g,h,i,j,k,n,o,p,s,t,u,v,w,x,y,z,A,B,C,D;if(!a.isRemoved()&&(h=a.getLayout(),f=h.width,g=h.height,i=a.getModel("itemStyle.normal"),j=i.get("borderWidth"),k=i.get("gapWidth")/2,n=j-k,o=a.getModel(),a.setLayout({borderWidth:j},!0),f=b(f-2*n,0),g=b(g-2*n,0),p=f*g,s=m(a,o,p,e),s.length)){for(t={x:n,y:n,width:f,height:g},u=c(f,g),v=1/0,w=[],w.area=0,x=0,y=s.length;y>x;)z=s[x],w.push(z),w.area+=z.getLayout().area,A=q(w,u,e.squareRatio),v>=A?(x++,v=A):(w.area-=w.pop().getLayout().area,r(w,u,t,k,!1),u=c(t.width,t.height),w.length=w.area=0,v=1/0);for(w.length&&r(w,u,t,k,!0),e.hideChildren||(C=o.get("childrenVisibleMin"),null!=C&&C>p&&(B=!0)),x=0,y=s.length;y>x;x++)D=d.extend({hideChildren:B},e),l(s[x],D)}}function m(a,b,c,e){var h,i,j,k,f=a.children||[],g=e.sort;if("asc"!==g&&"desc"!==g&&(g=null),e.hideChildren)return a.viewChildren=[];if(f=d.filter(f,function(a){return!a.isRemoved()}),o(f,g),h=p(b,f,g),0===h.sum)return a.viewChildren=[];if(h.sum=n(b,c,h.sum,g,f),0===h.sum)return a.viewChildren=[];for(i=0,j=f.length;j>i;i++)k=f[i].getValue()/h.sum*c,f[i].setLayout({area:k});return a.viewChildren=f,a.setLayout({dataExtent:h.dataExtent},!0),f}function n(a,b,c,d,e){var f,g,h,i,j;if(!d)return c;for(f=a.get("visibleMin"),g=e.length,h=g,i=g-1;i>=0;i--)j=e["asc"===d?g-i-1:i].getValue(),f>j/c*b&&(h=i,c-=j);return"asc"===d?e.splice(0,g-h):e.splice(h,g-h),c}function o(a,b){return b&&a.sort(function(a,c){return"asc"===b?a.getValue()-c.getValue():c.getValue()-a.getValue()}),a}function p(a,b,c){var f,g,h,i,e=0;for(f=0,g=b.length;g>f;f++)e+=b[f].getValue();return h=a.get("visualDimension"),b&&b.length?"value"===h&&c?(i=[b[b.length-1].getValue(),b[0].getValue()],"asc"===c&&i.reverse()):(i=[1/0,-1/0],d.each(b,function(a){var b=a.getValue(h);b<i[0]&&(i[0]=b),b>i[1]&&(i[1]=b)})):i=[0/0,0/0],{sum:e,dataExtent:i}}function q(a,c,d){var h,g,i,j,k,e=0,f=1/0;for(g=0,i=a.length;i>g;g++)h=a[g].getLayout().area,h&&(f>h&&(f=h),h>e&&(e=h));return j=a.area*a.area,k=c*c*d,j?b(k*e/j,j/(k*f)):1/0}function r(a,d,e,f,g){var n,o,p,q,r,s,t,u,v,h=d===e.width?0:1,i=1-h,j=["x","y"],k=["width","height"],l=e[j[h]],m=d?a.area/d:0;for((g||m>e[k[i]])&&(m=e[k[i]]),n=0,o=a.length;o>n;n++)p=a[n],q={},r=m?p.getLayout().area/m:0,s=q[k[i]]=b(m-2*f,0),t=e[j[h]]+e[k[h]]-l,u=n===o-1||r>t?t:r,v=q[k[h]]=b(u-2*f,0),q[j[i]]=e[j[i]]+c(f,s/2),q[j[h]]=l+c(f,v/2),l+=u,p.setLayout(q,!0);e[j[i]]+=m,e[k[i]]-=m}function s(a,b,c,d){var h,i,j,k,l,m,n,o,p,q,f=(b||{}).node,g=[c,d];if(!f||f===a.getViewRoot())return g;for(i=c*d,j=i*a.get("zoomToNodeRatio");h=f.parentNode;){for(k=0,l=h.children,m=0,n=l.length;n>m;m++)k+=l[m].getValue();if(o=f.getValue(),0===o)return g;j*=k/o,p=h.getModel("itemStyle.normal").get("borderWidth"),isFinite(p)&&(j+=4*p*p+4*p*Math.pow(j,.5)),j>e.MAX_SAFE_INTEGER&&(j=e.MAX_SAFE_INTEGER),f=h}return i>j&&(j=i),q=Math.pow(j/i,.5),[c*q,d*q]}function t(a,b,c){var d,e,f,g,h,i;if(b)return{x:b.x,y:b.y};if(d={x:0,y:0},!c)return d;if(e=c.node,f=e.getLayout(),!f)return d;for(g=[f.width/2,f.height/2],h=e;h;)i=h.getLayout(),g[0]+=i.x,g[1]+=i.y,h=h.parentNode;return{x:a.width/2-g[0],y:a.height/2-g[1]}}function u(a,b){var d,e,f,g,c=a.getLayout();for(a.setLayout({invisible:!b.intersect(c)},!0),d=a.viewChildren||[],e=0,f=d.length;f>e;e++)g=new i(b.x-c.x,b.y-c.y,b.width,b.height),u(d[e],g)}var b=Math.max,c=Math.min,d=a("zrender/core/util"),e=a("../../util/number"),f=a("../../util/layout"),g=e.parsePercent,h=d.retrieve,i=a("zrender/core/BoundingRect"),j=a("./helper");return k}),b("echarts/chart/treemap",["require","../echarts","./treemap/TreemapSeries","./treemap/TreemapView","./treemap/treemapAction","./treemap/treemapVisual","./treemap/treemapLayout"],function(a){var b=a("../echarts");a("./treemap/TreemapSeries"),a("./treemap/TreemapView"),a("./treemap/treemapAction"),b.registerVisualCoding("chart",a("./treemap/treemapVisual")),b.registerLayout(a("./treemap/treemapLayout"))}),b("echarts/data/Graph",["require","zrender/core/util"],function(a){function e(a,b){this.id=null==a?"":a,this.inEdges=[],this.outEdges=[],this.edges=[],this.hostGraph,this.dataIndex=null==b?-1:b}function f(a,b,c){this.node1=a,this.node2=b,this.dataIndex=null==c?-1:c}var g,b=a("zrender/core/util"),c=function(a){this._directed=a||!1,this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this.data,this.edgeData},d=c.prototype;return d.type="graph",d.isDirected=function(){return this._directed},d.addNode=function(a,b){var d,c=this._nodesMap;if(!c[a])return d=new e(a,b),d.hostGraph=this,this.nodes.push(d),c[a]=d,d},d.getNodeByIndex=function(a){var b=this.data.getRawIndex(a);return this.nodes[b]},d.getNodeById=function(a){return this._nodesMap[a]},d.addEdge=function(a,b,c){var h,i,d=this._nodesMap,g=this._edgesMap;return a instanceof e||(a=d[a]),b instanceof e||(b=d[b]),a&&b&&(h=a.id+"-"+b.id,!g[h])?(i=new f(a,b,c),i.hostGraph=this,this._directed&&(a.outEdges.push(i),b.inEdges.push(i)),a.edges.push(i),a!==b&&b.edges.push(i),this.edges.push(i),g[h]=i,i):void 0},d.getEdgeByIndex=function(a){var b=this.edgeData.getRawIndex(a);return this.edges[b]},d.getEdge=function(a,b){a instanceof e&&(a=a.id),b instanceof e&&(b=b.id);var c=this._edgesMap;return this._directed?c[a+"-"+b]:c[a+"-"+b]||c[b+"-"+a]},d.eachNode=function(a,b){var e,c=this.nodes,d=c.length;for(e=0;d>e;e++)c[e].dataIndex>=0&&a.call(b,c[e],e)},d.eachEdge=function(a,b){var e,c=this.edges,d=c.length;for(e=0;d>e;e++)c[e].dataIndex>=0&&c[e].node1.dataIndex>=0&&c[e].node2.dataIndex>=0&&a.call(b,c[e],e)},d.breadthFirstTraverse=function(a,b,c,d){var f,g,h,i,j,k,l;if(!b instanceof e&&(b=this._nodesMap[b]),b){for(f="out"===c?"outEdges":"in"===c?"inEdges":"edges",g=0;g<this.nodes.length;g++)this.nodes[g].__visited=!1;if(!a.call(d,b,null))for(h=[b];h.length;)for(i=h.shift(),j=i[f],g=0;g<j.length;g++)if(k=j[g],l=k.node1===i?k.node2:k.node1,!l.__visited){if(a.call(l,l,i))return;h.push(l),l.__visited=!0}}},d.update=function(){var e,f,a=this.data,b=this.edgeData,c=this.nodes,d=this.edges;for(e=0,f=c.length;f>e;e++)c[e].dataIndex=-1;for(e=0,f=a.count();f>e;e++)c[a.getRawIndex(e)].dataIndex=e;for(b.filterSelf(function(a){var c=d[b.getRawIndex(a)];return c.node1.dataIndex>=0&&c.node2.dataIndex>=0}),e=0,f=d.length;f>e;e++)d[e].dataIndex=-1;for(e=0,f=b.count();f>e;e++)d[b.getRawIndex(e)].dataIndex=e},d.setEdgeData=function(a){this.edgeData=a,this._edgeDataSaved=a.cloneShallow()},d.restoreData=function(){this.edgeData=this._edgeDataSaved.cloneShallow()},d.clone=function(){var e,f,a=new c(this._directed),b=this.nodes,d=this.edges;for(e=0;e<b.length;e++)a.addNode(b[e].id,b[e].dataIndex);for(e=0;e<d.length;e++)f=d[e],a.addEdge(f.node1.id,f.node2.id,f.dataIndex);return a},e.prototype={constructor:e,degree:function(){return this.edges.length},inDegree:function(){return this.inEdges.length},outDegree:function(){return this.outEdges.length},getModel:function(a){var b,c;if(!(this.dataIndex<0))return b=this.hostGraph,c=b.data.getItemModel(this.dataIndex),c.getModel(a)}},f.prototype.getModel=function(a){var b,c;if(!(this.dataIndex<0))return b=this.hostGraph,c=b.data.getItemModel(this.dataIndex),c.getModel(a)},g=function(a,b){return{getValue:function(c){var d=this[a][b];return d.get(d.getDimension(c||"value"),this.dataIndex)},setVisual:function(c,d){this.dataIndex>=0&&this[a][b].setItemVisual(this.dataIndex,c,d)},getVisual:function(c,d){return this[a][b].getItemVisual(this.dataIndex,c,d)},setLayout:function(c,d){this.dataIndex>=0&&this[a][b].setItemLayout(this.dataIndex,c,d)},getLayout:function(){return this[a][b].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[a][b].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[a][b].getRawIndex(this.dataIndex)}}},b.mixin(e,g("hostGraph","data")),b.mixin(f,g("hostGraph","edgeData")),c.Node=e,c.Edge=f,c}),b("echarts/chart/helper/createGraphFromNodeEdge",["require","../../data/List","../../data/Graph","../../data/helper/linkList","../../data/helper/completeDimensions","zrender/core/util"],function(a){var b=a("../../data/List"),c=a("../../data/Graph"),d=a("../../data/helper/linkList"),e=a("../../data/helper/completeDimensions"),f=a("zrender/core/util");return function(a,g,h,i){var k,l,m,n,o,p,q,j=new c(i);for(k=0;k<a.length;k++)j.addNode(f.retrieve(a[k].id,a[k].name,k),k);for(l=[],m=[],k=0;k<g.length;k++)n=g[k],j.addEdge(n.source,n.target,k)&&(m.push(n),l.push(f.retrieve(n.id,n.source+" - "+n.target)));return o=e(["value"],a),p=new b(o,h),q=new b(["value"],h),p.initData(a),q.initData(m,l),j.setEdgeData(q),d.linkToGraph(p,j),j.update(),j}}),b("echarts/chart/graph/GraphSeries",["require","../../data/List","zrender/core/util","../helper/createGraphFromNodeEdge","../../echarts"],function(a){var b=a("../../data/List"),c=a("zrender/core/util"),d=a("../helper/createGraphFromNodeEdge");return a("../../echarts").extendSeriesModel({type:"series.graph",init:function(){this.$superApply("init",arguments),this.legendDataProvider=function(){return this._categoriesData},this._updateCategoriesData()},mergeOption:function(){this.$superApply("mergeOption",arguments),this._updateCategoriesData()},getInitialData:function(a){var f,g,h,c=a.edges||a.links,e=a.data||a.nodes;return e&&c?(f=d(e,c,this,!0),g=f.data,h=this,g.wrapMethod("getItemModel",function(a){var b=h._categoriesModels,c=a.getShallow("category"),d=b[c];return d&&(d.parentModel=a.parentModel,a.parentModel=d),a}),g):void 0},restoreData:function(){this.$superApply("restoreData",arguments),this.getGraph().restoreData()},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},getCategoriesData:function(){return this._categoriesData},_updateCategoriesData:function(){var a=c.map(this.option.categories||[],function(a){return null!=a.value?a:c.extend({value:0},a)}),d=new b(["value"],this);d.initData(a),this._categoriesData=d,this._categoriesModels=d.mapArray(function(a){return d.getItemModel(a,!0)})},setRoamZoom:function(a){var b=this.option.roamDetail;b&&(b.zoom=a)},setRoamPan:function(a,b){var c=this.option.roamDetail;c&&(c.x=a,c.y=b)},defaultOption:{zlevel:0,z:2,color:["#61a0a8","#d14a61","#fd9c35","#675bba","#fec42c","#dd4444","#fd9c35","#cd4870"],coordinateSystem:"view",legendHoverLink:!0,hoverAnimation:!0,layout:null,force:{initLayout:null,repulsion:50,gravity:.1,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,draggable:!1,roam:!1,roamDetail:{x:0,y:0,zoom:1},nodeScaleRatio:.6,label:{normal:{show:!1},emphasis:{show:!0}},itemStyle:{normal:{},emphasis:{}},lineStyle:{normal:{color:"#aaa",width:1,curveness:0,opacity:.5},emphasis:{}}}})}),b("echarts/chart/helper/LinePath",["require","../../util/graphic"],function(a){var b=a("../../util/graphic"),c=b.Line.prototype,d=b.BezierCurve.prototype;return b.extendShape({type:"ec-line",style:{stroke:"#000",fill:null},shape:{x1:0,y1:0,x2:0,y2:0,percent:1,cpx1:null,cpy1:null},buildPath:function(a,b){(null==b.cpx1||null==b.cpy1?c:d).buildPath(a,b)},pointAt:function(a){var b=this.shape;return null==b.cpx1||null==b.cpy1?c.pointAt.call(this,a):d.pointAt.call(this,a)}})}),b("echarts/chart/helper/Line",["require","../../util/symbol","zrender/core/vector","./LinePath","../../util/graphic","zrender/core/util","../../util/number"],function(a){function h(a,c,d){var i,e=c.getItemVisual(d,"color"),g=c.getItemVisual(d,"symbol"),h=c.getItemVisual(d,"symbolSize");if("none"!==g)return f.isArray(h)||(h=[h,h]),i=b.createSymbol(g,-h[0]/2,-h[1]/2,h[0],h[1],e),i.name=a,i}function i(a){var b=new d({name:"line",style:{strokeNoScale:!0}});return j(b.shape,a),b}function j(a,b){var c=b[0],d=b[1],e=b[2];a.x1=c[0],a.y1=c[1],a.x2=d[0],a.y2=d[1],a.percent=1,e&&(a.cpx1=e[0],a.cpy1=e[1])}function k(a){return"symbol"===a.type&&"arrow"===a.shape.symbolType}function l(){var d,e,f,g,h,i,j,l,n,a=this,b=a.childOfName("line");(this.__dirty||b.__dirty)&&(d=a.childOfName("fromSymbol"),e=a.childOfName("toSymbol"),f=a.childOfName("label"),g=b.pointAt(0),h=b.pointAt(b.shape.percent),i=c.sub([],h,g),c.normalize(i,i),d&&(d.attr("position",g),k(e)&&e.attr("rotation",m(g,h))),e&&(e.attr("position",h),k(d)&&d.attr("rotation",m(h,g))),f.attr("position",h),"end"===f.__position?(j=[5*i[0]+h[0],5*i[1]+h[1]],l=i[0]>.8?"left":i[0]<-.8?"right":"center",n=i[1]>.8?"top":i[1]<-.8?"bottom":"middle"):(j=[5*-i[0]+g[0],5*-i[1]+g[1]],l=i[0]>.8?"right":i[0]<-.8?"left":"center",n=i[1]>.8?"bottom":i[1]<-.8?"top":"middle"),f.attr({style:{textBaseline:f.__textBaseline||n,textAlign:f.__textAlign||l},position:j}))}function m(a,b){return-Math.PI/2-Math.atan2(b[1]-a[1],b[0]-a[0])}function n(a,b,c,d){e.Group.call(this),this._createLine(a,b,c,d)}var b=a("../../util/symbol"),c=a("zrender/core/vector"),d=a("./LinePath"),e=a("../../util/graphic"),f=a("zrender/core/util"),g=a("../../util/number"),o=n.prototype;return o.beforeUpdate=l,o._createLine=function(a,b,c,d){var k,l,m,f=a.hostModel,g=a.getItemLayout(d),j=i(g);j.shape.percent=0,e.initProps(j,{shape:{percent:1}},f),this.add(j),k=new e.Text({name:"label"}),this.add(k),b&&(l=h("fromSymbol",b,d),this.add(l),this._fromSymbolType=b.getItemVisual(d,"symbol")),c&&(m=h("toSymbol",c,d),this.add(m),this._toSymbolType=c.getItemVisual(d,"symbol")),this._updateCommonStl(a,b,c,d)},o.updateData=function(a,b,c,d){var l,m,n,o,f=a.hostModel,g=this.childOfName("line"),i=a.getItemLayout(d),k={shape:{}};j(k.shape,i),e.updateProps(g,k,f),b&&(l=b.getItemVisual(d,"symbol"),this._fromSymbolType!==l&&(m=h("fromSymbol",b,d),this.remove(g.childOfName("fromSymbol")),this.add(m)),this._fromSymbolType=l),c&&(n=c.getItemVisual(d,"symbol"),n!==this._toSymbolType&&(o=h("toSymbol",c,d),this.remove(g.childOfName("toSymbol")),this.add(o)),this._toSymbolType=n),this._updateCommonStl(a,b,c,d)},o._updateCommonStl=function(a,b,c,d){var p,h=a.hostModel,i=this.childOfName("line"),j=a.getItemModel(d),k=j.getModel("label.normal"),l=k.getModel("textStyle"),m=j.getModel("label.emphasis"),n=m.getModel("textStyle"),o=g.round(h.getRawValue(d));isNaN(o)&&(o=a.getName(d)),i.setStyle(f.extend({stroke:a.getItemVisual(d,"color")},j.getModel("lineStyle.normal").getLineStyle())),p=this.childOfName("label"),p.setStyle({text:k.get("show")?h.getFormattedLabel(d,"normal")||o:"",textFont:l.getFont(),fill:l.getTextColor()||a.getItemVisual(d,"color")}),p.hoverStyle={text:m.get("show")?h.getFormattedLabel(d,"emphasis")||o:"",textFont:l.getFont(),fill:n.getTextColor()},p.__textAlign=l.get("align"),p.__textBaseline=l.get("baseline"),p.__position=k.get("position"),e.setHoverStyle(this,j.getModel("lineStyle.emphasis").getLineStyle())},o.updateLayout=function(a,b,c,d){var e=a.getItemLayout(d),f=this.childOfName("line");j(f.shape,e),f.dirty(!0),b&&b.getItemGraphicEl(d).attr("position",e[0]),c&&c.getItemGraphicEl(d).attr("position",e[1])},f.inherits(n,e.Group),n}),b("echarts/chart/helper/LineDraw",["require","../../util/graphic","./Line"],function(a){function d(a){this._ctor=a||c,this.group=new b.Group}var b=a("../../util/graphic"),c=a("./Line"),e=d.prototype;return e.updateData=function(a,b,c){var d=this._lineData,e=this.group,f=this._ctor;a.diff(d).add(function(d){var g=new f(a,b,c,d);a.setItemGraphicEl(d,g),e.add(g)}).update(function(f,g){var h=d.getItemGraphicEl(g);h.updateData(a,b,c,f),a.setItemGraphicEl(f,h),e.add(h)}).remove(function(a){e.remove(d.getItemGraphicEl(a))}).execute(),this._lineData=a,this._fromData=b,this._toData=c},e.updateLayout=function(){var a=this._lineData;a.eachItemGraphicEl(function(b,c){b.updateLayout(a,this._fromData,this._toData,c)},this)},e.remove=function(){this.group.removeAll()},d}),b("echarts/chart/graph/GraphView",["require","../helper/SymbolDraw","../helper/LineDraw","../../component/helper/RoamController","../../util/model","../../util/graphic","../../echarts"],function(a){var b=a("../helper/SymbolDraw"),c=a("../helper/LineDraw"),d=a("../../component/helper/RoamController"),e=a("../../util/model"),f=a("../../util/graphic");a("../../echarts").extendChartView({type:"graph",init:function(a,e){var f=new b,g=new c,h=this.group,i=new d(e.getZr(),h);h.add(f.group),h.add(g.group),this._symbolDraw=f,this._lineDraw=g,this._controller=i,this._firstRender=!0},render:function(a,b,c){var g,h,i,j,k,l,m,n,o,p,d=a.coordinateSystem;("geo"===d.type||"view"===d.type)&&(g=a.getData(),this._model=a,h=this._symbolDraw,i=this._lineDraw,h.updateData(g),j=g.graph.edgeData,k=a.option,l=e.createDataFormatModel(a,j,k.edges||k.links),l.formatTooltip=function(a){var b=this.getDataParams(a),c=b.data,d=c.source+" > "+c.target;return b.value&&(d+=":"+b.value),d},i.updateData(j,null,null),j.eachItemGraphicEl(function(a){a.traverse(function(a){a.hostModel=l})}),g.graph.eachEdge(function(a){a.__lineWidth=a.getModel("lineStyle.normal").get("width")}),m=this.group,n={position:d.position,scale:d.scale},this._firstRender?m.attr(n):f.updateProps(m,n,a),this._nodeScaleRatio=a.get("nodeScaleRatio"),this._updateNodeAndLinkScale(),this._updateController(a,d,c),clearTimeout(this._layoutTimeout),o=a.forceLayout,p=a.get("force.layoutAnimation"),o&&this._startForceLayoutIteration(o,p),g.eachItemGraphicEl(function(a,b){var c=g.getItemModel(b).get("draggable");c&&o?a.on("drag",function(){o.warmUp(),!this._layouting&&this._startForceLayoutIteration(o,p),o.setFixed(b),g.setItemLayout(b,a.position)},this).on("dragend",function(){o.setUnfixed(b)},this):a.off("drag"),a.setDraggable(c)},this),this._firstRender=!1)},_startForceLayoutIteration:function(a,b){var c=this;!function d(){a.step(function(a){c.updateLayout(),(c._layouting=!a)&&(b?c._layoutTimeout=setTimeout(d,16):d())})}()},_updateController:function(a,b,c){var d=this._controller;d.rect=b.getViewRect(),d.enable(a.get("roam")),d.off("pan").off("zoom").on("pan",function(b,d){c.dispatchAction({seriesId:a.id,type:"graphRoam",dx:b,dy:d})}).on("zoom",function(b,d,e){c.dispatchAction({seriesId:a.id,type:"graphRoam",zoom:b,originX:d,originY:e})}).on("zoom",this._updateNodeAndLinkScale,this)},_updateNodeAndLinkScale:function(){var a=this._model,b=a.getData(),c=this.group,d=this._nodeScaleRatio,e=c.scale[0],f=(e-1)*d+1,g=[f/e,f/e];b.eachItemGraphicEl(function(a){a.attr("scale",g)})},updateLayout:function(){this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},remove:function(){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()}})}),b("echarts/chart/graph/roamAction",["require","../../echarts","../../action/roamHelper"],function(a){var b=a("../../echarts"),c=a("../../action/roamHelper"),d={type:"graphRoam",event:"graphRoam",update:"none"};b.registerAction(d,function(a,b){b.eachComponent({mainType:"series",query:a},function(b){var d=b.coordinateSystem,e=b.getModel("roamDetail"),f=c.calcPanAndZoom(e,a);b.setRoamPan&&b.setRoamPan(f.x,f.y),b.setRoamZoom&&b.setRoamZoom(f.zoom),d&&d.setPan(f.x,f.y),d&&d.setZoom(f.zoom)})})}),b("echarts/chart/graph/categoryFilter",["require"],function(){return function(a){var b=a.findComponents({mainType:"legend"});b&&b.length&&a.eachSeriesByType("graph",function(a){var c=a.getCategoriesData(),d=a.getGraph(),e=d.data,f=c.mapArray(c.getName);e.filterSelf(function(a){var g,c=e.getItemModel(a),d=c.getShallow("category");if(null!=d)for("number"==typeof d&&(d=f[d]),g=0;g<b.length;g++)if(!b[g].isSelected(d))return!1;return!0})},this)}}),b("echarts/chart/graph/categoryVisual",["require"],function(){return function(a){a.eachSeriesByType("graph",function(a){var b=a.get("color"),c=a.getCategoriesData(),d=a.getData(),e={};c.each(function(a){var d,f,g;e[c.getName(a)]=a,d=c.getItemModel(a),f=c.getRawIndex(a),g=d.get("itemStyle.normal.color")||b[f%b.length],c.setItemVisual(a,"color",g)}),c.count()&&d.each(function(a){var b=d.getItemModel(a),f=b.getShallow("category");null!=f&&("string"==typeof f&&(f=e[f]),d.setItemVisual(a,"color",c.getItemVisual(f,"color")))})})}}),b("echarts/chart/graph/simpleLayoutHelper",["require"],function(){return function(a){var c,b=a.coordinateSystem;b&&"view"!==b.type||(c=a.getGraph(),c.eachNode(function(a){var b=a.getModel();a.setLayout([+b.get("x"),+b.get("y")])}),c.eachEdge(function(a){var e,b=a.getModel().get("lineStyle.normal.curveness")||0,c=a.node1.getLayout(),d=a.node2.getLayout();b>0&&(e=[(c[0]+d[0])/2-(c[1]-d[1])*b,(c[1]+d[1])/2-(d[0]-c[0])*b]),a.setLayout([c,d,e])}))}}),b("echarts/chart/graph/simpleLayout",["require","./simpleLayoutHelper"],function(a){var b=a("./simpleLayoutHelper");return function(a){a.eachSeriesByType("graph",function(a){var c=a.get("layout");c&&"none"!==c||b(a)})}}),b("echarts/chart/graph/circularLayoutHelper",["require"],function(){return function(a){var c,d,e,f,g,h,i,j,k,b=a.coordinateSystem;b&&"view"!==b.type||(c=b.getBoundingRect(),d=a.getData(),e=d.graph,f=0,g=d.getSum("value"),h=2*Math.PI/(g||d.count()),i=c.width/2+c.x,j=c.height/2+c.y,k=Math.min(c.width,c.height)/2,e.eachNode(function(a){var b=a.getValue("value");f+=h*(g?b:2)/2,a.setLayout([k*Math.cos(f)+i,k*Math.sin(f)+j]),f+=h*(g?b:2)/2}),e.eachEdge(function(a){var e,b=a.getModel().get("lineStyle.normal.curveness")||0,c=a.node1.getLayout(),d=a.node2.getLayout();b>0&&(e=[i,j]),a.setLayout([c,d,e])}))}}),b("echarts/chart/graph/circularLayout",["require","./circularLayoutHelper"],function(a){var b=a("./circularLayoutHelper");return function(a){a.eachSeriesByType("graph",function(a){"circular"===a.get("layout")&&b(a)})}}),b("echarts/chart/graph/forceHelper",["require","zrender/core/vector"],function(a){var b=a("zrender/core/vector"),c=b.scaleAndAdd;return function(a,d,e){var k,l,m,f=e.rect,g=f.width,h=f.height,i=[f.x+g/2,f.y+h/2],j=null==e.gravity?.1:e.gravity;for(k=0;k<a.length;k++)l=a[k],l.p||(l.p=b.create(g*(Math.random()-.5)+i[0],h*(Math.random()-.5)+i[1])),l.pp=b.clone(l.p),l.edges=null;return m=.6,{warmUp:function(){m=.5},setFixed:function(b){a[b].fixed=!0},setUnfixed:function(b){a[b].fixed=!1},step:function(e){var h,k,l,n,o,p,q,r,s,t,f=[],g=a.length;for(h=0;h<d.length;h++)k=d[h],l=k.n1,n=k.n2,b.sub(f,n.p,l.p),o=b.len(f)-k.d,p=n.w/(l.w+n.w),b.normalize(f,f),!l.fixed&&c(l.p,l.p,f,p*o*m),!n.fixed&&c(n.p,n.p,f,-(1-p)*o*m);for(h=0;g>h;h++)q=a[h],q.fixed||(b.sub(f,i,q.p),b.scaleAndAdd(q.p,q.p,f,j*m));for(h=0;g>h;h++)for(l=a[h],r=h+1;g>r;r++)n=a[r],b.sub(f,n.p,l.p),o=b.len(f),0===o&&(b.set(f,Math.random()-.5,Math.random()-.5),o=1),s=(l.rep+n.rep)/o/o,!l.fixed&&c(l.pp,l.pp,f,s),!n.fixed&&c(n.pp,n.pp,f,-s);for(t=[],h=0;g>h;h++)q=a[h],q.fixed||(b.sub(t,q.p,q.pp),b.scaleAndAdd(q.p,q.p,t,m),b.copy(q.pp,q.p));m=.992*m,e&&e(a,d,.01>m)}}}}),b("echarts/chart/graph/forceLayout",["require","./forceHelper","../../util/number","./simpleLayoutHelper","./circularLayoutHelper","zrender/core/vector"],function(a){var b=a("./forceHelper"),c=a("../../util/number"),d=a("./simpleLayoutHelper"),e=a("./circularLayoutHelper"),f=a("zrender/core/vector");return function(a){a.eachSeriesByType("graph",function(a){var g,h,i,j,k,l,m,n,o,p,q,r,s,t,u;"force"===a.get("layout")?(g=a.preservedPoints||{},h=a.getGraph(),i=h.data,j=h.edgeData,k=a.getModel("force"),l=k.get("initLayout"),a.preservedPoints?i.each(function(a){var b=i.getId(a);
i.setItemLayout(a,g[b]||[0/0,0/0])}):l&&"none"!==l?"circular"===l&&e(a):d(a),m=i.getDataExtent("value"),n=k.get("repulsion"),o=k.get("edgeLength"),p=i.mapArray("value",function(a,b){var d=i.getItemLayout(b),e=c.linearMap(a,m,[0,n])||n/2;return{w:e,rep:e,p:!d||isNaN(d[0])||isNaN(d[1])?null:d}}),q=j.mapArray("value",function(a,b){var c=h.getEdgeByIndex(b);return{n1:p[c.node1.dataIndex],n2:p[c.node2.dataIndex],d:o,curveness:c.getModel().get("lineStyle.normal.curveness")||0}}),r=a.coordinateSystem,s=r.getBoundingRect(),t=b(p,q,{rect:s,gravity:k.get("gravity")}),u=t.step,t.step=function(a){for(var b=0,c=p.length;c>b;b++)p[b].fixed&&f.copy(p[b].p,h.getNodeByIndex(b).getLayout());u(function(b,c,d){var e,f,j,k,l,m;for(e=0,f=b.length;f>e;e++)b[e].fixed||h.getNodeByIndex(e).setLayout(b[e].p),g[i.getId(e)]=b[e].p;for(e=0,f=c.length;f>e;e++)j=c[e],k=j.n1.p,l=j.n2.p,m=[k,l],j.curveness>0&&m.push([(k[0]+l[0])/2-(k[1]-l[1])*j.curveness,(k[1]+l[1])/2-(l[0]-k[0])*j.curveness]),h.getEdgeByIndex(e).setLayout(m);a&&a(d)})},a.forceLayout=t,a.preservedPoints=g,t.step()):a.forceLayout=null})}}),b("echarts/chart/graph/createView",["require","../../coord/View","../../util/layout","zrender/core/bbox"],function(a){function e(a,b,d){var e=a.getBoxLayoutParams();return e.aspect=d,c.getLayoutRect(e,{width:b.getWidth(),height:b.getHeight()})}var b=a("../../coord/View"),c=a("../../util/layout"),d=a("zrender/core/bbox");return function(a,c){a.eachSeriesByType("graph",function(a){var g,h,i,j,k,l,m,n,o,p,q,f=a.get("coordinateSystem");f&&"view"!==f||(g=new b,h=a.getData(),i=h.mapArray(function(a){var b=h.getItemModel(a);return[+b.get("x"),+b.get("y")]}),j=[],k=[],d.fromPoints(i,j,k),l=e(a,c,(k[0]-j[0])/(k[1]-j[1])||1),(isNaN(j[0])||isNaN(j[1]))&&(j=[l.x,l.y],k=[l.x+l.width,l.y+l.height]),m=k[0]-j[0],n=k[1]-j[1],o=l.width,p=l.height,g=a.coordinateSystem=new b,g.setBoundingRect(j[0],j[1],m,n),g.setViewRect(l.x,l.y,o,p),q=a.getModel("roamDetail"),g.setPan(q.get("x")||0,q.get("y")||0),g.setZoom(q.get("zoom")||1))})}}),b("echarts/chart/graph",["require","../echarts","zrender/core/util","./graph/GraphSeries","./graph/GraphView","./graph/roamAction","./graph/categoryFilter","../visual/symbol","./graph/categoryVisual","./graph/simpleLayout","./graph/circularLayout","./graph/forceLayout","./graph/createView"],function(a){var b=a("../echarts"),c=a("zrender/core/util");a("./graph/GraphSeries"),a("./graph/GraphView"),a("./graph/roamAction"),b.registerProcessor("filter",a("./graph/categoryFilter")),b.registerVisualCoding("chart",c.curry(a("../visual/symbol"),"graph","circle",null)),b.registerVisualCoding("chart",a("./graph/categoryVisual")),b.registerLayout(a("./graph/simpleLayout")),b.registerLayout(a("./graph/circularLayout")),b.registerLayout(a("./graph/forceLayout")),b.registerCoordinateSystem("graphView",{create:a("./graph/createView")})}),b("echarts/chart/gauge/GaugeSeries",["require","../../data/List","../../model/Series","zrender/core/util"],function(a){var b=a("../../data/List"),c=a("../../model/Series"),d=a("zrender/core/util"),e=c.extend({type:"series.gauge",getInitialData:function(a){var e=new b(["value"],this),f=a.data||[];return d.isArray(f)||(f=[f]),e.initData(f),e},defaultOption:{zlevel:0,z:2,center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,lineStyle:{color:[[.2,"#91c7ae"],[.8,"#63869e"],[1,"#c23531"]],width:30}},splitLine:{show:!0,length:30,lineStyle:{color:"#eee",width:2,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:8,lineStyle:{color:"#eee",width:1,type:"solid"}},axisLabel:{show:!0,textStyle:{color:"auto"}},pointer:{show:!0,length:"80%",width:8},itemStyle:{normal:{color:"auto"}},title:{show:!0,offsetCenter:[0,"-40%"],textStyle:{color:"#333",fontSize:15}},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:40,offsetCenter:[0,"40%"],textStyle:{color:"auto",fontSize:30}}}});return e}),b("echarts/chart/gauge/PointerPath",["require","zrender/graphic/Path"],function(a){return a("zrender/graphic/Path").extend({type:"echartsGaugePointer",shape:{angle:0,width:10,r:10,x:0,y:0},buildPath:function(a,b){var c=Math.cos,d=Math.sin,e=b.r,f=b.width,g=b.angle,h=b.x-c(g)*f*(f>=e/3?1:2),i=b.y-d(g)*f*(f>=e/3?1:2);g=b.angle-Math.PI/2,a.moveTo(h,i),a.lineTo(b.x+c(g)*f,b.y+d(g)*f),a.lineTo(b.x+c(b.angle)*e,b.y+d(b.angle)*e),a.lineTo(b.x-c(g)*f,b.y-d(g)*f),a.lineTo(h,i)}})}),b("echarts/chart/gauge/GaugeView",["require","./PointerPath","../../util/graphic","../../util/number","../../view/Chart"],function(a){function f(a,b){var c=a.get("center"),d=b.getWidth(),f=b.getHeight(),g=Math.min(d,f),h=e(c[0],b.getWidth()),i=e(c[1],b.getHeight()),j=e(a.get("radius"),g/2);return{cx:h,cy:i,r:j}}function g(a,b){return b&&("string"==typeof b?a=b.replace("{value}",a):"function"==typeof b&&(a=b(a))),a}var b=a("./PointerPath"),c=a("../../util/graphic"),d=a("../../util/number"),e=d.parsePercent,h=2*Math.PI,i=a("../../view/Chart").extend({type:"gauge",render:function(a,b,c){var d,e;this.group.removeAll(),d=a.get("axisLine.lineStyle.color"),e=f(a,c),this._renderMain(a,b,c,d,e)},_renderMain:function(a,b,d,e,f){var q,r,s,t,g=this.group,i=a.getModel("axisLine"),j=i.getModel("lineStyle"),k=a.get("clockwise"),l=-a.get("startAngle")/180*Math.PI,m=-a.get("endAngle")/180*Math.PI,n=(m-l)%h,o=l,p=j.get("width");for(q=0;q<e.length;q++)m=l+n*e[q][0],r=new c.Sector({shape:{startAngle:o,endAngle:m,cx:f.cx,cy:f.cy,clockwise:k,r0:f.r-p,r:f.r},silent:!0}),r.setStyle({fill:e[q][1]}),r.setStyle(j.getLineStyle(["color","borderWidth","borderColor"])),g.add(r),o=m;s=function(a){if(0>=a)return e[0][1];for(var b=0;b<e.length;b++)if(e[b][0]>=a&&(0===b?0:e[b-1][0])<a)return e[b][1];return e[b-1][1]},k||(t=l,l=m,m=t),this._renderTicks(a,b,d,s,f,l,m,k),this._renderPointer(a,b,d,s,f,l,m,k),this._renderTitle(a,b,d,s,f),this._renderDetail(a,b,d,s,f)},_renderTicks:function(a,b,e,f,h,i,j){var E,F,G,H,I,J,K,L,l=this.group,m=h.cx,n=h.cy,o=h.r,p=a.get("min"),q=a.get("max"),r=a.getModel("splitLine"),s=a.getModel("axisTick"),t=a.getModel("axisLabel"),u=a.get("splitNumber"),v=s.get("splitNumber"),w=r.get("length"),x=s.get("length"),y=i,z=(j-i)/u,A=z/v,B=r.getModel("lineStyle").getLineStyle(),C=s.getModel("lineStyle").getLineStyle(),D=t.getModel("textStyle");for(E=0;u>=E;E++)if(F=Math.cos(y),G=Math.sin(y),r.get("show")&&(H=new c.Line({shape:{x1:F*o+m,y1:G*o+n,x2:F*(o-w)+m,y2:G*(o-w)+n},style:B,silent:!0}),"auto"===B.stroke&&H.setStyle({stroke:f(E/u)}),l.add(H)),t.get("show")&&(I=g(d.round(E/u*(q-p)+p),t.get("formatter")),J=new c.Text({style:{text:I,x:F*(o-w-5)+m,y:G*(o-w-5)+n,fill:D.getTextColor(),textFont:D.getFont(),textBaseline:-.4>G?"top":G>.4?"bottom":"middle",textAlign:-.4>F?"left":F>.4?"right":"center"},silent:!0}),"auto"===J.style.fill&&J.setStyle({fill:f(E/u)}),l.add(J)),s.get("show")&&E!==u){for(K=0;v>=K;K++)F=Math.cos(y),G=Math.sin(y),L=new c.Line({shape:{x1:F*o+m,y1:G*o+n,x2:F*(o-x)+m,y2:G*(o-x)+n},silent:!0,style:C}),"auto"===C.stroke&&L.setStyle({stroke:f((E+K/v)/u)}),l.add(L),y+=A;y-=A}else y+=z},_renderPointer:function(a,f,g,h,i,j,k,l){var p,q,r,m=d.linearMap,n=[+a.get("min"),+a.get("max")],o=[j,k];l||(o=o.reverse()),p=a.getData(),q=this._data,r=this.group,p.diff(q).add(function(d){var e=new b({shape:{angle:j}});c.updateProps(e,{shape:{angle:m(p.get("value",d),n,o)}},a),r.add(e),p.setItemGraphicEl(d,e)}).update(function(b,d){var e=q.getItemGraphicEl(d);c.updateProps(e,{shape:{angle:m(p.get("value",b),n,o)}},a),r.add(e),p.setItemGraphicEl(b,e)}).remove(function(a){var b=q.getItemGraphicEl(a);r.remove(b)}).execute(),p.eachItemGraphicEl(function(a,b){var d=p.getItemModel(b),f=d.getModel("pointer");a.attr({shape:{x:i.cx,y:i.cy,width:f.get("width"),r:e(f.get("length"),i.r)},style:d.getModel("itemStyle.normal").getItemStyle()}),"auto"===a.style.fill&&a.setStyle("fill",h((p.get("value",b)-n[0])/(n[1]-n[0]))),c.setHoverStyle(a,d.getModel("itemStyle.emphasis").getItemStyle())}),this._data=p},_renderTitle:function(a,b,d,f,g){var i,j,k,l,m,h=a.getModel("title");h.get("show")&&(i=h.getModel("textStyle"),j=h.get("offsetCenter"),k=g.cx+e(j[0],g.r),l=g.cy+e(j[1],g.r),m=new c.Text({style:{x:k,y:l,text:a.getData().getName(0),fill:i.getTextColor(),textFont:i.getFont(),textAlign:"center",textBaseline:"middle"}}),this.group.add(m))},_renderDetail:function(a,b,d,f,h){var l,m,n,o,p,q,r,s,i=a.getModel("detail"),j=a.get("min"),k=a.get("max");i.get("show")&&(l=i.getModel("textStyle"),m=i.get("offsetCenter"),n=h.cx+e(m[0],h.r),o=h.cy+e(m[1],h.r),p=e(i.get("width"),h.r),q=e(i.get("height"),h.r),r=a.getData().get("value",0),s=new c.Rect({shape:{x:n-p/2,y:o-q/2,width:p,height:q},style:{text:g(r,i.get("formatter")),fill:i.get("backgroundColor"),textFill:l.getTextColor(),textFont:l.getFont()}}),"auto"===s.style.textFill&&s.setStyle("textFill",f((r-j)/(k-j))),s.setStyle(i.getItemStyle(["color"])),this.group.add(s))}});return i}),b("echarts/chart/gauge",["require","./gauge/GaugeSeries","./gauge/GaugeView"],function(a){a("./gauge/GaugeSeries"),a("./gauge/GaugeView")}),b("echarts/chart/funnel/FunnelSeries",["require","../../data/List","../../util/model","../../data/helper/completeDimensions","../../echarts"],function(a){var b=a("../../data/List"),c=a("../../util/model"),d=a("../../data/helper/completeDimensions");a("../../echarts").extendSeriesModel({type:"series.funnel",init:function(a){this.$superApply("init",arguments),this.legendDataProvider=function(){return this._dataBeforeProcessed},this._defaultLabelLine(a)},getInitialData:function(a){var e=d(["value"],a.data),f=new b(e,this);return f.initData(a.data),f},_defaultLabelLine:function(a){var b,d;c.defaultEmphasis(a.labelLine,["show"]),b=a.labelLine.normal,d=a.labelLine.emphasis,b.show=b.show&&a.label.normal.show,d.show=d.show&&a.label.emphasis.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",gap:0,funnelAlign:"center",label:{normal:{show:!0,position:"outer"},emphasis:{show:!0}},labelLine:{normal:{show:!0,length:20,lineStyle:{width:1,type:"solid"}},emphasis:{}},itemStyle:{normal:{borderColor:"#fff",borderWidth:1},emphasis:{}}}})}),b("echarts/chart/funnel/FunnelView",["require","../../util/graphic","zrender/core/util","../../view/Chart"],function(a){function d(a,c){function g(){e.ignore=e.hoverIgnore,f.ignore=f.hoverIgnore}function h(){e.ignore=e.normalIgnore,f.ignore=f.normalIgnore}var d,e,f;b.Group.call(this),d=new b.Polygon,e=new b.Polyline,f=new b.Text,this.add(d),this.add(e),this.add(f),this.updateData(a,c,!0),this.on("emphasis",g).on("normal",h).on("mouseover",g).on("mouseout",h)}function f(a,b,c,d){var e=d.getModel("textStyle"),f=d.get("position"),g="inside"===f||"inner"===f||"center"===f;return{fill:e.getTextColor()||(g?"#fff":a.getItemVisual(b,"color")),textFont:e.getFont(),text:a.hostModel.getFormattedLabel(b,c)||a.getName(b)}}var h,b=a("../../util/graphic"),c=a("zrender/core/util"),e=d.prototype,g=["itemStyle","normal","opacity"];return e.updateData=function(a,d,e){var l,m,f=this.childAt(0),h=a.hostModel,i=a.getItemModel(d),j=a.getItemLayout(d),k=a.getItemModel(d).get(g);k=null==k?1:k,e?(f.setShape({points:j.points}),f.setStyle({opacity:0}),b.updateProps(f,{style:{opacity:k}},h)):b.initProps(f,{shape:{points:j.points}},h),l=i.getModel("itemStyle"),m=a.getItemVisual(d,"color"),f.setStyle(c.defaults({fill:m},l.getModel("normal").getItemStyle())),f.hoverStyle=l.getModel("emphasis").getItemStyle(),this._updateLabel(a,d),b.setHoverStyle(this)},e._updateLabel=function(a,c){var l,m,n,o,d=this.childAt(1),e=this.childAt(2),g=a.hostModel,h=a.getItemModel(c),i=a.getItemLayout(c),j=i.label,k=a.getItemVisual(c,"color");b.updateProps(d,{shape:{points:j.linePoints||j.linePoints}},g),b.updateProps(e,{style:{x:j.x,y:j.y}},g),e.attr({style:{textAlign:j.textAlign,textBaseline:j.textBaseline,textFont:j.font},rotation:j.rotation,origin:[j.x,j.y],z2:10}),l=h.getModel("label.normal"),m=h.getModel("label.emphasis"),n=h.getModel("labelLine.normal"),o=h.getModel("labelLine.emphasis"),e.setStyle(f(a,c,"normal",l)),e.ignore=e.normalIgnore=!l.get("show"),e.hoverIgnore=!m.get("show"),d.ignore=d.normalIgnore=!n.get("show"),d.hoverIgnore=!o.get("show"),d.setStyle({stroke:k}),d.setStyle(n.getModel("lineStyle").getLineStyle()),e.hoverStyle=f(a,c,"emphasis",m),d.hoverStyle=o.getModel("lineStyle").getLineStyle()},c.inherits(d,b.Group),h=a("../../view/Chart").extend({type:"funnel",render:function(a){var e=a.getData(),f=this._data,g=this.group;e.diff(f).add(function(a){var b=new d(e,a);e.setItemGraphicEl(a,b),g.add(b)}).update(function(a,b){var c=f.getItemGraphicEl(b);c.updateData(e,a),g.add(c),e.setItemGraphicEl(a,c)}).remove(function(a){var b=f.getItemGraphicEl(a);g.remove(b)}).execute(),this._data=e},remove:function(){this.group.removeAll(),this._data=null}})}),b("echarts/chart/funnel/funnelLayout",["require","../../util/layout","../../util/number"],function(a){function e(a,c){return b.getLayoutRect(a.getBoxLayoutParams(),{width:c.getWidth(),height:c.getHeight()})}function f(a,b){var f,g,c=a.mapArray("value",function(a){return a}),d=[],e="ascending"===b;for(f=0,g=a.count();g>f;f++)d[f]=f;return d.sort(function(a,b){return e?c[a]-c[b]:c[b]-c[a]}),d}function g(a){a.each(function(b){var j,k,l,m,n,o,p,q,r,c=a.getItemModel(b),d=c.getModel("label.normal"),e=d.get("position"),f=c.getModel("labelLine.normal"),g=a.getItemLayout(b),h=g.points,i="inner"===e||"inside"===e||"center"===e;i?(k=(h[0][0]+h[1][0]+h[2][0]+h[3][0])/4,l=(h[0][1]+h[1][1]+h[2][1]+h[3][1])/4,j="center",m=[[k,l],[k,l]]):(q=f.get("length"),"left"===e?(n=(h[3][0]+h[0][0])/2,o=(h[3][1]+h[0][1])/2,p=n-q,k=p-5,j="right"):(n=(h[1][0]+h[2][0])/2,o=(h[1][1]+h[2][1])/2,p=n+q,k=p+5,j="left"),r=o,m=[[n,o],[p,r]],l=r),g.label={linePoints:m,x:k,y:l,textBaseline:"middle",textAlign:j,inside:i}})}var b=a("../../util/layout"),c=a("../../util/number"),d=c.parsePercent;return function(a,b){a.eachSeriesByType("funnel",function(a){var p,q,r,s,t,u,v,w,x,y,h=a.getData(),i=a.get("sort"),j=e(a,b),k=f(h,i),l=[d(a.get("minSize"),j.width),d(a.get("maxSize"),j.width)],m=h.getDataExtent("value"),n=a.get("min"),o=a.get("max");for(null==n&&(n=Math.min(m[0],0)),null==o&&(o=m[1]),p=a.get("funnelAlign"),q=a.get("gap"),r=(j.height-q*(h.count()-1))/h.count(),s=j.y,t=function(a,b){var f,d=h.get("value",a)||0,e=c.linearMap(d,[n,o],l,!0);switch(p){case"left":f=j.x;break;case"center":f=j.x+(j.width-e)/2;break;case"right":f=j.x+j.width-e}return[[f,b],[f+e,b]]},"ascending"===i&&(r=-r,q=-q,s+=j.height,k=k.reverse()),u=0;u<k.length;u++)v=k[u],w=k[u+1],x=t(v,s),y=t(w,s+r),s+=r+q,h.setItemLayout(v,{points:x.concat(y.slice().reverse())});g(h)})}}),b("echarts/chart/funnel",["require","zrender/core/util","../echarts","./funnel/FunnelSeries","./funnel/FunnelView","../visual/dataColor","./funnel/funnelLayout","../processor/dataFilter"],function(a){var b=a("zrender/core/util"),c=a("../echarts");a("./funnel/FunnelSeries"),a("./funnel/FunnelView"),c.registerVisualCoding("chart",b.curry(a("../visual/dataColor"),"funnel")),c.registerLayout(a("./funnel/funnelLayout")),c.registerProcessor("filter",b.curry(a("../processor/dataFilter"),"funnel"))}),b("echarts/coord/parallel/ParallelAxis",["require","zrender/core/util","../Axis"],function(a){var b=a("zrender/core/util"),c=a("../Axis"),d=function(a,b,d,e,f){c.call(this,a,b,d),this.type=e||"value",this.axisIndex=f};return d.prototype={constructor:d,model:null},b.inherits(d,c),d}),b("echarts/coord/parallel/Parallel",["require","../../util/layout","../../coord/axisHelper","zrender/core/util","./ParallelAxis","zrender/core/matrix","zrender/core/vector"],function(a){function j(a,b,c){this._axesMap={},this._axesLayout={},this.dimensions=a.dimensions,this._rect,this._init(a,b,c)}var b=a("../../util/layout"),c=a("../../coord/axisHelper"),d=a("zrender/core/util"),e=a("./ParallelAxis"),f=a("zrender/core/matrix"),g=a("zrender/core/vector"),h=d.each,i=Math.PI;return j.prototype={type:"parallel",constructor:j,_init:function(a,b){var f=a.dimensions,g=a.parallelAxisIndex;h(f,function(a,d){var f=g[d],h=b.getComponent("parallelAxis",f),i=this._axesMap[a]=new e(a,c.createScaleByModel(h),[0,0],h.get("type"),f),j="category"===i.type;i.onBand=j&&h.get("boundaryGap"),i.inverse=h.get("inverse"),h.axis=i,i.model=h},this),this._updateAxesFromSeries(a,b)},_updateAxesFromSeries:function(a,b){b.eachSeries(function(c){if(a.contains(c,b)){var d=c.getData();h(this.dimensions,function(a){this._axesMap[a].scale.unionExtent(d.getDataExtent(a))},this)}},this)},resize:function(a,c){this._rect=b.getLayoutRect(a.getBoxLayoutParams(),{width:c.getWidth(),height:c.getHeight()}),this._layoutAxes(a)},getRect:function(){return this._rect},_layoutAxes:function(a){var b=this._rect,d=a.get("layout"),e=this._axesMap,g=this.dimensions,j=[b.width,b.height],k="horizontal"===d?0:1,l=j[k],m=j[1-k],n=[0,m];h(e,function(a){var b=a.inverse?1:0;a.setExtent(n[b],n[1-b]),c.niceScaleExtent(a,a.model)}),h(g,function(a,c){var e=l*c/(g.length-1),h={horizontal:{x:e,y:m},vertical:{x:0,y:e}},j={horizontal:i/2,vertical:0},k=[h[d].x+b.x,h[d].y+b.y],n=j[d],o=f.create();f.rotate(o,o,n),f.translate(o,o,k),this._axesLayout[a]={position:k,rotation:n,transform:o,tickDirection:1,labelDirection:1}},this)},getAxis:function(a){return this._axesMap[a]},dataToPoint:function(a,b){return this.axisCoordToPoint(this._axesMap[b].dataToCoord(a),b)},eachActiveState:function(a,b,c){var g,h,i,j,k,l,m,n,d=this.dimensions,e=this._axesMap,f=!1;for(g=0,h=d.length;h>g;g++)"normal"!==e[d[g]].model.getActiveState()&&(f=!0);for(i=0,j=a.count();j>i;i++){if(k=a.getValues(d,i),f){for(l="active",g=0,h=d.length;h>g;g++)if(m=d[g],n=e[m].model.getActiveState(k[g],g),"inactive"===n){l="inactive";break}}else l="normal";b.call(c,l,i)}},axisCoordToPoint:function(a,b){var c=this._axesLayout[b],d=[a,0];return g.applyTransform(d,d,c.transform),d},getAxisLayout:function(a){return d.clone(this._axesLayout[a])}},j}),b("echarts/coord/parallel/parallelCreator",["require","./Parallel","../../CoordinateSystem"],function(a){function c(a,c){var d=[];return a.eachComponent("parallel",function(e,f){var g=new b(e,a,c);g.name="parallel_"+f,g.resize(e,c),e.coordinateSystem=g,g.model=e,d.push(g)}),a.eachSeries(function(a){if("parallel"===a.get("coordinateSystem")){var b=a.get("parallelIndex");a.coordinateSystem=d[b]}}),d}var b=a("./Parallel");a("../../CoordinateSystem").register("parallel",{create:c})}),b("echarts/coord/parallel/AxisModel",["require","../../model/Component","zrender/core/util","../../model/mixin/makeStyleMapper","../axisModelCreator","../../util/number","../axisModelCommonMixin"],function(a){function i(a,b){return b.type||(b.data?"category":"value")}var b=a("../../model/Component"),c=a("zrender/core/util"),d=a("../../model/mixin/makeStyleMapper"),e=a("../axisModelCreator"),f=a("../../util/number"),g=b.extend({type:"baseParallelAxis",axis:null,activeIntervals:[],getAreaSelectStyle:function(){return d([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]]).call(this.getModel("areaSelectStyle"))},setActiveIntervals:function(a){var d,b=this.activeIntervals=c.clone(a);if(b)for(d=b.length-1;d>=0;d--)f.asc(b[d])},getActiveState:function(a){var c,d,b=this.activeIntervals;if(!b.length)return"normal";if(null==a)return"inactive";for(c=0,d=b.length;d>c;c++)if(b[c][0]<=a&&a<=b[c][1])return"active";return"inactive"}}),h={type:"value",dim:null,parallelIndex:null,areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},z:10};return c.merge(g.prototype,a("../axisModelCommonMixin")),e("parallel",g,i,h),g}),b("echarts/coord/parallel/ParallelModel",["require","zrender/core/util","../../model/Component","./AxisModel"],function(a){var b=a("zrender/core/util"),c=a("../../model/Component");a("./AxisModel"),c.extend({type:"parallel",dependencies:["parallelAxis"],coordinateSystem:null,dimensions:null,parallelAxisIndex:null,defaultOption:{zlevel:0,z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",parallelAxisDefault:null},init:function(){c.prototype.init.apply(this,arguments),this.mergeOption({})},mergeOption:function(a){var c=this.option;a&&b.merge(c,a),this._initDimensions()},contains:function(a,b){var c=a.get("parallelIndex");return null!=c&&b.getComponent("parallel",c)===this},_initDimensions:function(){var a=this.dimensions=[],c=this.parallelAxisIndex=[],d=b.filter(this.dependentModels.parallelAxis,function(a){return a.get("parallelIndex")===this.componentIndex});b.each(d,function(b){a.push("dim"+b.get("dim")),c.push(b.componentIndex)})}})}),b("echarts/component/axis/parallelAxisAction",["require","../../echarts"],function(a){var b=a("../../echarts"),c={type:"axisAreaSelect",event:"axisAreaSelected",update:"updateVisual"};b.registerAction(c,function(a,b){b.eachComponent({mainType:"parallelAxis",query:a},function(b){b.axis.model.setActiveIntervals(a.intervals)})})}),b("echarts/component/helper/SelectController",["require","zrender/mixin/Eventful","zrender/core/util","../../util/graphic"],function(a){function l(a,g,h){b.call(this),this.type=a,this.zr=g,this.opt=c.clone(h),this.group=new d.Group,this._containerRect=null,this._track=[],this._dragging,this._cover,this._disabled=!0,this._handlers={mousedown:e(o,this),mousemove:e(p,this),mouseup:e(q,this)},f(k,function(a){this.zr.on(a,this._handlers[a])},this)}function m(a,b){var c=this.group.transformCoordToLocal(a,b);return!this._containerRect||this._containerRect.contain(c[0],c[1])}function n(a){var b=a.event;b.preventDefault&&b.preventDefault()}function o(a){var b,c;this._disabled||a.target&&a.target.draggable||(n(a),b=a.offsetX,c=a.offsetY,m.call(this,b,c)&&(this._dragging=!0,this._track=[[b,c]]))}function p(a){this._dragging&&!this._disabled&&(n(a),r.call(this,a))}function q(a){this._dragging&&!this._disabled&&(n(a),r.call(this,a,!0),this._dragging=!1,this._track=[])}function r(a,b){var f,d=a.offsetX,e=a.offsetY;m.call(this,d,e)&&(this._track.push([d,e]),f=s.call(this)?y[this.type].getRanges.call(this):[],t.call(this,f),this.trigger("selected",c.clone(f)),b&&this.trigger("selectEnd",c.clone(f)))}function s(){var b,c,d,e,f,a=this._track;return a.length?(b=a[a.length-1],c=a[0],d=b[0]-c[0],e=b[1]-c[1],f=i(d*d+e*e,.5),f>j):!1}function t(a){var b=y[this.type];a&&a.length?(this._cover||(this._cover=b.create.call(this),this.group.add(this._cover)),b.update.call(this,a)):(this.group.remove(this._cover),this._cover=null)}function u(){var a=this.group,b=a.parent;b&&b.remove(a)}function v(){var a=this.opt;return new d.Rect({style:{stroke:a.stroke,fill:a.fill,lineWidth:a.lineWidth,opacity:a.opacity}})}function w(){return c.map(this._track,function(a){return this.group.transformCoordToLocal(a[0],a[1])},this)}function x(){var a=w.call(this),b=a.length-1;return 0>b&&(b=0),[a[0],a[b]]}var y,b=a("zrender/mixin/Eventful"),c=a("zrender/core/util"),d=a("../../util/graphic"),e=c.bind,f=c.each,g=Math.min,h=Math.max,i=Math.pow,j=2,k=["mousedown","mousemove","mouseup"];return l.prototype={constructor:l,enable:function(a,b){this._disabled=!1,u.call(this),this._containerRect=b!==!1?b||a.getBoundingRect():null,a.add(this.group)},update:function(a){t.call(this,a&&c.clone(a))},disable:function(){this._disabled=!0,u.call(this)},dispose:function(){this.disable(),f(k,function(a){this.zr.off(a,this._handlers[a])},this)}},c.mixin(l,b),y={line:{create:v,getRanges:function(){var a=x.call(this),b=g(a[0][0],a[1][0]),c=h(a[0][0],a[1][0]);return[[b,c]]},update:function(a){var b=a[0],c=this.opt.width;this._cover.setShape({x:b[0],y:-c/2,width:b[1]-b[0],height:c})}},rect:{create:v,getRanges:function(){var a=x.call(this),b=[g(a[1][0],a[0][0]),g(a[1][1],a[0][1])],c=[h(a[1][0],a[0][0]),h(a[1][1],a[0][1])];return[[[b[0],c[0]],[b[1],c[1]]]]},update:function(a){var b=a[0];this._cover.setShape({x:b[0][0],y:b[1][0],width:b[0][1]-b[0][0],height:b[1][1]-b[1][0]})}}},l}),b("echarts/component/axis/ParallelAxisView",["require","zrender/core/util","./AxisBuilder","../helper/SelectController","../../echarts"],function(a){function g(a,b,c){return c&&"axisAreaSelect"===c.type&&b.findComponents({mainType:"parallelAxis",query:c})[0]===a}var b=a("zrender/core/util"),c=a("./AxisBuilder"),d=a("../helper/SelectController"),e=["axisLine","axisLabel","axisTick","axisName"],f=a("../../echarts").extendComponentView({type:"parallelAxis",_selectController:null,render:function(a,d,f,h){var i,j,k,l,m,n,o;g(a,d,h)||(this.axisModel=a,this.api=f,this.group.removeAll(),a.get("show")&&(i=d.getComponent("parallel",a.get("parallelIndex")).coordinateSystem,j=a.getAreaSelectStyle(),k=j.width,l=i.getAxisLayout(a.axis.dim),m=b.extend({strokeContainThreshold:k,silent:!(k>0)},l),n=new c(a,m),b.each(e,n.add,n),o=n.getGroup(),this.group.add(o),this._buildSelectController(o,j,a,f)))},_buildSelectController:function(a,c,e,f){var i,g=e.axis,h=this._selectController;h||(h=this._selectController=new d("line",f.getZr(),c),h.on("selected",b.bind(this._onSelected,this))),h.enable(a),i=b.map(e.activeIntervals,function(a){return[g.dataToCoord(a[0],!0),g.dataToCoord(a[1],!0)]}),h.update(i)},_onSelected:function(a){var c=this.axisModel,d=c.axis,e=b.map(a,function(a){return[d.coordToData(a[0],!0),d.coordToData(a[1],!0)]});this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:c.id,intervals:e})},remove:function(){this._selectController&&this._selectController.disable()},dispose:function(){this._selectController&&(this._selectController.dispose(),this._selectController=null)}});return f}),b("echarts/component/parallelAxis",["require","../coord/parallel/parallelCreator","./axis/parallelAxisAction","./axis/ParallelAxisView"],function(a){a("../coord/parallel/parallelCreator"),a("./axis/parallelAxisAction"),a("./axis/ParallelAxisView")}),b("echarts/coord/parallel/parallelPreprocessor",["require","zrender/core/util","../../util/model"],function(a){function d(a){if(!a.parallel){var c=!1;b.each(a.series,function(a){a&&"parallel"===a.type&&(c=!0)}),c&&(a.parallel=[{}])}}function e(a){var d=c.normalizeToArray(a.parallelAxis);b.each(d,function(d){var e,f;b.isObject(d)&&(e=d.parallelIndex||0,f=c.normalizeToArray(a.parallel)[e],f&&f.parallelAxisDefault&&b.merge(d,f.parallelAxisDefault,!1))})}var b=a("zrender/core/util"),c=a("../../util/model");return function(a){d(a),e(a)}}),b("echarts/component/parallel",["require","../coord/parallel/parallelCreator","../coord/parallel/ParallelModel","./parallelAxis","../echarts","../coord/parallel/parallelPreprocessor"],function(a){a("../coord/parallel/parallelCreator"),a("../coord/parallel/ParallelModel"),a("./parallelAxis");var b=a("../echarts");b.extendComponentView({type:"parallel"}),b.registerPreprocessor(a("../coord/parallel/parallelPreprocessor"))}),b("echarts/chart/parallel/ParallelSeries",["require","../../data/List","zrender/core/util","../../model/Series"],function(a){function e(a,b,d){var e=a.get("data"),f=+b.replace("dim","");e&&e.length&&c.each(d,function(a){if(a){var b=c.indexOf(e,a[f]);a[f]=b>=0?b:0/0}})}var b=a("../../data/List"),c=a("zrender/core/util"),d=a("../../model/Series");return d.extend({type:"series.parallel",dependencies:["parallel"],getInitialData:function(a,d){var f=d.getComponent("parallel",this.get("parallelIndex")),g=f.dimensions,h=f.parallelAxisIndex,i=a.data,j=c.map(g,function(a,b){var c=d.getComponent("parallelAxis",h[b]);return"category"===c.get("type")?(e(c,a,i),{name:a,type:"ordinal"}):a}),k=new b(j,this);return k.initData(i),k},defaultOption:{zlevel:0,z:2,coordinateSystem:"parallel",parallelIndex:0,label:{normal:{show:!1},emphasis:{show:!1}},inactiveOpacity:.05,activeOpacity:1,lineStyle:{normal:{width:2,opacity:.45,type:"solid"}},animationEasing:"linear"}})}),b("echarts/chart/parallel/ParallelView",["require","../../util/graphic","zrender/core/util","../../view/Chart"],function(a){function e(a,c,d){var e=a.model,f=a.getRect(),g=new b.Rect({shape:{x:f.x,y:f.y,width:f.width,height:f.height}}),h="horizontal"===e.get("layout")?"width":"height";return g.setShape(h,0),b.initProps(g,{shape:{width:f.width,height:f.height}},c,d),g}function f(a,b,c,d){var e,f,g,i,j,k;for(e=0,f=b.length-1;f>e;e++)g=b[e],i=b[e+1],j=a[e],k=a[e+1],d(h(j,c.getAxis(g).type)||h(k,c.getAxis(i).type)?null:[c.dataToPoint(j,g),c.dataToPoint(k,i)],e)}function g(a){return new b.Polyline({shape:{points:a},silent:!0})}function h(a,b){return"category"===b?null==a:null==a||isNaN(a)}var b=a("../../util/graphic"),c=a("zrender/core/util"),d=a("../../view/Chart").extend({type:"parallel",init:function(){this._dataGroup=new b.Group,this.group.add(this._dataGroup),this._data},render:function(a){function o(a){var c=k.getValues(n,a),d=new b.Group;j.add(d),f(c,n,m,function(a){a&&d.add(g(a))}),k.setItemGraphicEl(a,d)}function p(c,d){var o,p,e=k.getValues(n,c),h=l.getItemGraphicEl(d),i=[],j=0;for(f(e,n,m,function(c){var e=h.childAt(j++);c&&!e?i.push(g(c)):c&&b.updateProps(e,{shape:{points:c}},a)}),o=h.childCount()-1;o>=j;o--)h.remove(h.childAt(o));for(o=0,p=i.length;p>o;o++)h.add(i[o]);k.setItemGraphicEl(c,h)}function q(a){var b=l.getItemGraphicEl(a);j.remove(b)}var j=this._dataGroup,k=a.getData(),l=this._data,m=a.coordinateSystem,n=m.dimensions;k.diff(l).add(o).update(p).remove(q).execute(),k.eachItemGraphicEl(function(a,b){var d=k.getItemModel(b),e=d.getModel("lineStyle.normal");a.eachChild(function(a){a.setStyle(c.extend(e.getLineStyle(),{stroke:k.getItemVisual(b,"color"),opacity:k.getItemVisual(b,"opacity")}))})}),this._data||j.setClipPath(e(m,a,function(){j.removeClipPath()})),this._data=k},remove:function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null}});return d}),b("echarts/chart/parallel/parallelVisual",["require"],function(){return function(a){a.eachSeriesByType("parallel",function(b){var c=b.getModel("itemStyle.normal"),d=a.get("color"),e=c.get("color")||d[b.seriesIndex%d.length],f=b.get("inactiveOpacity"),g=b.get("activeOpacity"),h=b.getModel("lineStyle.normal").getLineStyle(),i=b.coordinateSystem,j=b.getData(),k={normal:h.opacity,active:g,inactive:f};i.eachActiveState(j,function(a,b){j.setItemVisual(b,"opacity",k[a])}),j.setVisual("color",e)})}}),b("echarts/chart/parallel",["require","../echarts","../component/parallel","./parallel/ParallelSeries","./parallel/ParallelView","./parallel/parallelVisual"],function(a){var b=a("../echarts");a("../component/parallel"),a("./parallel/ParallelSeries"),a("./parallel/ParallelView"),b.registerVisualCoding("chart",a("./parallel/parallelVisual"))}),b("echarts/chart/sankey/SankeySeries",["require","../../model/Series","../helper/createGraphFromNodeEdge"],function(a){var b=a("../../model/Series"),c=a("../helper/createGraphFromNodeEdge");return b.extend({type:"series.sankey",layoutInfo:null,getInitialData:function(a){var f,d=a.edges||a.links,e=a.data||a.nodes;return e&&d?(f=c(e,d,this,!0),f.data):void 0},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",layout:null,left:"5%",top:"5%",right:"20%",bottom:"5%",nodeWidth:20,nodeGap:8,layoutIterations:32,label:{normal:{show:!0,position:"right",textStyle:{color:"#000",fontSize:12}},emphasis:{show:!0}},itemStyle:{normal:{},emphasis:{}},lineStyle:{normal:{color:"#314656",opacity:.2,curveness:.5},emphasis:{opacity:.6}},color:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],animationEasing:"linear",animationDuration:1e3}})}),b("echarts/chart/sankey/SankeyView",["require","../../util/graphic","../../util/model","zrender/core/util","../../echarts"],function(a){function f(a,c,d){var e=new b.Rect({shape:{x:a.x-10,y:a.y-10,width:0,height:a.height+20}});return b.initProps(e,{shape:{width:a.width+20,height:a.height+20}},c,d),e}var b=a("../../util/graphic"),c=a("../../util/model"),d=a("zrender/core/util"),e=b.extendShape({shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,cpx2:0,cpy2:0,extent:0},buildPath:function(a,b){var c=b.extent/2;a.moveTo(b.x1,b.y1-c),a.bezierCurveTo(b.cpx1,b.cpy1-c,b.cpx2,b.cpy2-c,b.x2,b.y2-c),a.lineTo(b.x2,b.y2+c),a.bezierCurveTo(b.cpx2,b.cpy2+c,b.cpx1,b.cpy1+c,b.x1,b.y1+c),a.closePath()
}});return a("../../echarts").extendChartView({type:"sankey",_model:null,render:function(a){var l,m,n,i=a.getGraph(),j=this.group,k=a.layoutInfo;this._model=a,j.removeAll(),j.position=[k.x,k.y],l=i.edgeData,m=a.option,n=c.createDataFormatModel(a,l,m.edges||m.links),n.formatTooltip=function(a){var b=this.getDataParams(a),c=b.data,d=c.source+" -- "+c.target;return b.value&&(d+=":"+b.value),d},i.eachNode(function(c){var e=c.getLayout(),f=c.getModel(),g=f.getModel("label.normal"),h=g.getModel("textStyle"),i=f.getModel("label.emphasis"),k=i.getModel("textStyle"),l=new b.Rect({shape:{x:e.x,y:e.y,width:c.getLayout().dx,height:c.getLayout().dy},style:{text:g.get("show")?a.getFormattedLabel(c.dataIndex,"normal")||c.id:"",textFont:h.getFont(),textFill:h.getTextColor(),textPosition:g.get("position")}});l.setStyle(d.defaults({fill:c.getVisual("color")},f.getModel("itemStyle.normal").getItemStyle())),b.setHoverStyle(l,d.extend(c.getModel("itemStyle.emphasis"),{text:i.get("show")?a.getFormattedLabel(c.dataIndex,"emphasis")||c.id:"",textFont:k.getFont(),textFill:k.getTextColor(),textPosition:i.get("position")})),j.add(l)}),i.eachEdge(function(a){var d,f,g,h,i,k,l,m,o,p,q,r,s,c=new e;c.dataIndex=a.dataIndex,c.hostModel=n,d=a.getModel("lineStyle.normal"),f=d.get("curveness"),g=a.node1.getLayout(),h=a.node2.getLayout(),i=a.getLayout(),c.shape.extent=Math.max(1,i.dy),k=g.x+g.dx,l=g.y+i.sy+i.dy/2,m=h.x,o=h.y+i.ty+i.dy/2,p=k*(1-f)+m*f,q=l,r=k*f+m*(1-f),s=o,c.setShape({x1:k,y1:l,x2:m,y2:o,cpx1:p,cpy1:q,cpx2:r,cpy2:s}),c.setStyle(d.getItemStyle()),b.setHoverStyle(c,a.getModel("lineStyle.emphasis").getItemStyle()),j.add(c)}),this._data||j.setClipPath(f(j.getBoundingRect(),a,function(){j.removeClipPath()})),this._data=a.getData()}})}),b("echarts/util/array/nest",["require","zrender/core/util"],function(a){function c(){function d(c,e){var f,g,h,i,j,k,l;if(e>=a.length)return c;for(f=-1,g=c.length,h=a[e++],i={},j={};++f<g;)k=h(c[f]),l=j[k],l?l.push(c[f]):j[k]=[c[f]];return b.each(j,function(a,b){i[b]=d(a,e)}),i}function e(d,f){var g,h;return f>=a.length?d:(g=[],h=c[f++],b.each(d,function(a,b){g.push({key:b,values:e(a,f)})}),h?g.sort(function(a,b){return h(a.key,b.key)}):g)}var a=[],c=[];return{key:function(b){return a.push(b),this},sortKeys:function(b){return c[a.length-1]=b,this},entries:function(a){return e(d(a,0),0)}}}var b=a("zrender/core/util");return c}),b("echarts/chart/sankey/sankeyLayout",["require","../../util/layout","../../util/array/nest","zrender/core/util"],function(a){function e(a,c){return b.getLayoutRect(a.getBoxLayoutParams(),{width:c.getWidth(),height:c.getHeight()})}function f(a,b,c,d,e,f,g){h(a,c,e),k(a,b,f,d,g),r(a)}function g(a){d.each(a,function(a){var b=u(a.outEdges,y),c=u(a.inEdges,y),d=Math.max(b,c);a.setLayout({value:d},!0)})}function h(a,b,c){for(var e=a,f=null,g=0,h=0;e.length;)f=[],d.each(e,function(a){a.setLayout({x:g},!0),a.setLayout({dx:b},!0),d.each(a.outEdges,function(a){f.push(a.node2)})}),e=f,++g;i(a,g),h=(c-b)/(g-1),j(a,h)}function i(a,b){d.each(a,function(a){a.outEdges.length||a.setLayout({x:b-1},!0)})}function j(a,b){d.each(a,function(a){var c=a.getLayout().x*b;a.setLayout({x:c},!0)})}function k(a,b,d,e,f){var h,g=c().key(function(a){return a.getLayout().x}).sortKeys(x).entries(a).map(function(a){return a.values});for(l(a,g,b,d,e),m(g,e,d),h=1;f>0;f--)h*=.99,n(g,h),m(g,e,d),p(g,h),m(g,e,d)}function l(a,b,c,e,f){var h,g=[];d.each(b,function(a){var h,b=a.length,c=0;d.each(a,function(a){c+=a.getLayout().value}),h=(e-(b-1)*f)/c,g.push(h)}),g.sort(function(a,b){return a-b}),h=g[0],d.each(b,function(a){d.each(a,function(a,b){a.setLayout({y:b},!0);var c=a.getLayout().value*h;a.setLayout({dy:c},!0)})}),d.each(c,function(a){var b=+a.getValue()*h;a.setLayout({dy:b},!0)})}function m(a,b,c){d.each(a,function(a){var d,e,h,i,f=0,g=a.length;for(a.sort(w),h=0;g>h;h++)d=a[h],e=f-d.getLayout().y,e>0&&(i=d.getLayout().y+e,d.setLayout({y:i},!0)),f=d.getLayout().y+d.getLayout().dy+b;if(e=f-b-c,e>0)for(i=d.getLayout().y-e,d.setLayout({y:i},!0),f=d.getLayout().y,h=g-2;h>=0;--h)d=a[h],e=d.getLayout().y+d.getLayout().dy+b-f,e>0&&(i=d.getLayout().y-e,d.setLayout({y:i},!0)),f=d.getLayout().y})}function n(a,b){d.each(a.slice().reverse(),function(a){d.each(a,function(a){var c,d;a.outEdges.length&&(c=u(a.outEdges,o)/u(a.outEdges,y),d=a.getLayout().y+(c-v(a))*b,a.setLayout({y:d},!0))})})}function o(a){return v(a.node2)*a.getValue()}function p(a,b){d.each(a,function(a){d.each(a,function(a){var c,d;a.inEdges.length&&(c=u(a.inEdges,q)/u(a.inEdges,y),d=a.getLayout().y+(c-v(a))*b,a.setLayout({y:d},!0))})})}function q(a){return v(a.node1)*a.getValue()}function r(a){d.each(a,function(a){a.outEdges.sort(s),a.inEdges.sort(t)}),d.each(a,function(a){var b=0,c=0;d.each(a.outEdges,function(a){a.setLayout({sy:b},!0),b+=a.getLayout().dy}),d.each(a.inEdges,function(a){a.setLayout({ty:c},!0),c+=a.getLayout().dy})})}function s(a,b){return a.node2.getLayout().y-b.node2.getLayout().y}function t(a,b){return a.node1.getLayout().y-b.node1.getLayout().y}function u(a,b){var e,c=0,d=a.length,f=-1;if(1===arguments.length)for(;++f<d;)e=+a[f],isNaN(e)||(c+=e);else for(;++f<d;)e=+b.call(a,a[f],f),isNaN(e)||(c+=e);return c}function v(a){return a.getLayout().y+a.getLayout().dy/2}function w(a,b){return a.getLayout().y-b.getLayout().y}function x(a,b){return b>a?-1:a>b?1:a==b?0:0/0}function y(a){return a.getValue()}var b=a("../../util/layout"),c=a("../../util/array/nest"),d=a("zrender/core/util");return function(a,b){a.eachSeriesByType("sankey",function(a){var i,j,k,l,m,n,o,c=a.get("nodeWidth"),d=a.get("nodeGap"),h=e(a,b);a.layoutInfo=h,i=h.width,j=h.height,k=a.getGraph(),l=k.nodes,m=k.edges,g(l),n=l.filter(function(a){return 0===a.getLayout().value}),o=0!==n.length?0:a.get("layoutIterations"),f(l,m,c,d,i,j,o)})}}),b("echarts/chart/sankey/sankeyVisual",["require","../../visual/VisualMapping"],function(a){var b=a("../../visual/VisualMapping");return function(a){a.eachSeriesByType("sankey",function(a){var e,f,c=a.getGraph(),d=c.nodes;d.sort(function(a,b){return a.getLayout().value-b.getLayout().value}),e=d[0].getLayout().value,f=d[d.length-1].getLayout().value,d.forEach(function(c){var d=new b({type:"color",mappingMethod:"linear",dataExtent:[e,f],visual:a.get("color")}),g=d.mapValueToVisual(c.getLayout().value);c.setVisual("color",g)})})}}),b("echarts/chart/sankey",["require","../echarts","./sankey/SankeySeries","./sankey/SankeyView","./sankey/sankeyLayout","./sankey/sankeyVisual"],function(a){var b=a("../echarts");a("./sankey/SankeySeries"),a("./sankey/SankeyView"),b.registerLayout(a("./sankey/sankeyLayout")),b.registerVisualCoding("chart",a("./sankey/sankeyVisual"))}),b("echarts/chart/helper/WhiskerBoxDraw",["require","zrender/core/util","../../util/graphic","zrender/graphic/Path"],function(a){function f(a,b,d,e){c.Group.call(this),this.bodyIndex,this.whiskerIndex,this.styleUpdater=d,this._createContent(a,b,e),this.updateData(a,b,e),this._seriesModel}function h(a,c,d){return b.map(a,function(a){return a=a.slice(),a[c]=d.initBaseline,a})}function i(a){var c={};return b.each(a,function(a,b){c["ends"+b]=a}),c}function j(a){this.group=new c.Group,this.styleUpdater=a}var k,b=a("zrender/core/util"),c=a("../../util/graphic"),d=a("zrender/graphic/Path"),e=d.extend({type:"whiskerInBox",shape:{},buildPath:function(a,b){var c,d;for(c in b)0===c.indexOf("ends")&&(d=b[c],a.moveTo(d[0][0],d[0][1]),a.lineTo(d[1][0],d[1][1]))}}),g=f.prototype;return g._createContent=function(a,d,f){var l,g=a.getItemLayout(d),j="horizontal"===g.chartLayout?1:0,k=0;this.add(new c.Polygon({shape:{points:f?h(g.bodyEnds,j,g):g.bodyEnds},style:{strokeNoScale:!0},z2:100})),this.bodyIndex=k++,l=b.map(g.whiskerEnds,function(a){return f?h(a,j,g):a}),this.add(new e({shape:i(l),style:{strokeNoScale:!0},z2:100})),this.whiskerIndex=k++},g.updateData=function(a,b,d){var e=this._seriesModel=a.hostModel,f=a.getItemLayout(b),g=c[d?"initProps":"updateProps"];g(this.childAt(this.bodyIndex),{shape:{points:f.bodyEnds}},e),g(this.childAt(this.whiskerIndex),{shape:i(f.whiskerEnds)},e),this.styleUpdater.call(null,this,a,b)},b.inherits(f,c.Group),k=j.prototype,k.updateData=function(a){var b=this.group,c=this._data,d=this.styleUpdater;a.diff(c).add(function(c){if(a.hasValue(c)){var e=new f(a,c,d,!0);a.setItemGraphicEl(c,e),b.add(e)}}).update(function(e,g){var h=c.getItemGraphicEl(g);return a.hasValue(e)?(h?h.updateData(a,e):h=new f(a,e,d),b.add(h),a.setItemGraphicEl(e,h),void 0):(b.remove(h),void 0)}).remove(function(a){var d=c.getItemGraphicEl(a);d&&b.remove(d)}).execute(),this._data=a},k.remove=function(){var a=this.group,b=this._data;this._data=null,b&&b.eachItemGraphicEl(function(b){b&&a.remove(b)})},j}),b("echarts/chart/helper/whiskerBoxCommon",["require","../../data/List","../../data/helper/completeDimensions","../helper/WhiskerBoxDraw"],function(a){function e(a){return null==a.value?a:a.value}var b=a("../../data/List"),c=a("../../data/helper/completeDimensions"),d=a("../helper/WhiskerBoxDraw"),f={_baseAxisDim:null,getInitialData:function(a,d){var f,k,l,m,n,g=d.getComponent("xAxis",this.get("xAxisIndex")),h=d.getComponent("yAxis",this.get("yAxisIndex")),i=g.get("type"),j=h.get("type");return"category"===i?(a.layout="horizontal",f=g.getCategories(),k=!0):"category"===j?(a.layout="vertical",f=h.getCategories(),k=!0):a.layout=a.layout||"horizontal",this._baseAxisDim="horizontal"===a.layout?"x":"y",l=a.data,m=this.dimensions=["base"].concat(this.valueDimensions),c(m,l),n=new b(m,this),n.initData(l,f?f.slice():null,function(a,b,c,d){var f=e(a);return k?"base"===b?c:f[d-1]:f[d]}),n},getDimensionsOnAxis:function(a){var b=this.valueDimensions.slice(),c=["base"],d={horizontal:{x:c,y:b},vertical:{x:b,y:c}};return d[this.get("layout")][a]},getBaseAxisModel:function(){var a=this._baseAxisDim;return this.ecModel.getComponent(a+"Axis",this.get(a+"AxisIndex"))}},g={init:function(){var a=this._whiskerBoxDraw=new d(this.getStyleUpdater());this.group.add(a.group)},render:function(a){this._whiskerBoxDraw.updateData(a.getData())},remove:function(){this._whiskerBoxDraw.remove()}};return{seriesModelMixin:f,viewMixin:g}}),b("echarts/chart/boxplot/BoxplotSeries",["require","zrender/core/util","../../model/Series","../helper/whiskerBoxCommon"],function(a){var b=a("zrender/core/util"),c=a("../../model/Series"),d=a("../helper/whiskerBoxCommon"),e=c.extend({type:"series.boxplot",dependencies:["xAxis","yAxis","grid"],valueDimensions:["min","Q1","median","Q3","max"],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,layout:null,boxWidth:[7,50],itemStyle:{normal:{color:"#fff",borderWidth:1},emphasis:{borderWidth:2,shadowBlur:5,shadowOffsetX:2,shadowOffsetY:2,shadowColor:"rgba(0,0,0,0.4)"}},animationEasing:"elasticOut",animationDuration:800}});return b.mixin(e,d.seriesModelMixin,!0),e}),b("echarts/chart/boxplot/BoxplotView",["require","zrender/core/util","../../view/Chart","../../util/graphic","../helper/whiskerBoxCommon"],function(a){function i(a,b,c){var l,m,e=b.getItemModel(c),f=e.getModel(g),i=b.getItemVisual(c,"color"),j=f.getItemStyle(["borderColor"]),k=a.childAt(a.whiskerIndex);k.style.set(j),k.style.stroke=i,k.dirty(),l=a.childAt(a.bodyIndex),l.style.set(j),l.style.stroke=i,l.dirty(),m=e.getModel(h).getItemStyle(),d.setHoverStyle(a,m)}var g,h,b=a("zrender/core/util"),c=a("../../view/Chart"),d=a("../../util/graphic"),e=a("../helper/whiskerBoxCommon"),f=c.extend({type:"boxplot",getStyleUpdater:function(){return i}});return b.mixin(f,e.viewMixin,!0),g=["itemStyle","normal"],h=["itemStyle","emphasis"],f}),b("echarts/chart/boxplot/boxplotVisual",["require"],function(){var b=["itemStyle","normal","borderColor"];return function(a){var d=a.get("color");a.eachRawSeriesByType("boxplot",function(c){var e=d[c.seriesIndex%d.length],f=c.getData();f.setVisual({legendSymbol:"roundRect",color:c.get(b)||e}),a.isSeriesFiltered(c)||f.each(function(a){var c=f.getItemModel(a);f.setItemVisual(a,{color:c.get(b,!0)})})})}}),b("echarts/chart/boxplot/boxplotLayout",["require","zrender/core/util","../../util/number"],function(a){function f(a){var c=[],d=[];return a.eachSeriesByType("boxplot",function(a){var e=a.getBaseAxisModel().axis,f=b.indexOf(d,e);0>f&&(f=d.length,d[f]=e,c[f]={axis:e,seriesModels:[]}),c[f].seriesModels.push(a)}),c}function g(a){var c,l,m,n,o,p,q,f=a.axis,g=a.seriesModels,h=g.length,i=a.boxWidthList=[],j=a.boxOffsetList=[],k=[];"category"===f.type?l=f.getBandWidth():(m=0,e(g,function(a){m=Math.max(m,a.getData().count())}),c=f.getExtent(),Math.abs(c[1]-c[0])/m),e(g,function(a){var c=a.get("boxWidth");b.isArray(c)||(c=[c,c]),k.push([d(c[0],l)||0,d(c[1],l)||0])}),n=.8*l-2,o=.3*(n/h),p=(n-o*(h-1))/h,q=p/2-n/2,e(g,function(a,b){j.push(q),q+=o+p,i.push(Math.min(Math.max(p,k[b][0]),k[b][1]))})}function h(a,b,c){var d=a.coordinateSystem,e=a.getData(),f=a.dimensions,g=a.get("layout"),h=c/2;e.each(f,function(){function r(a){var e,c=[];return c[k]=i,c[l]=a,isNaN(i)||isNaN(a)?e=[0/0,0/0]:(e=d.dataToPoint(c),e[k]+=b),e}function s(a,b){var c=a.slice(),d=a.slice();c[k]+=h,d[k]-=h,b?q.push(c,d):q.push(d,c)}function t(a){var b=[a.slice(),a.slice()];b[0][k]-=h,b[1][k]+=h,p.push(b)}var q,a=arguments,c=f.length,i=a[0],j=a[c],k="horizontal"===g?0:1,l=1-k,m=r(a[3]),n=r(a[1]),o=r(a[5]),p=[[n,r(a[2])],[o,r(a[4])]];t(n),t(o),t(m),q=[],s(p[0][1],0),s(p[1][1],1),e.setItemLayout(j,{chartLayout:g,initBaseline:m[l],median:m,bodyEnds:q,whiskerEnds:p})})}var b=a("zrender/core/util"),c=a("../../util/number"),d=c.parsePercent,e=b.each;return function(a){var c=f(a);e(c,function(a){var b=a.seriesModels;b.length&&(g(a),e(b,function(b,c){h(b,a.boxOffsetList[c],a.boxWidthList[c])}))})}}),b("echarts/chart/boxplot",["require","../echarts","./boxplot/BoxplotSeries","./boxplot/BoxplotView","./boxplot/boxplotVisual","./boxplot/boxplotLayout"],function(a){var b=a("../echarts");a("./boxplot/BoxplotSeries"),a("./boxplot/BoxplotView"),b.registerVisualCoding("chart",a("./boxplot/boxplotVisual")),b.registerLayout(a("./boxplot/boxplotLayout"))}),b("echarts/chart/candlestick/CandlestickSeries",["require","zrender/core/util","../../model/Series","../helper/whiskerBoxCommon","../../util/format"],function(a){var b=a("zrender/core/util"),c=a("../../model/Series"),d=a("../helper/whiskerBoxCommon"),e=a("../../util/format"),f=e.encodeHTML,g=e.addCommas,h=c.extend({type:"series.candlestick",dependencies:["xAxis","yAxis","grid"],valueDimensions:["open","close","lowest","highest"],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,layout:null,itemStyle:{normal:{color:"#c23531",color0:"#314656",borderWidth:1,borderColor:"#c23531",borderColor0:"#314656"},emphasis:{borderWidth:2}},animationUpdate:!1,animationEasing:"linear",animationDuration:300},getShadowDim:function(){return"open"},formatTooltip:function(a){var d=b.map(this.valueDimensions,function(b){return b+": "+g(this._data.get(b,a))},this);return f(this.name)+"<br />"+d.join("<br />")}});return b.mixin(h,d.seriesModelMixin,!0),h}),b("echarts/chart/candlestick/CandlestickView",["require","zrender/core/util","../../view/Chart","../../util/graphic","../helper/whiskerBoxCommon"],function(a){function i(a,b,c){var m,n,e=b.getItemModel(c),f=e.getModel(g),i=b.getItemVisual(c,"color"),j=b.getItemVisual(c,"borderColor"),k=f.getItemStyle(["color","color0","borderColor","borderColor0"]),l=a.childAt(a.whiskerIndex);l.style.set(k),l.style.stroke=j,l.dirty(),m=a.childAt(a.bodyIndex),m.style.set(k),m.style.fill=i,m.style.stroke=j,m.dirty(),n=e.getModel(h).getItemStyle(),d.setHoverStyle(a,n)}var g,h,b=a("zrender/core/util"),c=a("../../view/Chart"),d=a("../../util/graphic"),e=a("../helper/whiskerBoxCommon"),f=c.extend({type:"candlestick",getStyleUpdater:function(){return i}});return b.mixin(f,e.viewMixin,!0),g=["itemStyle","normal"],h=["itemStyle","emphasis"],f}),b("echarts/chart/candlestick/preprocessor",["require","zrender/core/util"],function(a){var b=a("zrender/core/util");return function(a){a&&b.isArray(a.series)&&b.each(a.series,function(a){b.isObject(a)&&"k"===a.type&&(a.type="candlestick")})}}),b("echarts/chart/candlestick/candlestickVisual",["require"],function(){var b=["itemStyle","normal","borderColor"],c=["itemStyle","normal","borderColor0"],d=["itemStyle","normal","color"],e=["itemStyle","normal","color0"];return function(a){a.eachRawSeriesByType("candlestick",function(f){var g=f.getData();g.setVisual({legendSymbol:"roundRect"}),a.isSeriesFiltered(f)||g.each(function(a){var f=g.getItemModel(a),h=g.getItemLayout(a).sign;g.setItemVisual(a,{color:f.get(h>0?d:e),borderColor:f.get(h>0?b:c)})})})}}),b("echarts/chart/candlestick/candlestickLayout",["require"],function(){function e(a,e){var g,f=a.getBaseAxisModel().axis,h="category"===f.type?f.getBandWidth():(g=f.getExtent(),Math.abs(g[1]-g[0])/e.count());return h/2-2>c?h/2-2:h-c>d?c:Math.max(h-d,b)}var b=2,c=5,d=4;return function(a){a.eachSeriesByType("candlestick",function(a){var b=a.coordinateSystem,c=a.getData(),d=a.dimensions,f=a.get("layout"),g=e(a,c);c.each(d,function(){function x(a){var c=[];return c[j]=h,c[k]=a,isNaN(h)||isNaN(a)?[0/0,0/0]:b.dataToPoint(c)}function y(a,b){var c=a.slice(),d=a.slice();c[j]+=g/2,d[j]-=g/2,b?w.push(c,d):w.push(d,c)}var a=arguments,e=d.length,h=a[0],i=a[e],j="horizontal"===f?0:1,k=1-j,l=a[1],m=a[2],n=a[3],o=a[4],p=Math.min(l,m),q=Math.max(l,m),r=x(p),s=x(q),t=x(n),u=x(o),v=[[u,s],[t,r]],w=[];y(s,0),y(r,1),c.setItemLayout(i,{chartLayout:f,sign:l>m?-1:m>l?1:0,initBaseline:l>m?s[k]:r[k],bodyEnds:w,whiskerEnds:v})},!0)})}}),b("echarts/chart/candlestick",["require","../echarts","./candlestick/CandlestickSeries","./candlestick/CandlestickView","./candlestick/preprocessor","./candlestick/candlestickVisual","./candlestick/candlestickLayout"],function(a){var b=a("../echarts");a("./candlestick/CandlestickSeries"),a("./candlestick/CandlestickView"),b.registerPreprocessor(a("./candlestick/preprocessor")),b.registerVisualCoding("chart",a("./candlestick/candlestickVisual")),b.registerLayout(a("./candlestick/candlestickLayout"))}),b("echarts/chart/effectScatter/EffectScatterSeries",["require","../helper/createListFromArray","../../model/Series"],function(a){var b=a("../helper/createListFromArray"),c=a("../../model/Series");return c.extend({type:"series.effectScatter",dependencies:["grid","polar"],getInitialData:function(a,c){var d=b(a.data,this,c);return d},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,effectType:"ripple",showEffectOn:"render",rippleEffect:{period:4,scale:2.5,brushType:"fill"},xAxisIndex:0,yAxisIndex:0,polarIndex:0,geoIndex:0,symbolSize:10}})}),b("echarts/chart/helper/EffectSymbol",["require","zrender/core/util","../../util/symbol","../../util/graphic","../../util/number","./Symbol"],function(a){function i(a){return b.isArray(a)||(a=[+a,+a]),a}function j(a,b){var c,d;g.call(this),c=new f(a,b),d=new g,this.add(c),this.add(d),d.beforeUpdate=function(){this.attr(c.getScale())},this.updateData(a,b)}var b=a("zrender/core/util"),c=a("../../util/symbol"),d=a("../../util/graphic"),e=a("../../util/number"),f=a("./Symbol"),g=d.Group,h=3,k=j.prototype;return k.stopEffectAnimation=function(){this.childAt(1).removeAll()},k.startEffectAnimation=function(a,b,d,e,f,g){var l,m,n,i=this._symbolType,j=this._color,k=this.childAt(1);for(l=0;h>l;l++)m=c.createSymbol(i,-.5,-.5,1,1,j),m.attr({style:{stroke:"stroke"===b?j:null,fill:"fill"===b?j:null,strokeNoScale:!0},z2:99,silent:!0,scale:[1,1],z:f,zlevel:g}),n=-l/h*a+e,m.animate("",!0).when(a,{scale:[d,d]}).delay(n).start(),m.animateStyle(!0).when(a,{opacity:0}).delay(n).start(),k.add(m)},k.highlight=function(){this.trigger("emphasis")},k.downplay=function(){this.trigger("normal")},k.updateData=function(a,b){function u(){t.trigger("emphasis"),"render"!==m&&this.startEffectAnimation(p,o,n,q,r,s)}function v(){t.trigger("normal"),"render"!==m&&this.stopEffectAnimation()}var d,f,g,h,j,k,l,m,n,o,p,q,r,s,t,c=a.hostModel;this.childAt(0).updateData(a,b),d=this.childAt(1),f=a.getItemModel(b),g=a.getItemVisual(b,"symbol"),h=i(a.getItemVisual(b,"symbolSize")),j=a.getItemVisual(b,"color"),d.attr("scale",h),d.traverse(function(a){a.attr({fill:j})}),k=f.getShallow("symbolOffset"),k&&(l=d.position,l[0]=e.parsePercent(k[0],h[0]),l[1]=e.parsePercent(k[1],h[1])),this._symbolType=g,this._color=j,m=c.get("showEffectOn"),n=f.get("rippleEffect.scale"),o=f.get("rippleEffect.brushType"),p=1e3*f.get("rippleEffect.period"),q=b/a.count(),r=f.getShallow("z")||0,s=f.getShallow("zlevel")||0,this.stopEffectAnimation(),"render"===m&&this.startEffectAnimation(p,o,n,q,r,s),t=this.childAt(0),this.on("mouseover",u,this).on("mouseout",v,this).on("emphasis",u,this).on("normal",v,this)},k.fadeOut=function(a){a&&a()},b.inherits(j,g),j}),b("echarts/chart/effectScatter/EffectScatterView",["require","../helper/SymbolDraw","../helper/EffectSymbol","../../echarts"],function(a){var b=a("../helper/SymbolDraw"),c=a("../helper/EffectSymbol");a("../../echarts").extendChartView({type:"effectScatter",init:function(){this._symbolDraw=new b(c)},render:function(a){var d=a.getData(),e=this._symbolDraw;e.updateData(d),this.group.add(e.group)},updateLayout:function(){this._symbolDraw.updateLayout()},remove:function(a,b){this._symbolDraw&&this._symbolDraw.remove(b)}})}),b("echarts/chart/effectScatter",["require","zrender/core/util","../echarts","./effectScatter/EffectScatterSeries","./effectScatter/EffectScatterView","../visual/symbol","../layout/points"],function(a){var b=a("zrender/core/util"),c=a("../echarts");a("./effectScatter/EffectScatterSeries"),a("./effectScatter/EffectScatterView"),c.registerVisualCoding("chart",b.curry(a("../visual/symbol"),"effectScatter","circle",null)),c.registerLayout(b.curry(a("../layout/points"),"effectScatter"))}),b("echarts/chart/lines/LinesSeries",["require","../../model/Series","../../data/List","zrender/core/util"],function(a){var b=a("../../model/Series"),c=a("../../data/List"),d=a("zrender/core/util");return b.extend({type:"series.lines",dependencies:["grid","polar"],getInitialData:function(a){function m(a,b,c,d){return a.coord&&a.coord[d]}var h,i,j,k,l,e=[],f=[],g=[];if(d.each(a.data,function(a){e.push(a[0]),f.push(a[1]),g.push(d.extend(d.extend({},d.isArray(a[0])?null:a[0]),d.isArray(a[1])?null:a[1]))}),h=a.coordinateSystem,"cartesian2d"!==h&&"geo"!==h)throw new Error("Coordinate system can only be cartesian2d or geo in lines");return i="geo"===h?["lng","lat"]:["x","y"],j=new c(i,this),k=new c(i,this),l=new c(["value"],this),j.initData(e,null,m),k.initData(f,null,m),l.initData(g),this.fromData=j,this.toData=k,l},formatTooltip:function(a){var b=this.fromData.getName(a),c=this.toData.getName(a);return b+" > "+c},defaultOption:{coordinateSystem:"geo",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,geoIndex:0,effect:{show:!1,period:4,symbol:"circle",symbolSize:3,trailLength:.2},large:!1,largeThreshold:2e3,label:{normal:{show:!1,position:"end"}},lineStyle:{normal:{opacity:.5}}}})}),b("echarts/chart/helper/EffectLine",["require","../../util/graphic","./Line","zrender/core/util","../../util/symbol","zrender/core/curve"],function(a){function g(a,d,e,f){b.Group.call(this);var g=new c(a,d,e,f);this.add(g),this._updateEffectSymbol(a,f)}function i(a,b){a.__p1=b[0],a.__p2=b[1],a.__cp1=b[2]||[(b[0][0]+b[1][0])/2,(b[0][1]+b[1][1])/2]}function j(){var i,j,a=this.__p1,b=this.__p2,c=this.__cp1,d=this.__t,e=this.position,g=f.quadraticAt,h=f.quadraticDerivativeAt;e[0]=g(a[0],c[0],b[0],d),e[1]=g(a[1],c[1],b[1],d),i=h(a[0],c[0],b[0],d),j=h(a[1],c[1],b[1],d),this.rotation=-Math.atan2(j,i)-Math.PI/2,this.ignore=!1}var b=a("../../util/graphic"),c=a("./Line"),d=a("zrender/core/util"),e=a("../../util/symbol"),f=a("zrender/core/curve"),h=g.prototype;return h._updateEffectSymbol=function(a,b){var k,l,m,n,c=a.getItemModel(b),f=c.getModel("effect"),g=f.get("symbolSize"),h=f.get("symbol");d.isArray(g)||(g=[g,g]),k=f.get("color")||a.getItemVisual(b,"color"),l=this.childAt(1),m=1e3*f.get("period"),(this._symbolType!==h||m!==this._period)&&(l=e.createSymbol(h,-.5,-.5,1,1,k),l.ignore=!0,l.z2=100,this._symbolType=h,this._period=m,this.add(l),l.__t=0,l.animate("",!0).when(m,{__t:1}).delay(b/a.count()*m/2).during(d.bind(j,l)).start()),l.setStyle("shadowColor",k),l.setStyle(f.getItemStyle(["color"])),l.attr("scale",g),n=a.getItemLayout(b),i(l,n),l.setColor(k),l.attr("scale",g)},h.updateData=function(a,b,c,d){this.childAt(0).updateData(a,b,c,d),this._updateEffectSymbol(a,d)},h.updateLayout=function(a,b,c,d){var e,f;this.childAt(0).updateLayout(a,b,c,d),e=this.childAt(1),f=a.getItemLayout(d),i(e,f)},d.inherits(g,b.Group),g}),b("echarts/chart/lines/LinesView",["require","../helper/LineDraw","../helper/EffectLine","../helper/Line","../../echarts"],function(a){var b=a("../helper/LineDraw"),c=a("../helper/EffectLine"),d=a("../helper/Line");a("../../echarts").extendChartView({type:"lines",init:function(){},render:function(a,e,f){var j,k,l,g=a.getData(),h=this._lineDraw,i=a.get("effect.show");i!==this._hasEffet&&(h&&h.remove(),h=this._lineDraw=new b(i?c:d),this._hasEffet=i),j=a.get("zlevel"),k=a.get("effect.trailLength"),l=f.getZr(),l.painter.getLayer(j).clear(!0),null!=this._lastZlevel&&l.configLayer(this._lastZlevel,{motionBlur:!1}),i&&k&&l.configLayer(j,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(k/10+.9,1),0)}),this.group.add(h.group),h.updateData(g),this._lastZlevel=j},updateLayout:function(a,b,c){this._lineDraw.updateLayout();var d=c.getZr();d.painter.getLayer(this._lastZlevel).clear(!0)},remove:function(a,b){this._lineDraw&&this._lineDraw.remove(b,!0)}})}),b("echarts/chart/lines/linesLayout",["require"],function(){return function(a){a.eachSeriesByType("lines",function(a){var b=a.coordinateSystem,c=a.fromData,d=a.toData,e=a.getData(),f=b.dimensions;c.each(f,function(a,d,e){c.setItemLayout(e,b.dataToPoint([a,d]))}),d.each(f,function(a,c,e){d.setItemLayout(e,b.dataToPoint([a,c]))}),e.each(function(a){var h,b=c.getItemLayout(a),f=d.getItemLayout(a),g=e.getItemModel(a).get("lineStyle.normal.curveness");g>0&&(h=[(b[0]+f[0])/2-(b[1]-f[1])*g,(b[1]+f[1])/2-(f[0]-b[0])*g]),e.setItemLayout(a,[b,f,h])})})}}),b("echarts/chart/lines",["require","./lines/LinesSeries","./lines/LinesView","zrender/core/util","../echarts","./lines/linesLayout","../visual/seriesColor"],function(a){var b,c;a("./lines/LinesSeries"),a("./lines/LinesView"),b=a("zrender/core/util"),c=a("../echarts"),c.registerLayout(a("./lines/linesLayout")),c.registerVisualCoding("chart",b.curry(a("../visual/seriesColor"),"lines","lineStyle"))}),b("echarts/chart/heatmap/HeatmapSeries",["require","../../model/Series","../helper/createListFromArray"],function(a){var b=a("../../model/Series"),c=a("../helper/createListFromArray");return b.extend({type:"series.heatmap",getInitialData:function(a,b){return c(a.data,this,b)},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,xAxisIndex:0,yAxisIndex:0,geoIndex:0,blurSize:20}})}),b("echarts/chart/heatmap/HeatmapLayer",["require","zrender/core/util"],function(a){function e(){var a=d.createCanvas();this.canvas=a,this.blurSize=30,this.opacity=1,this._gradientPixels={}}var b=20,c=256,d=a("zrender/core/util");return e.prototype={update:function(a,d,e,f,g,h){var p,q,r,s,t,u,v,w,x,y,z,A,i=this._getBrush(),j=this._getGradient(a,g,"inRange"),k=this._getGradient(a,g,"outOfRange"),l=b+this.blurSize,m=this.canvas,n=m.getContext("2d"),o=a.length;for(m.width=d,m.height=e,p=0;o>p;++p)q=a[p],r=q[0],s=q[1],t=q[2],u=f(t),n.globalAlpha=u,n.drawImage(i,r-l,s-l);for(v=n.getImageData(0,0,m.width,m.height),w=v.data,x=0,y=w.length;y>x;)u=w[x+3]/256,z=4*Math.floor(u*(c-1)),u>0?(A=h(u)?j:k,w[x++]=A[z],w[x++]=A[z+1],w[x++]=A[z+2],w[x++]*=this.opacity*A[z+3]):x+=4;return n.putImageData(v,0,0),m},_getBrush:function(){var f,a=this._brushCanvas||(this._brushCanvas=d.createCanvas()),c=b+this.blurSize,e=2*c;return a.width=e,a.height=e,f=a.getContext("2d"),f.clearRect(0,0,e,e),f.shadowOffsetX=e,f.shadowBlur=this.blurSize,f.shadowColor="#000",f.beginPath(),f.arc(-c,c,b,0,2*Math.PI,!0),f.closePath(),f.fill(),a},_getGradient:function(a,b,c){var h,d=this._gradientPixels,e=d[c]||(d[c]=new Uint8ClampedArray(1024)),f=[],g=0;for(h=0;256>h;h++)b[c](h/255,!0,f),e[g++]=f[0],e[g++]=f[1],e[g++]=f[2],e[g++]=f[3];return e}},e}),b("echarts/chart/heatmap/HeatmapView",["require","../../util/graphic","./HeatmapLayer","zrender/core/util","../../echarts"],function(a){function e(a,b,c){var f,g,e=a[1]-a[0];return b=d.map(b,function(b){return{interval:[(b.interval[0]-a[0])/e,(b.interval[1]-a[0])/e]}}),f=b.length,g=0,function(a){var d,e;for(d=g;f>d;d++)if(e=b[d].interval,e[0]<=a&&a<=e[1]){g=d;break}if(d===f)for(d=g-1;d>=0;d--)if(e=b[d].interval,e[0]<=a&&a<=e[1]){g=d;break}return d>=0&&f>d&&c[d]}}function f(a,b){var c=a[1]-a[0];return b=[(b[0]-a[0])/c,(b[1]-a[0])/c],function(a){return a>=b[0]&&a<=b[1]}}var b=a("../../util/graphic"),c=a("./HeatmapLayer"),d=a("zrender/core/util");return a("../../echarts").extendChartView({type:"heatmap",render:function(a,b,c){var d,e;if(b.eachComponent("visualMap",function(b){b.eachTargetSeries(function(c){c===a&&(d=b)})}),!d)throw new Error("Heatmap must use with visualMap");this.group.removeAll(),e=a.coordinateSystem,"cartesian2d"===e.type?this._renderOnCartesian(e,a,c):"geo"===e.type&&this._renderOnGeo(e,a,d,c)},_renderOnCartesian:function(a,c){var h,i,j,e=a.getAxis("x"),f=a.getAxis("y"),g=this.group;if("category"!==e.type||"category"!==f.type)throw new Error("Heatmap on cartesian must have two category axes");if(!e.onBand||!f.onBand)throw new Error("Heatmap on cartesian must have two axes with boundaryGap true");h=e.getBandWidth(),i=f.getBandWidth(),j=c.getData(),j.each(["x","y","z"],function(d,e,f,k){var n,o,p,q,r,s,t,l=j.getItemModel(k),m=a.dataToPoint([d,e]);isNaN(f)||(n=new b.Rect({shape:{x:m[0]-h/2,y:m[1]-i/2,width:h,height:i},style:{fill:j.getItemVisual(k,"color")}}),o=l.getModel("itemStyle.normal").getItemStyle(["color"]),p=l.getModel("itemStyle.emphasis").getItemStyle(),q=l.getModel("label.normal"),r=l.getModel("label.emphasis"),s=c.getRawValue(k),t="-",s&&null!=s[2]&&(t=s[2]),q.get("show")&&(b.setText(o,q),o.text=c.getFormattedLabel(k,"normal")||t),r.get("show")&&(b.setText(p,r),p.text=c.getFormattedLabel(k,"emphasis")||t),n.setStyle(o),b.setHoverStyle(n,p),g.add(n),j.setItemGraphicEl(k,n))})},_renderOnGeo:function(a,d,g,h){var m,n,o,p,q,r,s,t,u,v,w,x,i=g.targetVisuals.inRange,j=g.targetVisuals.outOfRange,k=d.getData(),l=this._hmLayer||this._hmLayer||new c;l.blurSize=d.get("blurSize"),m=a.getViewRect().clone(),n=a.getRoamTransform(),m.applyTransform(n),o=Math.max(m.x,0),p=Math.max(m.y,0),q=Math.min(m.width+m.x,h.getWidth()),r=Math.min(m.height+m.y,h.getHeight()),s=q-o,t=r-p,u=k.mapArray(["lng","lat","value"],function(b,c,d){var e=a.dataToPoint([b,c]);return e[0]-=o,e[1]-=p,e.push(d),e}),v=g.getExtent(),w="visualMap.continuous"===g.type?f(v,g.option.range):e(v,g.getPieceList(),g.option.selected),l.update(u,s,t,i.color.getNormalizer(),{inRange:i.color.getColorMapper(),outOfRange:j.color.getColorMapper()},w),x=new b.Image({style:{width:s,height:t,x:o,y:p,image:l.canvas},silent:!0}),this.group.add(x)}})}),b("echarts/chart/heatmap",["require","./heatmap/HeatmapSeries","./heatmap/HeatmapView"],function(a){a("./heatmap/HeatmapSeries"),a("./heatmap/HeatmapView")}),b("echarts/component/geo/GeoView",["require","../helper/MapDraw","../../echarts"],function(a){var b=a("../helper/MapDraw");return a("../../echarts").extendComponentView({type:"geo",init:function(a,c){var d=new b(c,!0);this._mapDraw=d,this.group.add(d.group)},render:function(a,b,c){a.get("show")&&this._mapDraw.draw(a,b,c)}})}),b("echarts/component/geo",["require","../coord/geo/geoCreator","./geo/GeoView","../action/geoRoam"],function(a){a("../coord/geo/geoCreator"),a("./geo/GeoView"),a("../action/geoRoam")}),b("echarts/component/title",["require","../echarts","../util/graphic","../util/layout"],function(a){var b=a("../echarts"),c=a("../util/graphic"),d=a("../util/layout");b.extendComponentModel({type:"title",defaultOption:{zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:"left",top:"top",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}}}),b.extendComponentView({type:"title",render:function(a,b,e){var f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w;
this.group.removeAll(),a.get("show")&&(f=this.group,g=a.getModel("textStyle"),h=a.getModel("subtextStyle"),i=a.get("textAlign"),j=new c.Text({style:{text:a.get("text"),textFont:g.getFont(),fill:g.getTextColor(),textBaseline:"top"},z2:10}),k=j.getBoundingRect(),l=a.get("subtext"),m=new c.Text({style:{text:l,textFont:h.getFont(),fill:h.getTextColor(),y:k.height+a.get("itemGap"),textBaseline:"top"},z2:10}),n=a.get("link"),o=a.get("sublink"),j.silent=!n,m.silent=!o,n&&j.on("click",function(){window.open(n,a.get("target"))}),o&&m.on("click",function(){window.open(o,a.get("subtarget"))}),f.add(j),l&&f.add(m),p=f.getBoundingRect(),q=a.getBoxLayoutParams(),q.width=p.width,q.height=p.height,r=d.getLayoutRect(q,{width:e.getWidth(),height:e.getHeight()},a.get("padding")),i||(s=r.x/e.getWidth(),t=(r.x+r.width)/e.getWidth(),.2>s?i="left":t>.8?(r.x+=r.width,i="right"):(r.x+=r.width/2,i="center")),f.position=[r.x,r.y],j.setStyle("textAlign",i),m.setStyle("textAlign",i),p=f.getBoundingRect(),u=r.margin,v=a.getItemStyle(["color","opacity"]),v.fill=a.get("backgroundColor"),w=new c.Rect({shape:{x:p.x-u[3],y:p.y-u[0],width:p.width+u[1]+u[3],height:p.height+u[0]+u[2]},style:v,silent:!0}),c.subPixelOptimizeRect(w),f.add(w))}})}),b("echarts/component/dataZoom/typeDefaulter",["require","../../model/Component"],function(a){a("../../model/Component").registerSubTypeDefaulter("dataZoom",function(){return"slider"})}),b("echarts/component/dataZoom/AxisProxy",["require","zrender/core/util","../../util/number"],function(a){function g(a,b){var c=[Number.MAX_VALUE,Number.MIN_VALUE];return d(b,function(b){var e=b.getData();e&&d(b.getDimensionsOnAxis(a),function(a){var b=e.getDataExtent(a);b[0]<c[0]&&(c[0]=b[0]),b[1]>c[1]&&(c[1]=b[1])})},this),c}function h(a,b,f){var g=[0,100],h=a.option,j=[h.start,h.end],k=[h.startValue,h.endValue],l=["floor","ceil"];return d([0,1],function(a){var e,d=k[a],h=!0;i(d)&&(e=j[a],i(e)&&(e=g[a]),d=c.linearMap(e,g,b,!0),h=!1),f&&(d=Math[l[a]](d)),h&&(e=c.linearMap(d,b,g,!0)),k[a]=d,j[a]=e}),{valueWindow:e(k),percentWindow:e(j)}}function i(a){return isNaN(a)||null==a}var b=a("zrender/core/util"),c=a("../../util/number"),d=b.each,e=c.asc,f=function(a,b,c,d){this._dimName=a,this._axisIndex=b,this._backup,this._valueWindow,this._percentWindow,this._dataExtent,this.ecModel=d,this._model=c};return f.prototype={constructor:f,hostedBy:function(a){return this._model===a},backup:function(a,b){a===this._model&&(this._backup=b)},getBackup:function(){return b.clone(this._backup)},getDataExtent:function(){return this._dataExtent.slice()},getDataValueWindow:function(){return this._valueWindow.slice()},getDataPercentWindow:function(){return this._percentWindow.slice()},getTargetSeriesModels:function(){var a=[];return this.ecModel.eachSeries(function(b){this._axisIndex===b.get(this._dimName+"AxisIndex")&&a.push(b)},this),a},getAxisModel:function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},getOtherAxisModel:function(){var e,f,g,a=this._dimName,b=this.ecModel,c=this.getAxisModel(),d="x"===a||"y"===a;return d?(f="gridIndex",e="x"===a?"y":"x"):(f="polarIndex",e="angle"===a?"radius":"angle"),b.eachComponent(e+"Axis",function(a){(a.get(f)||0)===(c.get(f)||0)&&(g=a)}),g},reset:function(a){var b,c,d,e,f,i;a===this._model&&(b=this._dimName,c=this.getAxisModel(),d="category"===c.get("type"),e=this.getTargetSeriesModels(),f=g(b,e),i=h(a,f,d),this._dataExtent=f.slice(),this._valueWindow=i.valueWindow.slice(),this._percentWindow=i.percentWindow.slice())},filterData:function(a){function h(a){return a>=f[0]&&a<=f[1]}var b,c,e,f,g;a===this._model&&(b=this._dimName,c=this.getTargetSeriesModels(),e=a.get("filterMode"),f=this._valueWindow,g=this.getOtherAxisModel(),a.get("$fromToolbox")&&g&&"category"===g.get("type")&&(e="empty"),d(c,function(a){var c=a.getData();c&&d(a.getDimensionsOnAxis(b),function(b){"empty"===e?a.setData(c.map(b,function(a){return h(a)?a:0/0})):c.filterSelf(b,h)})}))}},f}),b("echarts/component/dataZoom/DataZoomModel",["require","zrender/core/util","zrender/core/env","../../echarts","../../util/model","./AxisProxy"],function(a){var b=a("zrender/core/util"),c=a("zrender/core/env"),d=a("../../echarts"),e=a("../../util/model"),f=a("./AxisProxy"),g=b.each,h=e.eachAxisDim;return d.extendComponentModel({type:"dataZoom",dependencies:["xAxis","yAxis","zAxis","radiusAxis","angleAxis","series"],defaultOption:{zlevel:0,z:4,orient:null,xAxisIndex:null,yAxisIndex:null,filterMode:"filter",throttle:100,start:0,end:100,startValue:null,endValue:null},init:function(a,b,c){this._autoMode,this._dataIntervalByAxis={},this._dataInfo={},this._axisProxies={},this.textStyleModel,this.mergeDefaultAndTheme(a,c),this.mergeOption({},!0)},mergeOption:function(a,d){var e=this.option;a&&b.merge(e,a),c.canvasSupported||(e.realtime=!1),this.textStyleModel=this.getModel("textStyle"),this._resetTarget(a,d),this._giveAxisProxies(),this._backup()},_giveAxisProxies:function(){var a=this._axisProxies;this.eachTargetAxis(function(b,c,d,e){var g=this.dependentModels[b.axis][c],h=g.__dzAxisProxy||(g.__dzAxisProxy=new f(b.name,c,this,e));a[b.name+"_"+c]=h},this)},_resetTarget:function(a,b){var c,d;this._resetAutoMode(a,b),c=this.option,h(function(a){var b=a.axisIndex;c[b]="axisIndex"===d?[]:e.normalizeToArray(c[b])},this),d=this._autoMode,"axisIndex"===d?this._autoSetAxisIndex():"orient"===d&&this._autoSetOrient()},_resetAutoMode:function(a,b){var e,c=b?this.option:a,d=!1;h(function(a){null!=c[a.axisIndex]&&(d=!0)},this),e=c.orient,null==e&&d?this._autoMode="orient":(null==e&&(this.option.orient="horizontal"),d||(this._autoMode="axisIndex"))},_autoSetAxisIndex:function(){var e,a="axisIndex"===this._autoMode,c=this.get("orient"),d=this.option;a&&(e="vertical"===c?{dim:"y",axisIndex:"yAxisIndex",axis:"yAxis"}:{dim:"x",axisIndex:"xAxisIndex",axis:"xAxis"},this.dependentModels[e.axis].length&&(d[e.axisIndex]=[0],a=!1)),a&&h(function(b){var c,e,f,g;if(a){if(c=[],e=this.dependentModels[b.axis],e.length&&!c.length)for(f=0,g=e.length;g>f;f++)"category"===e[f].get("type")&&c.push(f);d[b.axisIndex]=c,c.length&&(a=!1)}},this),a&&this.ecModel.eachSeries(function(a){this._isSeriesHasAllAxesTypeOf(a,"value")&&h(function(c){var e=d[c.axisIndex],f=a.get(c.axisIndex);b.indexOf(e,f)<0&&e.push(f)})},this)},_autoSetOrient:function(){var a;this.eachTargetAxis(function(b){!a&&(a=b.name)},this),this.option.orient="y"===a?"vertical":"horizontal"},_isSeriesHasAllAxesTypeOf:function(a,b){var c=!0;return h(function(d){var e=a.get(d.axisIndex),f=this.dependentModels[d.axis][e];f&&f.get("type")===b||(c=!1)},this),c},_backup:function(){this.eachTargetAxis(function(a,b,c,d){var e=d.getComponent(a.axis,b);this.getAxisProxy(a.name,b).backup(this,{scale:e.get("scale",!0),min:e.get("min",!0),max:e.get("max",!0)})},this)},getFirstTargetAxisModel:function(){var a;return h(function(b){if(null==a){var c=this.get(b.axisIndex);c.length&&(a=this.dependentModels[b.axis][c[0]])}},this),a},eachTargetAxis:function(a,b){var c=this.ecModel;h(function(d){g(this.get(d.axisIndex),function(e){a.call(b,d,e,this,c)},this)},this)},getAxisProxy:function(a,b){return this._axisProxies[a+"_"+b]},setRawRange:function(a){g(["start","end","startValue","endValue"],function(b){this.option[b]=a[b]},this)},getPercentRange:function(){var b,a=this._axisProxies;for(b in a)if(a.hasOwnProperty(b)&&a[b].hostedBy(this))return a[b].getDataPercentWindow();for(b in a)if(a.hasOwnProperty(b)&&!a[b].hostedBy(this))return a[b].getDataPercentWindow()}})}),b("echarts/component/dataZoom/DataZoomView",["require","../../view/Component"],function(a){var b=a("../../view/Component");return b.extend({type:"dataZoom",render:function(a,b,c){this.dataZoomModel=a,this.ecModel=b,this.api=c},getTargetInfo:function(){function f(a,b,c,d){var e,f;for(f=0;f<c.length;f++)if(c[f].model===a){e=c[f];break}e||c.push(e={model:a,axisModels:[],coordIndex:d}),e.axisModels.push(b)}var a=this.dataZoomModel,b=this.ecModel,c=[],d=[],e=[];return a.eachTargetAxis(function(a,g){var i,j,k,h=b.getComponent(a.axis,g);h&&(e.push(h),i=h.get("gridIndex"),j=h.get("polarIndex"),null!=i?(k=b.getComponent("grid",i),f(k,h,c,i)):null!=j&&(k=b.getComponent("polar",j),f(k,h,d,j)))},this),{cartesians:c,polars:d,axisModels:e}}})}),b("echarts/component/dataZoom/SliderZoomModel",["require","./DataZoomModel"],function(a){var b=a("./DataZoomModel");return b.extend({type:"dataZoom.slider",layoutMode:"box",defaultOption:{show:!0,left:"auto",right:"auto",top:"auto",bottom:"auto",width:"auto",height:"auto",backgroundColor:"rgba(47,69,84,0)",dataBackgroundColor:"#ddd",fillerColor:"rgba(47,69,84,0.25)",handleColor:"rgba(47,69,84,0.65)",handleSize:10,labelPrecision:null,labelFormatter:null,showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#333"}}})}),b("echarts/util/throttle",[],function(){var a={},b="\0__throttleOriginMethod",c="\0__throttleRate";return a.throttle=function(a,b,c,d){function o(m){function n(){g=(new Date).getTime(),h=null,(l?a:a[m]).apply(j,k||[])}var o=function(){e=(new Date).getTime(),j=this,k=arguments,i=e-(d?f:g)-b,clearTimeout(h),d?c?h=setTimeout(n,b):i>=0&&n():i>=0?n():c&&(h=setTimeout(n,-i)),f=e};return o.clear=function(){h&&(clearTimeout(h),h=null)},o}var i,j,k,m,n,e=(new Date).getTime(),f=0,g=0,h=null,l="function"==typeof a;if(b=b||0,l)return o();for(m=[],n=0;n<a.length;n++)m[n]=o(n);return m},a.fixRate=function(b,c){return null!=c?a.throttle(b,c,!0,!1):b},a.debounce=function(b,c){return null!=c?a.throttle(b,c,!0,!0):b},a.createOrUpdate=function(d,e,f,g){var i,j,h=d[e];h&&null!=f&&g&&(i=h[b]||h,j=h[c],j!==f&&(h=d[e]=a[g](i,f),h[b]=i,h[c]=f))},a.clear=function(a,c){var d=a[c];d&&d[b]&&(a[c]=d[b])},a}),b("echarts/component/helper/sliderMove",["require"],function(){return function(a,b,c,d,e){function f(a,b,c){var d=b.length?b.slice():[b,b];return b[0]>b[1]&&d.reverse(),0>a&&d[0]+a<c[0]&&(a=c[0]-d[0]),a>0&&d[1]+a>c[1]&&(a=c[1]-d[1]),a}return a?("rigid"===d?(a=f(a,b,c),b[0]+=a,b[1]+=a):(a=f(a,b[e],c),b[e]+=a,"push"===d&&b[0]>b[1]&&(b[1-e]=b[e])),b):b}}),b("echarts/component/dataZoom/SliderZoomView",["require","zrender/core/util","../../util/graphic","../../util/throttle","./DataZoomView","../../util/number","../../util/layout","../helper/sliderMove"],function(a){function w(a){return"x"===a?"y":"x"}var b=a("zrender/core/util"),c=a("../../util/graphic"),d=a("../../util/throttle"),e=a("./DataZoomView"),f=c.Rect,g=a("../../util/number"),h=g.linearMap,i=a("../../util/layout"),j=a("../helper/sliderMove"),k=g.asc,l=b.bind,m=Math.round,n=Math.max,o=b.each,p=7,q=1,r=30,s="horizontal",t="vertical",u=5,v=["line","bar","candlestick","scatter"];return e.extend({type:"dataZoom.slider",init:function(a,b){this._displayables={},this._orient,this._range,this._handleEnds,this._size,this._halfHandleSize,this._location,this._dragging,this._dataShadowInfo,this.api=b},render:function(a,b,c,e){return this.$superApply("render",arguments),d.createOrUpdate(this,"_dispatchZoomAction",this.dataZoomModel.get("throttle"),"fixRate"),this._orient=a.get("orient"),this._halfHandleSize=m(a.get("handleSize")/2),this.dataZoomModel.get("show")===!1?(this.group.removeAll(),void 0):(e&&"dataZoom"===e.type&&e.from===this.uid||this._buildView(),this._updateView(),void 0)},remove:function(){this.$superApply("remove",arguments),d.clear(this,"_dispatchZoomAction")},dispose:function(){this.$superApply("dispose",arguments),d.clear(this,"_dispatchZoomAction")},_buildView:function(){var b,a=this.group;a.removeAll(),this._resetLocation(),this._resetInterval(),b=this._displayables.barGroup=new c.Group,this._renderBackground(),this._renderDataShadow(),this._renderHandle(),a.add(b),this._positionGroup()},_resetLocation:function(){var g,a=this.dataZoomModel,c=this.api,d=this._findCoordRect(),e={width:c.getWidth(),height:c.getHeight()},f=this._orient===s?{left:d.x,top:e.height-r-p,width:d.width,height:r}:{right:p,top:d.y,width:r,height:d.height};b.each(i.getLayoutParams(a.option),function(a,b){"auto"!==a&&(f[b]=a)}),g=i.getLayoutRect(f,e,a.padding),this._location={x:g.x,y:g.y},this._size=[g.width,g.height],this._orient===t&&this._size.reverse()},_positionGroup:function(){var h,a=this.group,b=this._location,c=this._orient,d=this.dataZoomModel.getFirstTargetAxisModel(),e=d&&d.get("inverse"),f=this._displayables.barGroup,g=(this._dataShadowInfo||{}).otherAxisInverse;f.attr(c!==s||e?c===s&&e?{scale:g?[-1,1]:[-1,-1]}:c!==t||e?{scale:g?[-1,-1]:[-1,1],rotation:Math.PI/2}:{scale:g?[1,-1]:[1,1],rotation:Math.PI/2}:{scale:g?[1,1]:[1,-1]}),h=a.getBoundingRect([f]),a.position[0]=b.x-h.x,a.position[1]=b.y-h.y},_getViewExtent:function(){var a=this._halfHandleSize,b=n(this._size[0],4*a),c=[a,b-a];return c},_renderBackground:function(){var a=this.dataZoomModel,b=this._size;this._displayables.barGroup.add(new f({silent:!0,shape:{x:0,y:0,width:b[0],height:b[1]},style:{fill:a.get("backgroundColor")}}))},_renderDataShadow:function(){var b,d,e,f,g,i,j,k,l,m,n,o,a=this._dataShadowInfo=this._prepareDataShadowInfo();a&&(b=this._size,d=a.series,e=d.getRawData(),f=d.getShadowDim?d.getShadowDim():a.otherDim,g=e.getDataExtent(f),i=.3*(g[1]-g[0]),g=[g[0]-i,g[1]+i],j=[0,b[1]],k=[0,b[0]],l=[[b[0],0],[0,0]],m=k[1]/e.count(),n=0,o=Math.round(e.count()/b[0]),e.each([f],function(a,b){if(o>0&&b%o)return n+=m,void 0;var c=null==a||isNaN(a)||""===a?null:h(a,g,j,!0);null!=c&&l.push([n,c]),n+=m}),this._displayables.barGroup.add(new c.Polyline({shape:{points:l},style:{fill:this.dataZoomModel.get("dataBackgroundColor"),lineWidth:0},silent:!0,z2:-20})))},_prepareDataShadowInfo:function(){var d,e,a=this.dataZoomModel,c=a.get("showDataShadow");if(c!==!1)return e=this.ecModel,a.eachTargetAxis(function(f,g){var h=a.getAxisProxy(f.name,g).getTargetSeriesModels();b.each(h,function(a){var h,i;d||c!==!0&&b.indexOf(v,a.get("type"))<0||(h=w(f.name),i=e.getComponent(f.axis,g).axis,d={thisAxis:i,series:a,thisDim:f.name,otherDim:h,otherAxisInverse:a.coordinateSystem.getOtherAxis(i).inverse})},this)},this),d},_renderHandle:function(){var a=this._displayables,b=a.handles=[],d=a.handleLabels=[],e=this._displayables.barGroup,g=this._size;e.add(a.filler=new f({draggable:!0,cursor:"move",drift:l(this._onDragMove,this,"all"),ondragend:l(this._onDragEnd,this),onmouseover:l(this._showDataInfo,this,!0),onmouseout:l(this._showDataInfo,this,!1),style:{fill:this.dataZoomModel.get("fillerColor"),textPosition:"inside"}})),e.add(new f(c.subPixelOptimizeRect({silent:!0,shape:{x:0,y:0,width:g[0],height:g[1]},style:{stroke:this.dataZoomModel.get("dataBackgroundColor"),lineWidth:q,fill:"rgba(0,0,0,0)"}}))),o([0,1],function(a){e.add(b[a]=new f({style:{fill:this.dataZoomModel.get("handleColor")},cursor:"move",draggable:!0,drift:l(this._onDragMove,this,a),ondragend:l(this._onDragEnd,this),onmouseover:l(this._showDataInfo,this,!0),onmouseout:l(this._showDataInfo,this,!1)}));var g=this.dataZoomModel.textStyleModel;this.group.add(d[a]=new c.Text({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textBaseline:"middle",textAlign:"center",fill:g.getTextColor(),textFont:g.getFont()}}))},this)},_resetInterval:function(){var a=this._range=this.dataZoomModel.getPercentRange();this._handleEnds=h(a,[0,100],this._getViewExtent(),!0)},_updateInterval:function(a,b){var c=this._handleEnds,d=this._getViewExtent();j(b,c,d,"all"===a||this.dataZoomModel.get("zoomLock")?"rigid":"cross",a),this._range=k(h(c,d,[0,100],!0))},_updateView:function(){var a=this._displayables,b=this._handleEnds,c=k(b.slice()),d=this._size,e=this._halfHandleSize;o([0,1],function(c){var f=a.handles[c];f.setShape({x:b[c]-e,y:-1,width:2*e,height:d[1]+2,r:1})},this),a.filler.setShape({x:c[0],y:0,width:c[1]-c[0],height:this._size[1]}),this._updateDataInfo()},_updateDataInfo:function(){function j(a){var g=c.getTransform(b.handles[a],this.group),h=c.transformDirection(0===a?"right":"left",g),j=this._halfHandleSize+u,k=c.applyTransform([i[a]+(0===a?-j:j),this._size[1]/2],g);d[a].setStyle({x:k[0],y:k[1],textBaseline:e===s?"middle":h,textAlign:e===s?h:"center",text:f[a]})}var g,h,i,a=this.dataZoomModel,b=this._displayables,d=b.handleLabels,e=this._orient,f=["",""];a.get("showDetail")&&(a.eachTargetAxis(function(b,c){g||(g=a.getAxisProxy(b.name,c).getDataValueWindow(),h=this.ecModel.getComponent(b.axis,c).axis)},this),g&&(f=[this._formatLabel(g[0],h),this._formatLabel(g[1],h)])),i=k(this._handleEnds.slice()),j.call(this,0),j.call(this,1)},_formatLabel:function(a,c){var f,d=this.dataZoomModel,e=d.get("labelFormatter");return b.isFunction(e)?e(a):(f=d.get("labelPrecision"),(null==f||"auto"===f)&&(f=c.getPixelPrecision()),a=null==a&&isNaN(a)?"":"category"===c.type||"time"===c.type?c.scale.getLabel(Math.round(a)):a.toFixed(Math.min(f,20)),b.isString(e)&&(a=e.replace("{value}",a)),a)},_showDataInfo:function(a){a=this._dragging||a;var b=this._displayables.handleLabels;b[0].attr("invisible",!a),b[1].attr("invisible",!a)},_onDragMove:function(a,b,c){this._dragging=!0;var d=this._applyBarTransform([b,c],!0);this._updateInterval(a,d[0]),this._updateView(),this.dataZoomModel.get("realtime")&&this._dispatchZoomAction()},_onDragEnd:function(){this._dragging=!1,this._showDataInfo(!1),this._dispatchZoomAction()},_dispatchZoomAction:function(){var a=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,start:a[0],end:a[1]})},_applyBarTransform:function(a,b){var d=this._displayables.barGroup.getLocalTransform();return c.applyTransform(a,d,b)},_findCoordRect:function(){var b,c,d,a=this.getTargetInfo();return a.cartesians.length?b=a.cartesians[0].model.coordinateSystem.getRect():(c=this.api.getWidth(),d=this.api.getHeight(),b={x:.2*c,y:.2*d,width:.6*c,height:.6*d}),b}})}),b("echarts/component/dataZoom/InsideZoomModel",["require","./DataZoomModel"],function(a){var b=a("./DataZoomModel");return b.extend({type:"dataZoom.inside"})}),b("echarts/component/dataZoom/InsideZoomView",["require","./DataZoomView","../../util/throttle","zrender/core/util","../helper/sliderMove","../../component/helper/RoamController"],function(a){function h(a,b,c,d){var f,g,h;return b=b.slice(),(f=d.axisModels[0])?(g=j(a,f,c),h=g.signal*(b[1]-b[0])*g.pixel/g.pixelLength,e(h,b,[0,100],"rigid"),b):void 0}function i(a,b,c,d,e){var g,h,i,l;return c=c.slice(),(g=e.axisModels[0])?(h=j(b,g,d),i=h.pixel-h.pixelStart,l=i/h.pixelLength*(c[1]-c[0])+c[0],a=Math.max(a,0),c[0]=(c[0]-l)*a+l,c[1]=(c[1]-l)*a+l,k(c)):void 0}function j(a,b,c){var d=b.axis,e=c.rect,f={};return"x"===d.dim?(f.pixel=a[0],f.pixelLength=e.width,f.pixelStart=e.x,f.signal=d.inverse?1:-1):(f.pixel=a[1],f.pixelLength=e.height,f.pixelStart=e.y,f.signal=d.inverse?-1:1),f}function k(a){var b=[0,100];return!(a[0]<=b[1])&&(a[0]=b[1]),!(a[1]<=b[1])&&(a[1]=b[1]),!(a[0]>=b[0])&&(a[0]=b[0]),!(a[1]>=b[0])&&(a[1]=b[0]),a}var b=a("./DataZoomView"),c=a("../../util/throttle"),d=a("zrender/core/util"),e=a("../helper/sliderMove"),f=a("../../component/helper/RoamController"),g=d.bind;return b.extend({type:"dataZoom.inside",init:function(){this._controllers={},this._range},render:function(a,b,d,e){this.$superApply("render",arguments),c.createOrUpdate(this,"_dispatchZoomAction",this.dataZoomModel.get("throttle"),"fixRate"),e&&"dataZoom"===e.type&&e.from===this.uid||(this._range=a.getPercentRange()),this._resetController(d)},remove:function(){this.$superApply("remove",arguments);var a=this._controllers;d.each(a,function(a){a.off("pan").off("zoom")}),a.length=0,c.clear(this,"_dispatchZoomAction")},dispose:function(){this.$superApply("dispose",arguments),c.clear(this,"_dispatchZoomAction")},_resetController:function(a){var b=this._controllers,c=this.getTargetInfo();d.each(c.cartesians,function(c){var d="cartesian"+c.coordIndex,e=b[d];e||(e=b[d]=new f(a.getZr()),e.enable(),e.on("pan",g(this._onPan,this,e,c)),e.on("zoom",g(this._onZoom,this,e,c))),e.rect=c.model.coordinateSystem.getRect().clone()},this)},_onPan:function(a,b,c,d){var e=this._range=h([c,d],this._range,a,b);e&&this._dispatchZoomAction(e)},_onZoom:function(a,b,c,d,e){var g,f=this.dataZoomModel;c=1/c,g=this._range=i(c,[d,e],this._range,a,b,f),this._dispatchZoomAction(g)},_dispatchZoomAction:function(a){this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,start:a[0],end:a[1]})}})}),b("echarts/component/dataZoom/dataZoomProcessor",["require","../../echarts","../../util/number"],function(a){function d(a,b,d,e){var h,i,j,k,l,m,n,f=a.name,g=d.getAxisProxy(f,b);g.reset(d),h=g.getDataPercentWindow(),i=g.getDataValueWindow(),j=e.getComponent(a.axis,b),k=0===h[0]&&100===h[1],l=g.getBackup(),m=c.getPixelPrecision(i,[0,500]),n=!(20>m&&m>=0),j.setNeedsCrossZero&&j.setNeedsCrossZero(k?!l.scale:!1),j.setMin&&j.setMin(k||n?l.min:+i[0].toFixed(m)),j.setMax&&j.setMax(k||n?l.max:+i[1].toFixed(m))}function e(a,b,c){c.getAxisProxy(a.name,b).filterData(c)}var b=a("../../echarts"),c=a("../../util/number");b.registerProcessor("filter",function(a){a.eachComponent("dataZoom",function(a){a.eachTargetAxis(d)}),a.eachComponent("dataZoom",function(a){a.eachTargetAxis(e)})})}),b("echarts/component/dataZoom/dataZoomAction",["require","zrender/core/util","../../util/model","../../echarts"],function(a){var b=a("zrender/core/util"),c=a("../../util/model"),d=a("../../echarts");d.registerAction("dataZoom",function(a,d){var e=c.createLinkedNodesFinder(b.bind(d.eachComponent,d,"dataZoom"),c.eachAxisDim,function(a,b){return a.get(b.axisIndex)}),f=[];d.eachComponent({mainType:"dataZoom",query:a},function(a){f.push.apply(f,e(a).nodes)}),b.each(f,function(b){b.setRawRange({start:a.start,end:a.end,startValue:a.startValue,endValue:a.endValue})})})}),b("echarts/component/dataZoom",["require","./dataZoom/typeDefaulter","./dataZoom/DataZoomModel","./dataZoom/DataZoomView","./dataZoom/SliderZoomModel","./dataZoom/SliderZoomView","./dataZoom/InsideZoomModel","./dataZoom/InsideZoomView","./dataZoom/dataZoomProcessor","./dataZoom/dataZoomAction"],function(a){a("./dataZoom/typeDefaulter"),a("./dataZoom/DataZoomModel"),a("./dataZoom/DataZoomView"),a("./dataZoom/SliderZoomModel"),a("./dataZoom/SliderZoomView"),a("./dataZoom/InsideZoomModel"),a("./dataZoom/InsideZoomView"),a("./dataZoom/dataZoomProcessor"),a("./dataZoom/dataZoomAction")}),b("echarts/component/visualMap/preprocessor",["require","zrender/core/util"],function(a){function d(a,b){return a&&a.hasOwnProperty&&a.hasOwnProperty(b)}var b=a("zrender/core/util"),c=b.each;return function(a){var e=a&&a.visualMap;b.isArray(e)||(e=e?[e]:[]),c(e,function(a){if(a){d(a,"splitList")&&!d(a,"pieces")&&(a.pieces=a.splitList,delete a.splitList);var e=a.pieces;e&&b.isArray(e)&&c(e,function(a){b.isObject(a)&&(d(a,"start")&&!d(a,"min")&&(a.min=a.start),d(a,"end")&&!d(a,"max")&&(a.max=a.end))})}})}}),b("echarts/component/visualMap/typeDefaulter",["require","../../model/Component"],function(a){a("../../model/Component").registerSubTypeDefaulter("visualMap",function(a){return a.categories||(a.pieces?a.pieces.length>0:a.splitNumber>0)&&!a.calculable?"piecewise":"continuous"})}),b("echarts/component/visualMap/visualCoding",["require","../../echarts","../../visual/VisualMapping","zrender/core/util"],function(a){function e(a){var e=a.targetVisuals,f={};d.each(["inRange","outOfRange"],function(a){var b=c.prepareVisualTypes(e[a]);f[a]=b}),a.eachTargetSeries(function(b){function h(a){return c.getItemVisual(g,a)}function i(a,b){c.setItemVisual(g,a,b)}var g,c=b.getData(),d=a.getDataDimension(c);c.each([d],function(b,c){var d,j,k,l,m,n;for(g=c,d=a.getValueState(b),j=e[d],k=f[d],l=0,m=k.length;m>l;l++)n=k[l],j[n]&&j[n].applyVisual(b,h,i)})})}var b=a("../../echarts"),c=a("../../visual/VisualMapping"),d=a("zrender/core/util");b.registerVisualCoding("component",function(a){a.eachComponent("visualMap",function(b){e(b,a)})})}),b("echarts/visual/visualDefault",["require","zrender/core/util"],function(a){var b=a("zrender/core/util"),c={get:function(a,c,e){var f=b.clone((d[a]||{})[c]);return e?b.isArray(f)?f[f.length-1]:f:f}},d={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}};return c}),b("echarts/component/visualMap/VisualMapModel",["require","zrender/core/util","zrender/core/env","../../echarts","../../util/model","../../visual/visualDefault","../../visual/VisualMapping","../../util/number"],function(a){var b=a("zrender/core/util"),c=a("zrender/core/env"),d=a("../../echarts"),e=a("../../util/model"),f=a("../../visual/visualDefault"),g=a("../../visual/VisualMapping"),h=g.mapVisual,i=g.eachVisual,j=a("../../util/number"),k=b.isArray,l=b.each,m=j.asc,n=j.linearMap;return d.extendComponentModel({type:"visualMap",dependencies:["series"],dataBound:[-1/0,1/0],stateList:["inRange","outOfRange"],layoutMode:{type:"box",ignoreSize:!0},defaultOption:{show:!0,zlevel:0,z:4,min:0,max:200,dimension:null,inRange:null,outOfRange:null,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",seriesIndex:null,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,color:["#bf444c","#d88273","#f6efa6"],formatter:null,text:null,textStyle:{color:"#333"}},init:function(a,b,c){this._autoSeriesIndex=!1,this._dataExtent,this.controllerVisuals={},this.targetVisuals={},this.textStyleModel,this.itemSize,this.mergeDefaultAndTheme(a,c),this.doMergeOption({},!0)},mergeOption:function(a){this.$superApply("mergeOption",arguments),this.doMergeOption(a,!1)},doMergeOption:function(){var d=this.option;c.canvasSupported||(d.realtime=!1),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},formatValueText:function(a,c){function j(a){return a===f[0]?"min":a===f[1]?"max":(+a).toFixed(e)}var h,i,d=this.option,e=d.precision,f=this.dataBound,g=d.formatter;return b.isArray(a)&&(a=a.slice(),h=!0),i=c?a:h?[j(a[0]),j(a[1])]:j(a),b.isString(g)?g.replace("{value}",h?i[0]:i).replace("{value2}",h?i[1]:i):b.isFunction(g)?h?g(a[0],a[1]):g(a):h?a[0]===f[0]?"< "+i[1]:a[1]===f[1]?"> "+i[0]:i[0]+" - "+i[1]:i},resetTargetSeries:function(a,b){var c=this.option,d=this._autoSeriesIndex=null==(b?c:a).seriesIndex;c.seriesIndex=d?[]:e.normalizeToArray(c.seriesIndex),d&&this.ecModel.eachSeries(function(a,b){var d=a.getData();"list"===d.type&&c.seriesIndex.push(b)})},resetExtent:function(){var a=this.option,b=m([a.min,a.max]);this._dataExtent=b},getDataDimension:function(a){var b=this.option.dimension;return null!=b?b:a.dimensions.length-1},getExtent:function(){return this._dataExtent.slice()},resetVisual:function(a){function c(c,d){l(this.stateList,function(e){var f=d[e]||(d[e]={}),h=this.option[c][e]||{};l(h,function(c,d){if(g.isValidType(d)){var h={type:d,dataExtent:b,visual:c};a&&a.call(this,h,e),f[d]=new g(h)}},this)},this)}var b=this.getExtent();c.call(this,"controller",this.controllerVisuals),c.call(this,"target",this.targetVisuals)},completeVisualOption:function(){function m(c){k(a.color)&&!c.inRange&&(c.inRange={color:a.color.slice().reverse()}),l(this.stateList,function(a){var e,d=c[a];b.isString(d)&&(e=f.get(d,"active",j),e?(c[a]={},c[a][d]=e):delete c[a])},this)}function o(a,b,c){var d=a[b],e=a[c];d&&!e&&(e=a[c]={},l(d,function(a,b){var c=f.get(b,"inactive",j);g.isValidType(b)&&c&&(e[b]=c)}))}function p(a){var c=(a.inRange||{}).symbol||(a.outOfRange||{}).symbol,d=(a.inRange||{}).symbolSize||(a.outOfRange||{}).symbolSize,e=this.get("inactiveColor");l(this.stateList,function(f){var l,m,g=this.itemSize,k=a[f];k||(k=a[f]={color:j?e:[e]}),k.symbol||(k.symbol=c&&b.clone(c)||(j?"roundRect":["roundRect"])),k.symbolSize||(k.symbolSize=d&&b.clone(d)||(j?g[0]:[g[0],g[0]])),k.symbol=h(k.symbol,function(a){return"none"===a||"square"===a?"roundRect":a}),l=k.symbolSize,l&&(m=-1/0,i(l,function(a){a>m&&(m=a)}),k.symbolSize=h(l,function(a){return n(a,[0,m],[0,g[0]],!0)}))},this)}var j,a=this.option,c={inRange:a.inRange,outOfRange:a.outOfRange},d=a.target||(a.target={}),e=a.controller||(a.controller={});b.merge(d,c),b.merge(e,c),j=this.isCategory(),m.call(this,d),m.call(this,e),o.call(this,d,"inRange","outOfRange"),o.call(this,d,"outOfRange","inRange"),p.call(this,e)},eachTargetSeries:function(a,c){b.each(this.option.seriesIndex,function(b){a.call(c,this.ecModel.getSeriesByIndex(b))},this)},isCategory:function(){return!!this.option.categories},resetItemSize:function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},setSelected:b.noop,getValueState:b.noop})}),b("echarts/component/visualMap/ContinuousModel",["require","./VisualMapModel","zrender/core/util","../../util/number"],function(a){var b=a("./VisualMapModel"),c=a("zrender/core/util"),d=a("../../util/number"),e=[20,140];return b.extend({type:"visualMap.continuous",defaultOption:{handlePosition:"auto",calculable:!1,range:[-1/0,1/0],hoverLink:!0,realtime:!0,itemWidth:null,itemHeight:null},doMergeOption:function(a,b){this.$superApply("doMergeOption",arguments),this.resetTargetSeries(a,b),this.resetExtent(),this.resetVisual(function(a){a.mappingMethod="linear"}),this._resetRange()},resetItemSize:function(){b.prototype.resetItemSize.apply(this,arguments);var a=this.itemSize;"horizontal"===this._orient&&a.reverse(),(null==a[0]||isNaN(a[0]))&&(a[0]=e[0]),(null==a[1]||isNaN(a[1]))&&(a[1]=e[1])},_resetRange:function(){var a=this.getExtent(),b=this.option.range;b[0]>b[1]&&b.reverse(),b[0]=Math.max(b[0],a[0]),b[1]=Math.min(b[1],a[1])},completeVisualOption:function(){b.prototype.completeVisualOption.apply(this,arguments),c.each(this.stateList,function(a){var b=this.option.controller[a].symbolSize;b&&b[0]!==b[1]&&(b[0]=0)},this)},setSelected:function(a){this.option.range=a.slice(),this._resetRange()},getSelected:function(){var a=this.getExtent(),b=d.asc((this.get("range")||[]).slice());return b[0]>a[1]&&(b[0]=a[1]),b[1]>a[1]&&(b[1]=a[1]),b[0]<a[0]&&(b[0]=a[0]),b[1]<a[0]&&(b[1]=a[0]),b},getValueState:function(a){var b=this.option.range,c=this.getExtent();return(b[0]<=c[0]||b[0]<=a)&&(b[1]>=c[1]||a<=b[1])?"inRange":"outOfRange"}})}),b("echarts/component/visualMap/VisualMapView",["require","../../echarts","zrender/core/util","../../util/graphic","../../util/format","../../util/layout","../../visual/VisualMapping"],function(a){var b=a("../../echarts"),c=a("zrender/core/util"),d=a("../../util/graphic"),e=a("../../util/format"),f=a("../../util/layout"),g=a("../../visual/VisualMapping");return b.extendComponentView({type:"visualMap",autoPositionValues:{left:1,right:1,top:1,bottom:1},init:function(a,b){this.ecModel=a,this.api=b,this.visualMapModel,this._updatableShapes={}},render:function(a){return this.visualMapModel=a,a.get("show")===!1?(this.group.removeAll(),void 0):(this.doRender.apply(this,arguments),void 0)},renderBackground:function(a){var b=this.visualMapModel,c=e.normalizeCssArray(b.get("padding")||0),f=a.getBoundingRect();a.add(new d.Rect({z2:-1,silent:!0,shape:{x:f.x-c[3],y:f.y-c[0],width:f.width+c[3]+c[1],height:f.height+c[0]+c[2]},style:{fill:b.get("backgroundColor"),stroke:b.get("borderColor"),lineWidth:b.get("borderWidth")}}))},getControllerVisual:function(a,b,d){function k(a){return j[a]}function l(a,b){j[a]=b}var h,i,j,m,e=this.visualMapModel,f=c.isArray(a);if(f&&(!b||"color"!==d))throw new Error(a);return h=e.controllerVisuals[b||e.getValueState(a)],i=e.get("contentColor"),j={symbol:e.get("itemSymbol"),color:f?[{color:i,offset:0},{color:i,offset:1}]:i},m=g.prepareVisualTypes(h),c.each(m,function(b){var c=h[b];(!d||g.isInVisualCluster(b,d))&&c&&c.applyVisual(a,k,l)}),j},positionGroup:function(a){var b=this.visualMapModel,c=this.api;f.positionGroup(a,b.getBoxLayoutParams(),{width:c.getWidth(),height:c.getHeight()})},doRender:c.noop})}),b("echarts/component/visualMap/helper",["require","../../util/layout"],function(a){var b=a("../../util/layout"),c={getItemAlign:function(a,c,d){var g,h,i,j,k,l,m,n,o,e=a.option,f=e.align;if(null!=f&&"auto"!==f)return f;
for(g={width:c.getWidth(),height:c.getHeight()},h="horizontal"===e.orient?1:0,i=[["left","right","width"],["top","bottom","height"]],j=i[h],k=[0,null,10],l={},m=0;3>m;m++)l[i[1-h][m]]=k[m],l[j[m]]=2===m?d[0]:e[j[m]];return n=[["x","width",3],["y","height",0]][h],o=b.getLayoutRect(l,g,e.padding),j[(o.margin[n[2]]||0)+o[n[0]]+.5*o[n[1]]<.5*g[n[1]]?0:1]}};return c}),b("echarts/component/visualMap/ContinuousView",["require","./VisualMapView","../../util/graphic","zrender/core/util","../../util/number","../helper/sliderMove","zrender/graphic/LinearGradient","./helper"],function(a){function l(a,b,d){return new c.Polygon({shape:{points:a},draggable:!!b,cursor:d,drift:b})}function m(a,b){return 0===a?[[0,0],[b,0],[b,-b]]:[[0,0],[b,0],[b,b]]}var b=a("./VisualMapView"),c=a("../../util/graphic"),d=a("zrender/core/util"),e=a("../../util/number"),f=a("../helper/sliderMove"),g=e.linearMap,h=a("zrender/graphic/LinearGradient"),i=a("./helper"),j=d.each,k=b.extend({type:"visualMap.continuous",init:function(){b.prototype.init.apply(this,arguments),this._shapes={},this._dataInterval=[],this._handleEnds=[],this._orient,this._useHandle},doRender:function(a,b,c,d){d&&"selectDataRange"===d.type&&d.from===this.uid?this._updateView():this._buildView()},_buildView:function(){var a,b,c;this.group.removeAll(),a=this.visualMapModel,b=this.group,this._orient=a.get("orient"),this._useHandle=a.get("calculable"),this._resetInterval(),this._renderBar(b),c=a.get("text"),this._renderEndsText(b,c,0),this._renderEndsText(b,c,1),this._updateView(!0),this.renderBackground(b),this._updateView(),this.positionGroup(b)},_renderEndsText:function(a,b,d){var e,f,g,h,i,j,k,l,m;b&&(e=b[1-d],e=null!=e?e+"":"",f=this.visualMapModel,g=f.get("textGap"),h=f.itemSize,i=this._shapes.barGroup,j=this._applyTransform([h[0]/2,0===d?-g:h[1]+g],i),k=this._applyTransform(0===d?"bottom":"top",i),l=this._orient,m=this.visualMapModel.textStyleModel,this.group.add(new c.Text({style:{x:j[0],y:j[1],textBaseline:"horizontal"===l?"middle":k,textAlign:"horizontal"===l?k:"center",text:e,textFont:m.getFont(),fill:m.getTextColor()}})))},_renderBar:function(a){var k,m,b=this.visualMapModel,c=this._shapes,e=b.itemSize,f=this._orient,g=this._useHandle,h=i.getItemAlign(b,this.api,e),j=c.barGroup=this._createBarGroup(h);j.add(c.outOfRange=l()),j.add(c.inRange=l(null,d.bind(this._modifyHandle,this,"all"),g?"move":null)),k=b.textStyleModel.getTextRect("国"),m=Math.max(k.width,k.height),g&&(c.handleGroups=[],c.handleThumbs=[],c.handleLabels=[],c.handleLabelPoints=[],this._createHandle(j,0,e,m,f,h),this._createHandle(j,1,e,m,f,h)),a.add(j)},_createHandle:function(a,b,e,f,g){var j,k,n,o,h=new c.Group({position:[e[0],0]}),i=l(m(b,f),d.bind(this._modifyHandle,this,b),"move");h.add(i),j={x:"horizontal"===g?f/2:1.5*f,y:"horizontal"===g?0===b?-(1.5*f):1.5*f:0===b?-f/2:f/2},k=this.visualMapModel.textStyleModel,n=new c.Text({silent:!0,style:{x:0,y:0,text:"",textBaseline:"middle",textFont:k.getFont(),fill:k.getTextColor()}}),this.group.add(n),o=this._shapes,o.handleThumbs[b]=i,o.handleGroups[b]=h,o.handleLabelPoints[b]=j,o.handleLabels[b]=n,a.add(h)},_modifyHandle:function(a,b,c){if(this._useHandle){var d=this._applyTransform([b,c],this._shapes.barGroup,!0);this._updateInterval(a,d[1]),this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()})}},_resetInterval:function(){var a=this.visualMapModel,b=this._dataInterval=a.getSelected();this._handleEnds=g(b,a.getExtent(),[0,a.itemSize[1]],!0)},_updateInterval:function(a,b){var c,d;b=b||0,c=this.visualMapModel,d=this._handleEnds,f(b,d,[0,c.itemSize[1]],"all"===a?"rigid":"push",a),this._dataInterval=g(d,[0,c.itemSize[1]],c.getExtent(),!0)},_updateView:function(a){var b=this.visualMapModel,c=b.getExtent(),d=this._shapes,e=this._dataInterval,f=[0,b.itemSize[1]],g=a?f:this._handleEnds,h=this._createBarVisual(e,c,g,"inRange"),i=this._createBarVisual(c,c,f,"outOfRange");d.inRange.setStyle("fill",h.barColor).setShape("points",h.barPoints),d.outOfRange.setStyle("fill",i.barColor).setShape("points",i.barPoints),this._useHandle&&j([0,1],function(a){d.handleThumbs[a].setStyle("fill",h.handlesColor[a]),d.handleLabels[a].setStyle({text:b.formatValueText(e[a]),textAlign:this._applyTransform("horizontal"===this._orient?0===a?"bottom":"top":"left",d.barGroup)})},this),this._updateHandlePosition(g)},_createBarVisual:function(a,b,c,d){var e=this.getControllerVisual(a,d,"color").color,f=[this.getControllerVisual(a[0],d,"symbolSize").symbolSize,this.getControllerVisual(a[1],d,"symbolSize").symbolSize],g=this._createBarPoints(c,f);return{barColor:new h(0,0,1,1,e),barPoints:g,handlesColor:[e[0].color,e[e.length-1].color]}},_createBarPoints:function(a,b){var c=this.visualMapModel.itemSize;return[[c[0]-b[0],a[0]],[c[0],a[0]],[c[0],a[1]],[c[0]-b[1],a[1]]]},_createBarGroup:function(a){var b=this._orient,d=this.visualMapModel.get("inverse");return new c.Group("horizontal"!==b||d?"horizontal"===b&&d?{scale:"bottom"===a?[-1,1]:[1,1],rotation:-Math.PI/2}:"vertical"!==b||d?{scale:"left"===a?[1,1]:[-1,1]}:{scale:"left"===a?[1,-1]:[-1,-1]}:{scale:"bottom"===a?[1,1]:[-1,1],rotation:Math.PI/2})},_updateHandlePosition:function(a){if(this._useHandle){var b=this._shapes;j([0,1],function(d){var f,g,e=b.handleGroups[d];e.position[1]=a[d],f=b.handleLabelPoints[d],g=c.applyTransform([f.x,f.y],c.getTransform(e,this.group)),b.handleLabels[d].setStyle({x:g[0],y:g[1]})},this)}},_applyTransform:function(a,b,e){var f=c.getTransform(b,this.group);return c[d.isArray(a)?"applyTransform":"transformDirection"](a,f,e)}});return k}),b("echarts/component/visualMap/visualMapAction",["require","../../echarts"],function(a){var b=a("../../echarts"),c={type:"selectDataRange",event:"dataRangeSelected",update:"update"};b.registerAction(c,function(a,b){b.eachComponent({mainType:"visualMap",query:a},function(b){b.setSelected(a.selected)})})}),b("echarts/component/visualMapContinuous",["require","../echarts","./visualMap/preprocessor","./visualMap/typeDefaulter","./visualMap/visualCoding","./visualMap/ContinuousModel","./visualMap/ContinuousView","./visualMap/visualMapAction"],function(a){a("../echarts").registerPreprocessor(a("./visualMap/preprocessor")),a("./visualMap/typeDefaulter"),a("./visualMap/visualCoding"),a("./visualMap/ContinuousModel"),a("./visualMap/ContinuousView"),a("./visualMap/visualMapAction")}),b("echarts/component/visualMap/PiecewiseModel",["require","./VisualMapModel","zrender/core/util","../../visual/VisualMapping"],function(a){function g(a,b){var c=a.inverse;("vertical"===a.orient?!c:c)&&b.reverse()}var b=a("./VisualMapModel"),c=a("zrender/core/util"),d=a("../../visual/VisualMapping"),e=b.extend({type:"visualMap.piecewise",defaultOption:{selected:null,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieceList:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10},doMergeOption:function(a,b){var d,e;this.$superApply("doMergeOption",arguments),this._pieceList=[],this.resetTargetSeries(a,b),this.resetExtent(),d=this._mode=this._decideMode(),f[this._mode].call(this),this._resetSelected(a,b),e=this.option.categories,this.resetVisual(function(a,b){"categories"===d?(a.mappingMethod="category",a.categories=c.clone(e)):(a.mappingMethod="piecewise",a.pieceList=c.map(this._pieceList,function(a){var a=c.clone(a);return"inRange"!==b&&(a.visual=null),a}))})},_resetSelected:function(a,b){var g,d=this.option,e=this._pieceList,f=(b?d:a).selected||{};d.selected=f,c.each(e,function(a){var c=this.getSelectedMapKey(a);c in f||(f[c]=!0)},this),"single"===d.selectedMode&&(g=!1,c.each(e,function(a){var c=this.getSelectedMapKey(a);f[c]&&(g?f[c]=!1:g=!0)},this))},getSelectedMapKey:function(a){return"categories"===this._mode?a.value+"":a.index+""},getPieceList:function(){return this._pieceList},_decideMode:function(){var a=this.option;return a.pieces&&a.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},setSelected:function(a){this.option.selected=c.clone(a)},getValueState:function(a){var b=this._pieceList,c=d.findPieceIndex(a,b);return null!=c?this.option.selected[this.getSelectedMapKey(b[c])]?"inRange":"outOfRange":"outOfRange"}}),f={splitNumber:function(){var e,f,g,h,a=this.option,b=a.precision,c=this.getExtent(),d=a.splitNumber;for(d=Math.max(parseInt(d,10),1),a.splitNumber=d,e=(c[1]-c[0])/d;+e.toFixed(b)!==e&&5>b;)b++;for(a.precision=b,e=+e.toFixed(b),f=0,g=c[0];d>f;f++,g+=e)h=f===d-1?c[1]:g+e,this._pieceList.push({text:this.formatValueText([g,h]),index:f,interval:[g,h]})},categories:function(){var a=this.option;c.each(a.categories,function(a){this._pieceList.push({text:this.formatValueText(a,!0),value:a})},this),g(a,this._pieceList)},pieces:function(){var a=this.option;c.each(a.pieces,function(a,b){var e,f,g,h;c.isObject(a)||(a={value:a}),e={text:"",index:b},null!=a.label&&(e.text=a.label,f=!0),a.hasOwnProperty("value")?(e.value=a.value,f||(e.text=this.formatValueText(e.value))):(g=a.min,h=a.max,null==g&&(g=-1/0),null==h&&(h=1/0),g===h&&(e.value=g),e.interval=[g,h],f||(e.text=this.formatValueText([g,h]))),e.visual=d.retrieveVisuals(a),this._pieceList.push(e)},this),g(a,this._pieceList)}};return e}),b("echarts/component/visualMap/PiecewiseView",["require","./VisualMapView","zrender/core/util","../../util/graphic","../../util/symbol","../../util/layout","./helper"],function(a){var b=a("./VisualMapView"),c=a("zrender/core/util"),d=a("../../util/graphic"),e=a("../../util/symbol"),f=a("../../util/layout"),g=a("./helper"),h=b.extend({type:"visualMap.piecewise",doRender:function(){function o(b){var f=new d.Group;f.onclick=c.bind(this._onItemClick,this,b.piece),this._createItemSymbol(f,b.piece,[0,0,k[0],k[1]]),m&&f.add(new d.Text({style:{x:"right"===j?-e:k[0]+e,y:k[1]/2,text:b.piece.text,textBaseline:"middle",textAlign:j,textFont:h,fill:i}})),a.add(f)}var b,e,g,h,i,j,k,l,m,n,a=this.group;a.removeAll(),b=this.visualMapModel,e=b.get("textGap"),g=b.textStyleModel,h=g.getFont(),i=g.getTextColor(),j=this._getItemAlign(),k=b.itemSize,l=this._getViewData(),m=!l.endsText,n=!m,n&&this._renderEndsText(a,l.endsText[0],k),c.each(l.pieceList,o,this),n&&this._renderEndsText(a,l.endsText[1],k),f.box(b.get("orient"),a,b.get("itemGap")),this.renderBackground(a),this.positionGroup(a)},_getItemAlign:function(){var c,a=this.visualMapModel,b=a.option;return"vertical"===b.orient?g.getItemAlign(a,this.api,a.itemSize):(c=b.align,c&&"auto"!==c||(c="left"),c)},_renderEndsText:function(a,b,c){var e,f;b&&(e=new d.Group,f=this.visualMapModel.textStyleModel,e.add(new d.Text({style:{x:c[0]/2,y:c[1]/2,textBaseline:"middle",textAlign:"center",text:b,textFont:f.getFont(),fill:f.getTextColor()}})),a.add(e))},_getViewData:function(){var a=this.visualMapModel,b=c.map(a.getPieceList(),function(a,b){return{piece:a,index:b}}),d=a.get("text"),e=a.get("orient"),f=a.get("inverse");return("horizontal"===e?f:!f)?b.reverse():d&&(d=d.slice().reverse()),{pieceList:b,endsText:d}},_createItemSymbol:function(a,b,c){var d,f,g;this.visualMapModel.isCategory()?d=b.value:null!=b.value?d=b.value:(f=b.interval||[],d=(f[0]+f[1])/2),g=this.getControllerVisual(d),a.add(e.createSymbol(g.symbol,c[0],c[1],c[2],c[3],g.color))},_onItemClick:function(a){var b=this.visualMapModel,d=b.option,e=c.clone(d.selected),f=b.getSelectedMapKey(a);"single"===d.selectedMode?(e[f]=!0,c.each(e,function(a,b){e[b]=b===f})):e[f]=!e[f],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:e})}});return h}),b("echarts/component/visualMapPiecewise",["require","../echarts","./visualMap/preprocessor","./visualMap/typeDefaulter","./visualMap/visualCoding","./visualMap/PiecewiseModel","./visualMap/PiecewiseView","./visualMap/visualMapAction"],function(a){a("../echarts").registerPreprocessor(a("./visualMap/preprocessor")),a("./visualMap/typeDefaulter"),a("./visualMap/visualCoding"),a("./visualMap/PiecewiseModel"),a("./visualMap/PiecewiseView"),a("./visualMap/visualMapAction")}),b("echarts/component/visualMap",["require","./visualMapContinuous","./visualMapPiecewise"],function(a){a("./visualMapContinuous"),a("./visualMapPiecewise")}),b("echarts/component/marker/MarkPointModel",["require","../../model/globalDefault","../../util/model","../../echarts"],function(a){var d,b=a("../../model/globalDefault"),c=a("../../util/model");return b.markPoint={},d=a("../../echarts").extendComponentModel({type:"markPoint",dependencies:["series","grid","polar"],init:function(a,b,c,d,e){this.mergeDefaultAndTheme(a,c),this.mergeOption(a,e,!0)},mergeOption:function(a,b,e){if(!b){var f=this.ecModel;f.eachSeries(function(a){var h,b=a.get("markPoint"),g=a.markPointModel;return b&&b.data?(g?g.mergeOption(b,!0):(e&&c.defaultEmphasis(b.label,["position","show","textStyle","distance","formatter"]),h={seriesIndex:a.seriesIndex,name:a.name},g=new d(b,this,f,h,!0)),a.markPointModel=g,void 0):(a.markPointModel=null,void 0)},this)}},defaultOption:{zlevel:0,z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{normal:{show:!0,position:"inside"},emphasis:{show:!0}},itemStyle:{normal:{borderWidth:2},emphasis:{}}}})}),b("echarts/component/marker/markerHelper",["require","zrender/core/util","../../util/number"],function(a){function d(a,b,d){var e=-1;do e=Math.max(c.getPrecision(a.get(b,d)),e),a=a.stackedOn;while(a);return e}function e(a,b,c,e,f){var j,g=[],h="average"===a?b.getSum(e,!0)/b.count():b.getDataExtent(e)["max"===a?1:0],i=b.indexOfNearest(e,h);return g[1-f]=b.get(c,i),g[f]=b.get(e,i,!0),j=d(b,e,i),j>=0&&(g[f]=+g[f].toFixed(j)),g}var b=a("zrender/core/util"),c=a("../../util/number"),f=b.curry,g={min:f(e,"min"),max:f(e,"max"),average:f(e,"average")},h=function(a,c,d){var e,f,h,i,j;return(isNaN(d.x)||isNaN(d.y))&&!b.isArray(d.coord)&&c&&(null!=d.valueIndex?(e=c.dimensions[d.valueIndex],f=c.dimensions[1-d.valueIndex],h=c.getAxis(e),i=c.getAxis(f)):(i=c.getBaseAxis(),h=c.getOtherAxis(i),f=i.dim,e=h.dim),j=null!=d.valueIndex?d.valueIndex:"angle"===e||"x"===e?0:1,d=b.extend({},d),d.type&&g[d.type]&&i&&h?(d.coord=g[d.type](a,i.dim,e,j),d.value=d.coord[j]):d.coord=[null!=d.xAxis?d.xAxis:d.radiusAxis,null!=d.yAxis?d.yAxis:d.angleAxis]),d},i=function(a,b){return a&&b.coord&&(null==b.x||null==b.y)?a.containData(b.coord):!0},j=function(a,b,c,d){return 2>d?a.coord&&a.coord[d]:(a.value,void 0)};return{dataTransform:h,dataFilter:i,dimValueGetter:j}}),b("echarts/component/marker/MarkPointView",["require","../../chart/helper/SymbolDraw","zrender/core/util","../../util/format","../../util/model","../../util/number","../../data/List","./markerHelper","../../echarts"],function(a){function l(a,b,d){var e=b.dimensions,f=new i(c.map(e,b.getDimensionInfo,b),d);return a&&f.initData(c.filter(c.map(d.get("data"),c.curry(j.dataTransform,b,a)),c.curry(j.dataFilter,a)),null,j.dimValueGetter),f}var b=a("../../chart/helper/SymbolDraw"),c=a("zrender/core/util"),d=a("../../util/format"),e=a("../../util/model"),f=a("../../util/number"),g=d.addCommas,h=d.encodeHTML,i=a("../../data/List"),j=a("./markerHelper"),k={getRawDataArray:function(){return this.option.data},formatTooltip:function(a){var b=this.getData(),d=this.getRawValue(a),e=c.isArray(d)?c.map(d,g).join(", "):g(d),f=b.getName(a);return this.name+"<br />"+((f?h(f)+" : ":"")+e)},getData:function(){return this._data},setData:function(a){this._data=a}};c.defaults(k,e.dataFormatMixin),a("../../echarts").extendComponentView({type:"markPoint",init:function(){this._symbolDrawMap={}},render:function(a,b,c){var e,d=this._symbolDrawMap;for(e in d)d[e].__keep=!1;b.eachSeries(function(a){var b=a.markPointModel;b&&this._renderSeriesMP(a,b,c)},this);for(e in d)d[e].__keep||(d[e].remove(),this.group.remove(d[e].group))},_renderSeriesMP:function(a,d,e){var n,o,g=a.coordinateSystem,h=a.name,i=a.getData(),j=this._symbolDrawMap,m=j[h];m||(m=j[h]=new b),n=l(g,i,d),o=g&&g.dimensions,c.mixin(d,k),d.setData(n),n.each(function(a){var c,k,l,m,b=n.getItemModel(a),h=b.getShallow("x"),j=b.getShallow("y");null!=h&&null!=j?c=[f.parsePercent(h,e.getWidth()),f.parsePercent(j,e.getHeight())]:g&&(k=n.get(o[0],a),l=n.get(o[1],a),c=g.dataToPoint([k,l])),n.setItemLayout(a,c),m=b.getShallow("symbolSize"),"function"==typeof m&&(m=m(d.getRawValue(a),d.getDataParams(a))),n.setItemVisual(a,{symbolSize:m,color:b.get("itemStyle.normal.color")||i.getVisual("color"),symbol:b.getShallow("symbol")})}),m.updateData(n),this.group.add(m.group),n.eachItemGraphicEl(function(a){a.traverse(function(a){a.hostModel=d})}),m.__keep=!0}})}),b("echarts/component/markPoint",["require","./marker/MarkPointModel","./marker/MarkPointView"],function(a){a("./marker/MarkPointModel"),a("./marker/MarkPointView")}),b("echarts/component/marker/MarkLineModel",["require","../../model/globalDefault","../../util/model","../../echarts"],function(a){var d,b=a("../../model/globalDefault"),c=a("../../util/model");return b.markLine={},d=a("../../echarts").extendComponentModel({type:"markLine",dependencies:["series","grid","polar"],init:function(a,b,c,d,e){this.mergeDefaultAndTheme(a,c),this.mergeOption(a,e,!0)},mergeOption:function(a,b,e){if(!b){var f=this.ecModel;f.eachSeries(function(a){var h,b=a.get("markLine"),g=a.markLineModel;return b&&b.data?(g?g.mergeOption(b,!0):(e&&c.defaultEmphasis(b.label,["position","show","textStyle","distance","formatter"]),h={seriesIndex:a.seriesIndex,name:a.name},g=new d(b,this,f,h,!0)),a.markLineModel=g,void 0):(a.markLineModel=null,void 0)},this)}},defaultOption:{zlevel:0,z:5,symbol:["circle","arrow"],symbolSize:[8,16],precision:2,tooltip:{trigger:"item"},label:{normal:{show:!0,position:"end"},emphasis:{show:!0}},lineStyle:{normal:{type:"dashed"},emphasis:{width:3}},animationEasing:"linear"}})}),b("echarts/component/marker/MarkLineView",["require","zrender/core/util","../../data/List","../../util/format","../../util/model","../../util/number","./markerHelper","../../chart/helper/LineDraw","../../echarts"],function(a){function l(a,b){return i.dataFilter(a,b[0])&&i.dataFilter(a,b[1])}function n(a,d,e){var m,n,o,p,f=a.dimensions,g=new c(f,e),h=new c(f,e),j=new c([],e);return a&&(m=a.getBaseAxis(),n=a.getOtherAxis(m),o=e.get("precision"),p=b.filter(b.map(e.get("data"),b.curry(k,d,a,m,n,o)),b.curry(l,a)),g.initData(b.map(p,function(a){return a[0]}),null,i.dimValueGetter),h.initData(b.map(p,function(a){return a[1]}),null,i.dimValueGetter),j.initData(b.map(p,function(a){return a[2]}))),{from:g,to:h,line:j}}var b=a("zrender/core/util"),c=a("../../data/List"),d=a("../../util/format"),e=a("../../util/model"),f=a("../../util/number"),g=d.addCommas,h=d.encodeHTML,i=a("./markerHelper"),j=a("../../chart/helper/LineDraw"),k=function(a,c,d,e,f,g){var j,k,l,m,n,o,h=g.type;return(!b.isArray(g)&&"min"===h||"max"===h||"average"===h)&&(null!=g.valueIndex&&(d=c.getAxis(c.dimensions[1-g.valueIndex]),e=c.getAxis(c.dimensions[g.valueIndex])),j=d.dim+"Axis",k=e.dim+"Axis",l=d.scale.getExtent(),m=b.extend({},g),n={},m.type=null,m[j]=l[0],n[j]=l[1],o="average"===h?a.getSum(e.dim,!0)/a.count():a.getDataExtent(e.dim)["max"===h?1:0],o=e.coordToData(e.dataToCoord(o)),m[k]=n[k]=o,g=[m,n,{type:h,value:+o.toFixed(f)}]),g=[i.dataTransform(a,c,g[0]),i.dataTransform(a,c,g[1]),b.extend({},g[2])],b.merge(g[2],g[0]),b.merge(g[2],g[1]),g},m={formatTooltip:function(a){var c=this._data,d=this.getRawValue(a),e=b.isArray(d)?b.map(d,g).join(", "):g(d),f=c.getName(a);return this.name+"<br />"+((f?h(f)+" : ":"")+e)},getRawDataArray:function(){return this.option.data},getData:function(){return this._data},setData:function(a){this._data=a}};b.defaults(m,e.dataFormatMixin),a("../../echarts").extendComponentView({type:"markLine",init:function(){this._markLineMap={}},render:function(a,b,c){var e,d=this._markLineMap;for(e in d)d[e].__keep=!1;b.eachSeries(function(a){var d=a.markLineModel;d&&this._renderSeriesML(a,d,b,c)},this);for(e in d)d[e].__keep||this.group.remove(d[e].group)},_renderSeriesML:function(a,c,d,e){function v(a,b,c){var h,l,m,d=a.getItemModel(b),j=d.get("x"),k=d.get("y");null!=j&&null!=k?h=[f.parsePercent(j,e.getWidth()),f.parsePercent(k,e.getHeight())]:(l=a.get(p[0],b),m=a.get(p[1],b),h=g.dataToPoint([l,m])),a.setItemLayout(b,h),a.setItemVisual(b,{symbolSize:d.get("symbolSize")||u[c?0:1],symbol:d.get("symbol",!0)||t[c?0:1],color:d.get("itemStyle.normal.color")||i.getVisual("color")})}var o,p,q,r,s,t,u,g=a.coordinateSystem,h=a.name,i=a.getData(),k=this._markLineMap,l=k[h];l||(l=k[h]=new j),this.group.add(l.group),o=n(g,i,c),p=g.dimensions,q=o.from,r=o.to,s=o.line,b.extend(c,m),c.setData(s),t=c.get("symbol"),u=c.get("symbolSize"),b.isArray(t)||(t=[t,t]),"number"==typeof u&&(u=[u,u]),o.from.each(function(a){v(q,a,!0),v(r,a)}),s.each(function(a){var b=s.getItemModel(a).get("lineStyle.normal.color");s.setItemVisual(a,{color:b||q.getItemVisual(a,"color")}),s.setItemLayout(a,[q.getItemLayout(a),r.getItemLayout(a)])}),l.updateData(s,q,r),o.line.eachItemGraphicEl(function(a){a.traverse(function(a){a.hostModel=c})}),l.__keep=!0}})}),b("echarts/component/markLine",["require","./marker/MarkLineModel","./marker/MarkLineView"],function(a){a("./marker/MarkLineModel"),a("./marker/MarkLineView")}),b("echarts/component/timeline/preprocessor",["require","zrender/core/util"],function(a){function c(a){var g,c=a.type,f={number:"value",time:"time"};f[c]&&(a.axisType=f[c],delete a.type),d(a),e(a,"controlPosition")&&(g=a.controlStyle||(a.controlStyle={}),e(g,"position")||(g.position=a.controlPosition),"none"!==g.position||e(g,"show")||(g.show=!1,delete g.position),delete a.controlPosition),b.each(a.data||[],function(a){b.isObject(a)&&!b.isArray(a)&&(!e(a,"value")&&e(a,"name")&&(a.value=a.name),d(a))})}function d(a){var g,h,i,c=a.itemStyle||(a.itemStyle={}),d=c.emphasis||(c.emphasis={});c.normal||(c.normal={}),g=a.label||a.label||{},h=g.normal||(g.normal={}),i={normal:1,emphasis:1},b.each(g,function(a,b){i[b]||e(h,b)||(h[b]=a)}),d.label&&!e(g,"emphasis")&&(g.emphasis=d.label,delete d.label)}function e(a,b){return a.hasOwnProperty(b)}var b=a("zrender/core/util");return function(a){var d=a&&a.timeline;b.isArray(d)||(d=d?[d]:[]),b.each(d,function(a){a&&c(a)})}}),b("echarts/component/timeline/typeDefaulter",["require","../../model/Component"],function(a){a("../../model/Component").registerSubTypeDefaulter("timeline",function(){return"slider"})}),b("echarts/component/timeline/timelineAction",["require","../../echarts"],function(a){var b=a("../../echarts");b.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(a,b){var c=b.getComponent("timeline");c&&null!=a.currentIndex&&(c.setCurrentIndex(a.currentIndex),!c.get("loop",!0)&&c.isIndexMax()&&c.setPlayState(!1)),b.resetOption("timeline")}),b.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(a,b){var c=b.getComponent("timeline");c&&null!=a.playState&&c.setPlayState(a.playState)})}),b("echarts/component/timeline/TimelineModel",["require","../../model/Component","../../data/List","zrender/core/util","../../util/model"],function(a){var b=a("../../model/Component"),c=a("../../data/List"),d=a("zrender/core/util"),e=a("../../util/model"),f=b.extend({type:"timeline",layoutMode:"box",defaultOption:{zlevel:0,z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{normal:{},emphasis:{}},label:{normal:{textStyle:{color:"#000"}},emphasis:{}},data:[]},init:function(a,b,c){this._data,this._names,this.mergeDefaultAndTheme(a,c),this._initData()},mergeOption:function(){this.$superApply("mergeOption",arguments),this._initData()},setCurrentIndex:function(a){null==a&&(a=this.option.currentIndex);var b=this._data.count();this.option.loop?a=(a%b+b)%b:(a>=b&&(a=b-1),0>a&&(a=0)),this.option.currentIndex=a},getCurrentIndex:function(){return this.option.currentIndex},isIndexMax:function(){return this.getCurrentIndex()>=this._data.count()-1},setPlayState:function(a){this.option.autoPlay=!!a},getPlayState:function(){return!!this.option.autoPlay},_initData:function(){var h,i,j,a=this.option,b=a.data||[],f=a.axisType,g=this._names=[];"category"===f&&(h=[],d.each(b,function(a,b){var f,c=e.getDataItemValue(a);d.isObject(a)?(f=d.clone(a),f.value=b):f=b,h.push(f),d.isString(c)||null!=c&&!isNaN(c)||(c=""),g.push(c+"")}),b=h),i={category:"ordinal",time:"time"}[f]||"number",j=this._data=new c([{name:"value",type:i}],this),j.initData(b,g)},getData:function(){return this._data},getCategories:function(){return"category"===this.get("axisType")?this._names.slice():void 0}});return f}),b("echarts/component/timeline/SliderTimelineModel",["require","./TimelineModel"],function(a){var b=a("./TimelineModel");return b.extend({type:"timeline.slider",defaultOption:{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:!1,symbol:"emptyCircle",symbolSize:10,lineStyle:{show:!0,width:2,color:"#304654"},label:{position:"auto",normal:{show:!0,interval:"auto",rotate:0,textStyle:{color:"#304654"}},emphasis:{show:!0,textStyle:{color:"#c23531"}}},itemStyle:{normal:{color:"#304654",borderWidth:1},emphasis:{color:"#c23531"}},checkpointStyle:{symbol:"circle",symbolSize:13,color:"#c23531",borderWidth:5,borderColor:"rgba(194,53,49, 0.5)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:22,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"path://M18.6,50.8l22.5-22.5c0.2-0.2,0.3-0.4,0.3-0.7c0-0.3-0.1-0.5-0.3-0.7L18.7,4.4c-0.1-0.1-0.2-0.3-0.2-0.5 c0-0.4,0.3-0.8,0.8-0.8c0.2,0,0.5,0.1,0.6,0.3l23.5,23.5l0,0c0.2,0.2,0.3,0.4,0.3,0.7c0,0.3-0.1,0.5-0.3,0.7l-0.1,0.1L19.7,52 c-0.1,0.1-0.3,0.2-0.5,0.2c-0.4,0-0.8-0.3-0.8-0.8C18.4,51.2,18.5,51,18.6,50.8z",prevIcon:"path://M43,52.8L20.4,30.3c-0.2-0.2-0.3-0.4-0.3-0.7c0-0.3,0.1-0.5,0.3-0.7L42.9,6.4c0.1-0.1,0.2-0.3,0.2-0.5 c0-0.4-0.3-0.8-0.8-0.8c-0.2,0-0.5,0.1-0.6,0.3L18.3,28.8l0,0c-0.2,0.2-0.3,0.4-0.3,0.7c0,0.3,0.1,0.5,0.3,0.7l0.1,0.1L41.9,54 c0.1,0.1,0.3,0.2,0.5,0.2c0.4,0,0.8-0.3,0.8-0.8C43.2,53.2,43.1,53,43,52.8z",normal:{color:"#304654",borderColor:"#304654",borderWidth:1},emphasis:{color:"#c23531",borderColor:"#c23531",borderWidth:2}},data:[]}})}),b("echarts/component/timeline/TimelineView",["require","../../view/Component"],function(a){var b=a("../../view/Component");return b.extend({type:"timeline"})}),b("echarts/component/timeline/TimelineAxis",["require","zrender/core/util","../../coord/Axis","../../coord/axisHelper"],function(a){var b=a("zrender/core/util"),c=a("../../coord/Axis"),d=a("../../coord/axisHelper"),e=function(a,b,d,e){c.call(this,a,b,d),this.type=e||"value",this._autoLabelInterval,this.model=null};return e.prototype={constructor:e,getLabelInterval:function(){var a=this.model,c=a.getModel("label.normal"),e=c.get("interval");return null!=e&&"auto"!=e?e:(e=this._autoLabelInterval,e||(e=this._autoLabelInterval=d.getAxisLabelInterval(b.map(this.scale.getTicks(),this.dataToCoord,this),d.getFormattedLabels(this,c.get("formatter")),c.getModel("textStyle").getFont(),"horizontal"===a.get("orient"))),e)},isLabelIgnored:function(a){if("category"===this.type){var b=this.getLabelInterval();return"function"==typeof b&&!b(a,this.scale.getLabel(a))||a%(b+1)}}},b.inherits(e,c),e}),b("echarts/component/timeline/SliderTimelineView",["require","zrender/core/util","../../util/graphic","../../util/layout","./TimelineView","./TimelineAxis","../../util/symbol","../../coord/axisHelper","zrender/core/BoundingRect","zrender/core/matrix","../../util/number","../../util/model","../../util/format"],function(a){function r(a,b){return d.getLayoutRect(a.getBoxLayoutParams(),{width:b.getWidth(),height:b.getHeight()},a.get("padding"))}function s(a,d,e,f){var g=c.makePath(a.get(d).replace(/^path:\/\//,""),b.clone(f||{}),new i(e[0],e[1],e[2],e[3]),"center");return g}function t(a,c,d,e,f,h){var i=a.get("symbol"),j=c.get("color"),k=a.get("symbolSize"),l=k/2,m=c.getItemStyle(["color","symbol","symbolSize"]);return f?(f.setStyle(m),f.setColor(j),d.add(f),h&&h.onUpdate(f)):(f=g.createSymbol(i,-l,-l,k,k,j),d.add(f),h&&h.onCreate(f)),e=b.merge({rectHover:!0,style:m,z2:100},e,!0),f.attr(e),f}function u(a,b,c,d,e){var f,g;a.dragging||(f=d.getModel("checkpointStyle"),g=c.dataToCoord(d.getData().get(["value"],b)),e||!f.get("animation",!0)?a.attr({position:[g,0]}):(a.stopAnimation(!0),a.animateTo({position:[g,0]},f.get("animationDuration",!0),f.get("animationEasing",!0))))}var b=a("zrender/core/util"),c=a("../../util/graphic"),d=a("../../util/layout"),e=a("./TimelineView"),f=a("./TimelineAxis"),g=a("../../util/symbol"),h=a("../../coord/axisHelper"),i=a("zrender/core/BoundingRect"),j=a("zrender/core/matrix"),k=a("../../util/number"),l=a("../../util/model"),m=a("../../util/format"),n=m.encodeHTML,o=b.bind,p=b.each,q=Math.PI;return e.extend({type:"timeline.slider",init:function(a,b){this.api=b,this._axis,this._viewRect,this._timer,this._currentPointer,this._mainGroup,this._labelGroup},render:function(a,b,c){var e,f,g,h;this.model=a,this.api=c,this.ecModel=b,this.group.removeAll(),e=this._layout(a,c),f=this._createGroup("mainGroup"),g=this._createGroup("labelGroup"),h=this._axis=this._createAxis(e,a),p(["AxisLine","AxisTick","Control","CurrentPointer"],function(b){this["_render"+b](e,f,h,a)},this),this._renderAxisLabel(e,g,h,a),this._position(e,a),this._doPlayStop()},remove:function(){this._clearTimer(),this.group.removeAll()},dispose:function(){this._clearTimer()},_layout:function(a,b){var f,g,h,i,j,k,l,m,n,o,p,s,t,u,v,w,x,y,z,A,c=a.get("label.normal.position"),d=a.get("orient"),e=r(a,b);return null==c||"auto"===c?c="horizontal"===d?e.y+e.height/2<b.getHeight()/2?"-":"+":e.x+e.width/2<b.getWidth()/2?"+":"-":isNaN(c)&&(c={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[d][c]),f={horizontal:"center",vertical:c>=0||"+"===c?"left":"right"},g={horizontal:c>=0||"+"===c?"top":"bottom",vertical:"middle"},h={horizontal:0,vertical:q/2},i="vertical"===d?e.height:e.width,j=a.getModel("controlStyle"),k=j.get("show"),l=k?j.get("itemSize"):0,m=k?j.get("itemGap"):0,n=l+m,o=a.get("label.normal.rotate")||0,o=o*q/180,v=j.get("position",!0),k=j.get("show",!0),w=k&&j.get("showPlayBtn",!0),x=k&&j.get("showPrevBtn",!0),y=k&&j.get("showNextBtn",!0),z=0,A=i,"left"===v||"bottom"===v?(w&&(p=[0,0],z+=n),x&&(s=[z,0],z+=n),y&&(t=[A-l,0],A-=n)):(w&&(p=[A-l,0],A-=n),x&&(s=[0,0],z+=n),y&&(t=[A-l,0],A-=n)),u=[z,A],a.get("inverse")&&u.reverse(),{viewRect:e,mainLength:i,orient:d,rotation:h[d],labelRotation:o,labelPosOpt:c,labelAlign:f[d],labelBaseline:g[d],playPosition:p,prevBtnPosition:s,nextBtnPosition:t,axisExtent:u,controlSize:l,controlGap:m}},_position:function(a){function r(a){var b=a.position;a.origin=[i[0][0]-b[0],i[1][0]-b[1]]}function s(a){return[[a.x,a.x+a.width],[a.y,a.y+a.height]]}function t(a,b,c,d,e){a[d]+=c[d][e]-b[d][e]}var f,g,h,i,k,l,m,n,o,p,c=this._mainGroup,d=this._labelGroup,e=a.viewRect;"vertical"===a.orient&&(f=j.create(),g=e.x,h=e.y+e.height,j.translate(f,f,[-g,-h]),j.rotate(f,f,-q/2),j.translate(f,f,[g,h]),e=e.clone(),e.applyTransform(f)),i=s(e),k=s(c.getBoundingRect()),l=s(d.getBoundingRect()),m=c.position,n=d.position,n[0]=m[0]=i[0][0],o=a.labelPosOpt,isNaN(o)?(p="+"===o?0:1,t(m,k,i,1,p),t(n,l,i,1,1-p)):(p=o>=0?0:1,t(m,k,i,1,p),n[1]=m[1]+o),c.position=m,d.position=n,c.rotation=d.rotation=a.rotation,r(c),r(d)
},_createAxis:function(a,b){var i,c=b.getData(),d=b.get("axisType"),e=h.createScaleByModel(b,d),g=c.getDataExtent("value");return e.setExtent(g[0],g[1]),this._customizeScale(e,c),e.niceTicks(),i=new f("value",e,a.axisExtent,d),i.model=b,i},_customizeScale:function(a,c){a.getTicks=function(){return c.mapArray(["value"],function(a){return a})},a.getTicksLabels=function(){return b.map(this.getTicks(),a.getLabel,a)}},_createGroup:function(a){var b=this["_"+a]=new c.Group;return this.group.add(b),b},_renderAxisLine:function(a,d,e,f){var g=e.getExtent();f.get("lineStyle.show")&&d.add(new c.Line({shape:{x1:g[0],y1:0,x2:g[1],y2:0},style:b.extend({lineCap:"round"},f.getModel("lineStyle").getLineStyle()),silent:!0,z2:1}))},_renderAxisTick:function(a,b,d,e){var f=e.getData(),g=d.scale.getTicks(),h=this._prepareTooltipHostModel(f,e);p(g,function(a,e){var g=d.dataToCoord(a),i=f.getItemModel(e),j=i.getModel("itemStyle.normal"),k=i.getModel("itemStyle.emphasis"),l={position:[g,0],onclick:o(this._changeTimeline,this,e)},m=t(i,j,b,l);c.setHoverStyle(m,k.getItemStyle()),i.get("tooltip")?(m.dataIndex=e,m.hostModel=h):m.dataIndex=m.hostModel=null},this)},_prepareTooltipHostModel:function(a,b){var c=l.createDataFormatModel({},a,b.get("data")),d=this;return c.formatTooltip=function(a){return n(d._axis.scale.getLabel(a))},c},_renderAxisLabel:function(a,b,d,e){var g,i,j,k,f=e.getModel("label.normal");f.get("show")&&(g=e.getData(),i=d.scale.getTicks(),j=h.getFormattedLabels(d,f.get("formatter")),k=d.getLabelInterval(),p(i,function(e,f){var h,i,l,m,n;d.isLabelIgnored(f,k)||(h=g.getItemModel(f),i=h.getModel("label.normal.textStyle"),l=h.getModel("label.emphasis.textStyle"),m=d.dataToCoord(e),n=new c.Text({style:{text:j[f],textAlign:a.labelAlign,textBaseline:a.labelBaseline,textFont:i.getFont(),fill:i.getTextColor()},position:[m,0],rotation:a.labelRotation-a.rotation,onclick:o(this._changeTimeline,this,f),silent:!1}),b.add(n),c.setHoverStyle(n,l.getItemStyle()))},this))},_renderControl:function(a,b,d,e){function m(a,d,k,l){var m,n;a&&(m={position:a,origin:[f/2,0],rotation:l?-g:0,rectHover:!0,style:h,onclick:k},n=s(e,d,j,m),b.add(n),c.setHoverStyle(n,i))}var f=a.controlSize,g=a.rotation,h=e.getModel("controlStyle.normal").getItemStyle(),i=e.getModel("controlStyle.emphasis").getItemStyle(),j=[0,-f/2,f,f],k=e.getPlayState(),l=e.get("inverse",!0);m(a.nextBtnPosition,"controlStyle.nextIcon",o(this._changeTimeline,this,l?"-":"+")),m(a.prevBtnPosition,"controlStyle.prevIcon",o(this._changeTimeline,this,l?"+":"-")),m(a.playPosition,"controlStyle."+(k?"stopIcon":"playIcon"),o(this._handlePlayClick,this,!k),!0)},_renderCurrentPointer:function(a,b,c,d){var e=d.getData(),f=d.getCurrentIndex(),g=e.getItemModel(f).getModel("checkpointStyle"),h=this,i={onCreate:function(a){a.draggable=!0,a.drift=o(h._handlePointerDrag,h),a.ondragend=o(h._handlePointerDragend,h),u(a,f,c,d,!0)},onUpdate:function(a){u(a,f,c,d)}};this._currentPointer=t(g,g,this._mainGroup,{},this._currentPointer,i)},_handlePlayClick:function(a){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:a,from:this.uid})},_handlePointerDrag:function(a,b,c){this._clearTimer(),this._pointerChangeTimeline([c.offsetX,c.offsetY])},_handlePointerDragend:function(a){this._pointerChangeTimeline([a.offsetX,a.offsetY],!0)},_pointerChangeTimeline:function(a,b){var f,g,c=this._toAxisCoord(a)[0],d=this._axis,e=k.asc(d.getExtent().slice());c>e[1]&&(c=e[1]),c<e[0]&&(c=e[0]),this._currentPointer.position[0]=c,this._currentPointer.dirty(),f=this._findNearestTick(c),g=this.model,(b||f!==g.getCurrentIndex()&&g.get("realtime"))&&this._changeTimeline(f)},_doPlayStop:function(){function a(){var a=this.model;this._changeTimeline(a.getCurrentIndex()+(a.get("rewind",!0)?-1:1))}this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(o(a,this),this.model.get("playInterval")))},_toAxisCoord:function(a){var b=this._mainGroup.getLocalTransform();return c.applyTransform(a,b,!0)},_findNearestTick:function(a){var d,b=this.model.getData(),c=1/0,e=this._axis;return b.each(["value"],function(b,f){var g=e.dataToCoord(b),h=Math.abs(g-a);c>h&&(c=h,d=f)}),d},_clearTimer:function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},_changeTimeline:function(a){var b=this.model.getCurrentIndex();"+"===a?a=b+1:"-"===a&&(a=b-1),this.api.dispatchAction({type:"timelineChange",currentIndex:a,from:this.uid})}})}),b("echarts/component/timeline",["require","../echarts","./timeline/preprocessor","./timeline/typeDefaulter","./timeline/timelineAction","./timeline/SliderTimelineModel","./timeline/SliderTimelineView"],function(a){var b=a("../echarts");b.registerPreprocessor(a("./timeline/preprocessor")),a("./timeline/typeDefaulter"),a("./timeline/timelineAction"),a("./timeline/SliderTimelineModel"),a("./timeline/SliderTimelineView")}),b("echarts/component/toolbox/featureManager",["require"],function(){var b={};return{register:function(a,c){b[a]=c},get:function(a){return b[a]}}}),b("echarts/component/toolbox/ToolboxModel",["require","./featureManager","zrender/core/util","../../echarts"],function(a){var b=a("./featureManager"),c=a("zrender/core/util");a("../../echarts").extendComponentModel({type:"toolbox",mergeDefaultAndTheme:function(){this.$superApply("mergeDefaultAndTheme",arguments),c.each(this.option.feature,function(a,d){var e=b.get(d);e&&c.merge(a,e.defaultOption)})},defaultOption:{show:!0,z:6,zlevel:0,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{normal:{borderColor:"#666",color:"none"},emphasis:{borderColor:"#3E98C5"}}}})}),b("echarts/component/toolbox/ToolboxView",["require","./featureManager","zrender/core/util","../../util/graphic","../../model/Model","../../data/DataDiffer","../helper/listComponent","zrender/contain/text","../../echarts"],function(a){var b=a("./featureManager"),c=a("zrender/core/util"),d=a("../../util/graphic"),e=a("../../model/Model"),f=a("../../data/DataDiffer"),g=a("../helper/listComponent"),h=a("zrender/contain/text");return a("../../echarts").extendComponentView({type:"toolbox",render:function(a,i,j){function p(c,d){var l,p,f=o[c],g=o[d],h=m[f],k=new e(h,a,a.ecModel);if(f&&!g){if(p=b.get(f),!p)return;n[f]=l=new p(k)}else{if(l=n[g],!l)return;l.model=k}return!f&&g?(l.dispose&&l.dispose(i,j),void 0):k.get("show")?(q(k,l,f),k.setIconStatus=function(a,b){var c=this.option,d=this.iconPaths;c.iconStatus=c.iconStatus||{},c.iconStatus[a]=b,d[a]&&d[a].trigger(b)},l.render&&l.render(k,i,j),void 0):(l.remove&&l.remove(i,j),void 0)}function q(b,e,f){var n,o,p,g=b.getModel("iconStyle"),h=e.getIcons?e.getIcons():b.get("icon"),m=b.get("title")||{};"string"==typeof h&&(n=h,o=m,h={},m={},h[f]=n,m[f]=o),p=b.iconPaths={},c.each(h,function(f,h){var n=g.getModel("normal").getItemStyle(),o=g.getModel("emphasis").getItemStyle(),q=d.makePath(f,{style:n,hoverStyle:o,rectHover:!0},{x:-l/2,y:-l/2,width:l,height:l},"center");d.setHoverStyle(q),a.get("showTitle")&&(q.__title=m[h],q.on("mouseover",function(){q.setStyle({text:m[h],textPosition:o.textPosition||"bottom",textFill:o.fill||o.stroke||"#000",textAlign:o.textAlign||"center"})}).on("mouseout",function(){q.setStyle({textFill:null})})),q.trigger(b.get("iconStatus."+h)||"normal"),k.add(q),q.on("click",c.bind(e.onclick,e,i,j,h)),p[h]=q})}var l,m,n,o,k=this.group;k.removeAll(),a.get("show")&&(l=+a.get("itemSize"),m=a.get("feature")||{},n=this._features||(this._features={}),o=[],c.each(m,function(a,b){o.push(b)}),new f(this._featureNames||[],o).add(p).update(p).remove(c.curry(p,null)).execute(),this._featureNames=o,g.layout(k,a,j),g.addBackground(k,a),k.eachChild(function(a){var d,e,f,g,i,b=a.__title,c=a.hoverStyle;c&&b&&(d=h.getBoundingRect(b,c.font),e=a.position[0]+k.position[0],f=a.position[1]+k.position[1]+l,g=!1,f+d.height>j.getHeight()&&(c.textPosition="top",g=!0),i=g?-5-d.height:l+8,e+d.width/2>j.getWidth()?(c.textPosition=["100%",i],c.textAlign="right"):e-d.width/2<0&&(c.textPosition=[0,i],c.textAlign="left"))}))},remove:function(a,b){c.each(this._features,function(c){c.remove&&c.remove(a,b)}),this.group.removeAll()},dispose:function(a,b){c.each(this._features,function(c){c.dispose&&c.dispose(a,b)})}})}),b("echarts/component/toolbox/feature/SaveAsImage",["require","../featureManager"],function(a){function b(a){this.model=a}b.defaultOption={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6            M29.2,45.1L29.2,0",title:"保存为图片",type:"png",name:"",excludeComponents:["toolbox"],pixelRatio:1};var c=b.prototype;return c.onclick=function(a,b){var c=this.model,d=a.get("title.0.text")||"echarts",e=document.createElement("a"),f=c.get("type",!0)||"png";e.download=d+"."+f,e.target="_blank",e.href=b.getConnectedDataURL({type:f,backgroundColor:c.get("backgroundColor",!0)||a.get("backgroundColor")||"#fff",excludeComponents:c.get("excludeComponents"),pixelRatio:c.get("pixelRatio")}),e.click()},a("../featureManager").register("saveAsImage",b),b}),b("echarts/component/toolbox/feature/MagicType",["require","zrender/core/util","../../../echarts","../featureManager"],function(a){function c(a){this.model=a}var d,e,f,g,b=a("zrender/core/util");return c.defaultOption={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z",tiled:"M2.3,2.2h22.8V25H2.3V2.2z M35,2.2h22.8V25H35V2.2zM2.3,35h22.8v22.8H2.3V35z M35,35h22.8v22.8H35V35z"},title:{line:"切换为折线图",bar:"切换为柱状图",stack:"切换为堆叠",tiled:"切换为平铺"},option:{},seriesIndex:{}},d=c.prototype,d.getIcons=function(){var a=this.model,c=a.get("icon"),d={};return b.each(a.get("type"),function(a){c[a]&&(d[a]=c[a])}),d},e={line:function(a,c,d,e){return"bar"===a?b.merge({id:c,type:"line",data:d.get("data"),stack:d.get("stack")},e.get("option.line")):void 0},bar:function(a,c,d,e){return"line"===a?b.merge({id:c,type:"bar",data:d.get("data"),stack:d.get("stack")},e.get("option.bar")):void 0},stack:function(a,b){return"line"===a||"bar"===a?{id:b,stack:"__ec_magicType_stack__"}:void 0},tiled:function(a,b){return"line"===a||"bar"===a?{id:b,stack:""}:void 0}},f=[["line","bar"],["stack","tiled"]],d.onclick=function(a,c,d){var i,j,g=this.model,h=g.get("seriesIndex."+d);e[d]&&(i={series:[]},j=function(a){var c=a.subType,f=a.id,h=e[d](c,f,a,g);h&&(b.defaults(h,a.option),i.series.push(h))},b.each(f,function(a){b.indexOf(a,d)>=0&&b.each(a,function(a){g.setIconStatus(a,"normal")})}),g.setIconStatus(d,"emphasis"),a.eachComponent({mainType:"series",seriesIndex:h},j),c.dispatchAction({type:"changeMagicType",currentType:d,newOption:i}))},g=a("../../../echarts"),g.registerAction({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(a,b){b.mergeOption(a.newOption)}),a("../featureManager").register("magicType",c),c}),b("echarts/component/toolbox/feature/DataView",["require","zrender/core/util","zrender/core/event","../featureManager","../../../echarts"],function(a){function f(a){var b={},c=[],d=[];return a.eachRawSeries(function(a){var f,g,e=a.coordinateSystem;!e||"cartesian2d"!==e.type&&"polar"!==e.type?c.push(a):(f=e.getBaseAxis(),"category"===f.type?(g=f.dim+"_"+f.index,b[g]||(b[g]={categoryAxis:f,valueAxis:e.getOtherAxis(f),series:[]},d.push({axisDim:f.dim,axisIndex:f.index})),b[g].series.push(a)):c.push(a))}),{seriesGroupByCategoryAxis:b,other:c,meta:d}}function g(a){var c=[];return b.each(a,function(a){var k,l,m,n,f=a.categoryAxis,g=a.valueAxis,h=g.dim,i=[" "].concat(b.map(a.series,function(a){return a.name})),j=[f.model.getCategories()];for(b.each(a.series,function(a){j.push(a.getRawData().mapArray(h,function(a){return a}))}),k=[i.join(e)],l=0;l<j[0].length;l++){for(m=[],n=0;n<j.length;n++)m.push(j[n][l]);k.push(m.join(e))}c.push(k.join("\n"))}),c.join("\n\n"+d+"\n\n")}function h(a){return b.map(a,function(a){var b=a.getRawData(),c=[a.name],d=[];return b.each(b.dimensions,function(){var h,a=arguments.length,f=arguments[a-1],g=b.getName(f);for(h=0;a-1>h;h++)d[h]=arguments[h];c.push((g?g+e:"")+d.join(e))}),c.join("\n")}).join("\n\n"+d+"\n\n")}function i(a){var c=f(a);return{value:b.filter([g(c.seriesGroupByCategoryAxis),h(c.other)],function(a){return a.replace(/[\n\t\s]/g,"")}).join("\n\n"+d+"\n\n"),meta:c.meta}}function j(a){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function k(a){var b=a.slice(0,a.indexOf("\n"));return b.indexOf(e)>=0?!0:void 0}function m(a){var g,h,i,c=a.split(/\n+/g),d=j(c.shift()).split(l),e=[],f=b.map(d,function(a){return{name:a,data:[]}});for(g=0;g<c.length;g++)for(h=j(c[g]).split(l),e.push(h.shift()),i=0;i<h.length;i++)f[i]&&(f[i].data[g]=h[i]);return{series:f,categories:e}}function n(a){var e,f,g,h,i,k,b=a.split(/\n+/g),c=j(b.shift()),d=[];for(e=0;e<b.length;e++){for(f=j(b[e]).split(l),g="",i=!1,isNaN(f[0])?(i=!0,g=f[0],f=f.slice(1),d[e]={name:g,value:[]},h=d[e].value):h=d[e]=[],k=0;k<f.length;k++)h.push(+f[k]);1===h.length&&(i?d[e].value=h[0]:d[e]=h[0])}return{name:c,data:d}}function o(a,c){var e=a.split(new RegExp("\n*"+d+"\n*","g")),f={series:[]};return b.each(e,function(a,b){var d,e,g;k(a)?(d=m(a),e=c[b],g=e.axisDim+"Axis",e&&(f[g]=f[g]||[],f[g][e.axisIndex]={data:d.categories},f.series=f.series.concat(d.series))):(d=n(a),f.series.push(d))}),f}function p(a){this._dom=null,this.model=a}function q(a,c){return b.map(a,function(a,d){var e=c&&c[d];return b.isObject(e)&&!b.isArray(e)?(b.isObject(a)&&!b.isArray(a)&&(a=a.value),b.defaults({value:a},e)):a})}var b=a("zrender/core/util"),c=a("zrender/core/event"),d=new Array(60).join("-"),e="	",l=new RegExp("["+e+"]+","g");return p.defaultOption={show:!0,readOnly:!1,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:"数据视图",lang:["数据视图","关闭","刷新"],backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"},p.prototype.onclick=function(a,b){function t(){d.removeChild(g),s._dom=null}var g,h,j,k,l,m,n,p,q,r,s,d=b.getDom(),f=this.model;this._dom&&d.removeChild(this._dom),g=document.createElement("div"),g.style.cssText="position:absolute;left:5px;top:5px;bottom:5px;right:5px;",g.style.backgroundColor=f.get("backgroundColor")||"#fff",h=document.createElement("h4"),j=f.get("lang")||[],h.innerHTML=j[0]||f.get("title"),h.style.cssText="margin: 10px 20px;",h.style.color=f.get("textColor"),k=document.createElement("textarea"),k.style.cssText="display:block;width:100%;font-size:14px;line-height:1.6rem;font-family:Monaco,Consolas,Courier new,monospace",k.readOnly=f.get("readOnly"),k.style.color=f.get("textColor"),k.style.borderColor=f.get("textareaBorderColor"),k.style.backgroundColor=f.get("textareaColor"),l=i(a),k.value=l.value,m=l.meta,n=document.createElement("div"),n.style.cssText="position:absolute;bottom:0;left:0;right:0;",p="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",q=document.createElement("div"),r=document.createElement("div"),p+=";background-color:"+f.get("buttonColor"),p+=";color:"+f.get("buttonTextColor"),s=this,c.addEventListener(q,"click",t),c.addEventListener(r,"click",function(){var a;try{a=o(k.value,m)}catch(c){throw t(),new Error("Data view format error "+c)}b.dispatchAction({type:"changeDataView",newOption:a}),t()}),q.innerHTML=j[1],r.innerHTML=j[2],r.style.cssText=p,q.style.cssText=p,n.appendChild(r),n.appendChild(q),c.addEventListener(k,"keydown",function(a){var b,d,f;9===(a.keyCode||a.which)&&(b=this.value,d=this.selectionStart,f=this.selectionEnd,this.value=b.substring(0,d)+e+b.substring(f),this.selectionStart=this.selectionEnd=d+1,c.stop(a))}),g.appendChild(h),g.appendChild(k),g.appendChild(n),k.style.height=d.clientHeight-80+"px",d.appendChild(g),this._dom=g},p.prototype.remove=function(a,b){this._dom&&b.getDom().removeChild(this._dom)},p.prototype.dispose=function(a,b){this.remove(a,b)},a("../featureManager").register("dataView",p),a("../../../echarts").registerAction({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(a,c){var d=[];b.each(a.newOption.series,function(a){var f,e=c.getSeriesByName(a.name)[0];e?(f=e.get("data"),d.push({name:a.name,data:q(a.data,f)})):d.push(b.extend({type:"scatter"},a))}),c.mergeOption(b.defaults({series:d},a.newOption))}),p}),b("echarts/component/dataZoom/history",["require","zrender/core/util"],function(a){function f(a){var b=a[d];return b||(b=a[d]=[{}]),b}var b=a("zrender/core/util"),c=b.each,d="\0_ec_hist_store",e={push:function(a,b){var d=f(a);c(b,function(b,c){for(var f,g,h,e=d.length-1;e>=0&&(f=d[e],!f[c]);e--);0>e&&(g=a.queryComponents({mainType:"dataZoom",subType:"select",id:c})[0],g&&(h=g.getPercentRange(),d[0][c]={dataZoomId:c,start:h[0],end:h[1]}))}),d.push(b)},pop:function(a){var e,b=f(a),d=b[b.length-1];return b.length>1&&b.pop(),e={},c(d,function(a,c){var d;for(d=b.length-1;d>=0;d--)if(a=b[d][c]){e[c]=a;break}}),e},clear:function(a){a[d]=null},count:function(a){return f(a).length}};return e}),b("echarts/component/dataZoom/SelectZoomModel",["require","./DataZoomModel"],function(a){var b=a("./DataZoomModel");return b.extend({type:"dataZoom.select"})}),b("echarts/component/dataZoom/SelectZoomView",["require","./DataZoomView"],function(a){return a("./DataZoomView").extend({type:"dataZoom.select"})}),b("echarts/component/dataZoomSelect",["require","./dataZoom/typeDefaulter","./dataZoom/DataZoomModel","./dataZoom/DataZoomView","./dataZoom/SelectZoomModel","./dataZoom/SelectZoomView","./dataZoom/dataZoomProcessor","./dataZoom/dataZoomAction"],function(a){a("./dataZoom/typeDefaulter"),a("./dataZoom/DataZoomModel"),a("./dataZoom/DataZoomView"),a("./dataZoom/SelectZoomModel"),a("./dataZoom/SelectZoomView"),a("./dataZoom/dataZoomProcessor"),a("./dataZoom/dataZoomAction")}),b("echarts/component/toolbox/feature/DataZoom",["require","zrender/core/util","../../../util/number","../../helper/SelectController","zrender/core/BoundingRect","zrender/container/Group","../../dataZoom/history","../../helper/interactionMutex","../../dataZoomSelect","../featureManager","../../../echarts"],function(a){function l(a){this.model=a,this._controllerGroup,this._controller,this._isZoomActive}function o(a,b){var c=[{axisModel:a.getAxis("x").model,axisIndex:0},{axisModel:a.getAxis("y").model,axisIndex:0}];return c.grid=a,b.eachComponent({mainType:"dataZoom",subType:"select"},function(a){p("xAxis",c[0].axisModel,a,b)&&(c[0].dataZoomModel=a),p("yAxis",c[1].axisModel,a,b)&&(c[1].dataZoomModel=a)}),c}function p(a,b,c,d){var e=c.get(a+"Index");return null!=e&&d.getComponent(a,e)===b}function q(a,b){var f,g,h,c=b.grid,d=new e(a[0][0],a[1][0],a[0][1]-a[0][0],a[1][1]-a[1][0]);if(d.intersect(c.getRect()))return f=c.getCartesian(b[0].axisIndex,b[1].axisIndex),g=f.pointToData([a[0][0],a[1][0]],!0),h=f.pointToData([a[0][1],a[1][1]],!0),[j([g[0],h[0]]),j([g[1],h[1]])]}function r(a,b,c){var e=b[c],f=e.dataZoomModel;return f?{dataZoomId:f.id,startValue:a[c][0],endValue:a[c][1]}:void 0}function s(a,b){a.setIconStatus("back",g.count(b)>1?"emphasis":"normal")}var k,m,n,b=a("zrender/core/util"),c=a("../../../util/number"),d=a("../../helper/SelectController"),e=a("zrender/core/BoundingRect"),f=a("zrender/container/Group"),g=a("../../dataZoom/history"),h=a("../../helper/interactionMutex"),i=b.each,j=c.asc;return a("../../dataZoomSelect"),k="\0_ec_\0toolbox-dataZoom_",l.defaultOption={show:!0,icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:{zoom:"区域缩放",back:"区域缩放还原"}},m=l.prototype,m.render=function(a,b){s(a,b)},m.onclick=function(a,b,c){var d=this._controllerGroup;this._controllerGroup||(d=this._controllerGroup=new f,b.getZr().add(d)),n[c].call(this,d,this.model,a,b)},m.remove=function(a,b){this._disposeController(),h.release("globalPan",b.getZr())},m.dispose=function(a,b){var c=b.getZr();h.release("globalPan",c),this._disposeController(),this._controllerGroup&&c.remove(this._controllerGroup)},n={zoom:function(a,b,c,d){var e=this._isZoomActive=!this._isZoomActive,f=d.getZr();h[e?"take":"release"]("globalPan",f),b.setIconStatus("zoom",e?"emphasis":"normal"),e?(f.setDefaultCursorStyle("crosshair"),this._createController(a,b,c,d)):(f.setDefaultCursorStyle("default"),this._disposeController())},back:function(a,b,c,d){this._dispatchAction(g.pop(c),d)}},m._createController=function(a,c,e,f){var g=this._controller=new d("rect",f.getZr(),{lineWidth:3,stroke:"#333",fill:"rgba(0,0,0,0.2)"});g.on("selectEnd",b.bind(this._onSelected,this,g,c,e,f)),g.enable(a,!1)},m._disposeController=function(){var a=this._controller;a&&(a.off("selected"),a.dispose())},m._onSelected=function(a,b,c,d,e){var f,h;e.length&&(f=e[0],a.update(),h={},c.eachComponent("grid",function(a){var i,j,d=a.coordinateSystem,e=o(d,c),g=q(f,e);g&&(i=r(g,e,0,"x"),j=r(g,e,1,"y"),i&&(h[i.dataZoomId]=i),j&&(h[j.dataZoomId]=j))},this),g.push(c,h),this._dispatchAction(h,d))},m._dispatchAction=function(a,c){var d=[];i(a,function(a){d.push(a)}),d.length&&c.dispatchAction({type:"dataZoom",from:this.uid,batch:b.clone(d,!0)})},a("../featureManager").register("dataZoom",l),a("../../../echarts").registerPreprocessor(function(a){function f(a,d){var e,f;d&&(e=a+"Index",f=d[e],null==f||b.isArray(f)||(f=f===!1?[]:[f]),g(a,function(d,g){if(null==f||-1!==b.indexOf(f,g)){var h={type:"select",$fromToolbox:!0,id:k+a+g};h[e]=g,c.push(h)}}))}function g(c,d){var e=a[c];b.isArray(e)||(e=e?[e]:[]),i(e,d)}var c,d,e;a&&(c=a.dataZoom||(a.dataZoom=[]),b.isArray(c)||(c=[c]),d=a.toolbox,d&&(b.isArray(d)&&(d=d[0]),d&&d.feature&&(e=d.feature.dataZoom,f("xAxis",e),f("yAxis",e))))}),l}),b("echarts/component/toolbox/feature/Restore",["require","../../dataZoom/history","../featureManager","../../../echarts"],function(a){function c(a){this.model=a}var d,b=a("../../dataZoom/history");return c.defaultOption={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:"还原"},d=c.prototype,d.onclick=function(a,c){b.clear(a),c.dispatchAction({type:"restore",from:this.uid})},a("../featureManager").register("restore",c),a("../../../echarts").registerAction({type:"restore",event:"restore",update:"prepareAndUpdate"},function(a,b){b.resetOption("recreate")}),c}),b("echarts/component/toolbox",["require","./toolbox/ToolboxModel","./toolbox/ToolboxView","./toolbox/feature/SaveAsImage","./toolbox/feature/MagicType","./toolbox/feature/DataView","./toolbox/feature/DataZoom","./toolbox/feature/Restore"],function(a){a("./toolbox/ToolboxModel"),a("./toolbox/ToolboxView"),a("./toolbox/feature/SaveAsImage"),a("./toolbox/feature/MagicType"),a("./toolbox/feature/DataView"),a("./toolbox/feature/DataZoom"),a("./toolbox/feature/Restore")}),b("zrender/vml/core",["require","../core/env"],function(a){function h(){if(!f){f=!0;var a=e.styleSheets;a.length<31?e.createStyleSheet().addRule(".zrvml","behavior:url(#default#VML)"):a[0].addRule(".zrvml","behavior:url(#default#VML)")}}var b,c,d,e,f;if(!a("../core/env").canvasSupported){b="urn:schemas-microsoft-com:vml",d=window,e=d.document,f=!1;try{!e.namespaces.zrvml&&e.namespaces.add("zrvml",b),c=function(a){return e.createElement("<zrvml:"+a+' class="zrvml">')}}catch(g){c=function(a){return e.createElement("<"+a+' xmlns="'+b+'" class="zrvml">')}}return{doc:e,initVML:h,createNode:c}}}),b("zrender/vml/graphic",["require","../core/env","../core/vector","../core/BoundingRect","../core/PathProxy","../tool/color","../contain/text","../graphic/mixin/RectText","../graphic/Displayable","../graphic/Image","../graphic/Text","../graphic/Path","../graphic/Gradient","./core"],function(a){function A(a){a.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px;",a.coordsize=w+","+w,a.coordorigin="0,0"}function B(a){return String(a).replace(/&/g,"&amp;").replace(/"/g,"&quot;")}function C(a,b,c){return"rgb("+[a,b,c].join(",")+")"}function D(a,b){b&&a&&b.parentNode!==a&&a.appendChild(b)}function E(a,b){b&&a&&b.parentNode===a&&a.removeChild(b)}function F(a,b,c){return(parseFloat(a)||0)*y+(parseFloat(b)||0)*z+c}function G(a,b,c){var d=e.parse(b);c=+c,isNaN(c)&&(c=1),d&&(a.color=C(d[0],d[1],d[2]),a.opacity=c*d[3])}function H(a){var b=e.parse(a);return[C(b[0],b[1],b[2]),b[3]]}function I(a,b,c){var e,f,g,h,i,j,k,m,n,o,p,q,r,u,v,x,y,z,A,B,C,D,E,F,I,J,K,L,d=b.fill;if(null!=d)if(d instanceof l){for(f=0,g=[0,0],h=0,i=1,j=c.getBoundingRect(),k=j.width,m=j.height,"linear"===d.type?(e="gradient",n=c.transform,o=[d.x*k,d.y*m],p=[d.x2*k,d.y2*m],n&&(t(o,o,n),t(p,p,n)),q=p[0]-o[0],r=p[1]-o[1],f=180*Math.atan2(q,r)/Math.PI,0>f&&(f+=360),1e-6>f&&(f=0)):(e="gradientradial",o=[d.x*k,d.y*m],n=c.transform,u=c.scale,v=k,x=m,g=[(o[0]-j.x)/v,(o[1]-j.y)/x],n&&t(o,o,n),v/=u[0]*w,x/=u[1]*w,y=s(v,x),h=0/y,i=2*d.r/y-h),z=d.colorStops.slice(),z.sort(function(a,b){return a.offset-b.offset}),A=z.length,B=[],C=[],D=0;A>D;D++)E=z[D],F=H(E.color),C.push(E.offset*i+h+" "+F[0]),(0===D||D===A-1)&&B.push(F);A>=2&&(I=B[0][0],J=B[1][0],K=B[0][1]*b.opacity,L=B[1][1]*b.opacity,a.type=e,a.method="none",a.focus="100%",a.angle=f,a.color=I,a.color2=J,a.colors=C.join(","),a.opacity=L,a.opacity2=K),"radial"===e&&(a.focusposition=g.join(","))}else G(a,d,b.opacity)}function J(a,b){null!=b.lineJoin&&(a.joinstyle=b.lineJoin),null!=b.miterLimit&&(a.miterlimit=b.miterLimit*w),null!=b.lineCap&&(a.endcap=b.lineCap),null!=b.lineDash&&(a.dashstyle=b.lineDash.join(" ")),null==b.stroke||b.stroke instanceof l||G(a,b.stroke,b.opacity)}function K(a,b,c,d){var e="fill"==b,f=a.getElementsByTagName(b)[0];null!=c[b]&&"none"!==c[b]&&(e||!e&&c.lineWidth)?(a[e?"filled":"stroked"]="true",c[b]instanceof l&&E(a,f),f||(f=m.createNode(b)),e?I(f,c,d):J(f,c),D(a,f)):(a[e?"filled":"stroked"]="false",E(a,f))}function M(a,b){var j,k,l,m,p,s,v,y,z,A,B,C,D,E,F,G,H,I,J,K,M,N,O,P,Q,R,S,T,U,V,W,c=d.M,e=d.C,f=d.L,g=d.A,h=d.Q,i=[];for(m=0;m<a.length;){switch(l=a[m++],k="",j=0,l){case c:k=" m ",j=1,p=a[m++],s=a[m++],L[0][0]=p,L[0][1]=s;break;case f:k=" l ",j=1,p=a[m++],s=a[m++],L[0][0]=p,L[0][1]=s;break;case h:case e:k=" c ",j=3,v=a[m++],y=a[m++],z=a[m++],A=a[m++],l===h?(B=z,C=A,z=(z+2*v)/3,A=(A+2*y)/3,v=(p+2*v)/3,y=(s+2*y)/3):(B=a[m++],C=a[m++]),L[0][0]=v,L[0][1]=y,L[1][0]=z,L[1][1]=A,L[2][0]=B,L[2][1]=C,p=B,s=C;break;case g:D=0,E=0,F=1,G=1,H=0,b&&(D=b[4],E=b[5],F=o(b[0]*b[0]+b[1]*b[1]),G=o(b[2]*b[2]+b[3]*b[3]),H=Math.atan2(-b[1]/G,b[0]/F)),I=a[m++],J=a[m++],K=a[m++],M=a[m++],N=a[m++]+H,O=a[m++]+N+H,m++,P=a[m++],Q=I+q(N)*K,R=J+r(N)*M,v=I+q(O)*K,y=J+r(O)*M,S=P?" wa ":" at ",i.push(S,n(((I-K)*F+D)*w-x),u,n(((J-M)*G+E)*w-x),u,n(((I+K)*F+D)*w-x),u,n(((J+M)*G+E)*w-x),u,n((Q*F+D)*w-x),u,n((R*G+E)*w-x),u,n((v*F+D)*w-x),u,n((y*G+E)*w-x)),p=v,s=y;break;case d.R:T=L[0],U=L[1],T[0]=a[m++],T[1]=a[m++],U[0]=T[0]+a[m++],U[1]=T[1]+a[m++],b&&(t(T,T,b),t(U,U,b)),T[0]=n(T[0]*w-x),U[0]=n(U[0]*w-x),T[1]=n(T[1]*w-x),U[1]=n(U[1]*w-x),i.push(" m ",T[0],u,T[1]," l ",U[0],u,T[1]," l ",U[0],u,U[1]," l ",T[0],u,U[1]);break;case d.Z:i.push(" x ")}if(j>0)for(i.push(k),V=0;j>V;V++)W=L[V],b&&t(W,W,b),i.push(n(W[0]*w-x),u,n(W[1]*w-x),j-1>V?u:"")}return i.join("")}function N(a){return"object"==typeof a&&a.tagName&&"IMG"===a.tagName.toUpperCase()}function T(a){var c,d,b=P[a];if(!b){Q>R&&(Q=0,P={}),c=S.style;try{c.font=a,d=c.fontFamily.split(",")[0]}catch(e){}b={style:c.fontStyle||O,variant:c.fontVariant||O,weight:c.fontWeight||O,size:0|parseFloat(c.fontSize||12),family:d||"Microsoft YaHei"},P[a]=b,Q++}return b}function W(a,b,c,d){var h,i,j,k,l,o,p,q,r,s,v,w,x,y,z,C,E,G,e=this.style,g=e.text;if(g){switch(j=e.textAlign,k=T(e.textFont),l=k.style+" "+k.variant+" "+k.weight+" "+k.size+'px "'+k.family+'"',o=e.textBaseline,c=c||f.getBoundingRect(g,l,j,o),p=this.transform,p&&!d&&(V.copy(b),V.applyTransform(p),b=V),d?(h=b.x,i=b.y):(q=e.textPosition,r=e.textDistance,q instanceof Array?(h=b.x+q[0],i=b.y+q[1],j=j||"left",o=o||"top"):(s=f.adjustTextPositionOnRect(q,b,c,r),h=s.x,i=s.y,j=j||s.textAlign,o=o||s.textBaseline)),v=k.size,o){case"hanging":case"top":i+=v/1.75;break;case"middle":break;default:i-=v/2.25}switch(j){case"left":break;case"center":h-=c.width/2;break;case"right":h-=c.width}w=m.createNode,x=this._textVmlEl,x?(C=x.firstChild,y=C.nextSibling,z=y.nextSibling):(x=w("line"),y=w("path"),z=w("textpath"),C=w("skew"),z.style["v-text-align"]="left",A(x),y.textpathok=!0,z.on=!0,x.from="0 0",x.to="1000 0.05",D(x,C),D(x,y),D(x,z),this._textVmlEl=x),E=[h,i],G=x.style,p&&d?(t(E,E,p),C.on=!0,C.matrix=p[0].toFixed(3)+u+p[2].toFixed(3)+u+p[1].toFixed(3)+u+p[3].toFixed(3)+",0,0",C.offset=(n(E[0])||0)+","+(n(E[1])||0),C.origin="0 0",G.left="0px",G.top="0px"):(C.on=!1,G.left=n(h)+"px",G.top=n(i)+"px"),z.string=B(g);try{z.style.font=l}catch(H){}K(x,"fill",{fill:d?e.fill:e.textFill,opacity:e.opacity},this),K(x,"stroke",{stroke:d?e.stroke:e.textStroke,opacity:e.opacity,lineDash:e.lineDash},this),x.style.zIndex=F(this.zlevel,this.z,this.z2),D(a,x)}}function X(a){E(a,this._textVmlEl),this._textVmlEl=null}function Y(a){D(a,this._textVmlEl)}var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,L,O,P,Q,R,S,U,V,Z,$,_;if(!a("../core/env").canvasSupported){for(b=a("../core/vector"),c=a("../core/BoundingRect"),d=a("../core/PathProxy").CMD,e=a("../tool/color"),f=a("../contain/text"),g=a("../graphic/mixin/RectText"),h=a("../graphic/Displayable"),i=a("../graphic/Image"),j=a("../graphic/Text"),k=a("../graphic/Path"),l=a("../graphic/Gradient"),m=a("./core"),n=Math.round,o=Math.sqrt,p=Math.abs,q=Math.cos,r=Math.sin,s=Math.max,t=b.applyTransform,u=",",v="progid:DXImageTransform.Microsoft",w=21600,x=w/2,y=1e5,z=1e3,L=[[],[],[]],k.prototype.brush=function(a){var d,e,f,g,h,i,b=this.style,c=this._vmlEl;c||(c=m.createNode("shape"),A(c),this._vmlEl=c),K(c,"fill",b,this),K(c,"stroke",b,this),d=this.transform,e=null!=d,f=c.getElementsByTagName("stroke")[0],f&&(g=b.lineWidth,e&&!b.strokeNoScale&&(h=d[0]*d[3]-d[1]*d[2],g*=o(p(h))),f.weight=g+"px"),i=this.path,this.__dirtyPath&&(i.beginPath(),this.buildPath(i,this.shape),this.__dirtyPath=!1),c.path=M(i.data,this.transform),c.style.zIndex=F(this.zlevel,this.z,this.z2),D(a,c),b.text&&this.drawRectText(a,this.getBoundingRect())},k.prototype.onRemoveFromStorage=function(a){E(a,this._vmlEl),this.removeRectText(a)},k.prototype.onAddToStorage=function(a){D(a,this._vmlEl),this.appendRectText(a)},i.prototype.brush=function(a){var d,e,f,g,h,i,j,k,l,p,q,r,w,x,y,z,B,C,E,G,H,I,J,K,L,M,O,P,Q,R,S,T,U,V,W,X,b=this.style,c=b.image;N(c)?(f=c.src,f===this._imageSrc?(d=this._imageWidth,e=this._imageHeight):(g=c.runtimeStyle,h=g.width,i=g.height,g.width="auto",g.height="auto",d=c.width,e=c.height,g.width=h,g.height=i,this._imageSrc=f,this._imageWidth=d,this._imageHeight=e),c=f):c===this._imageSrc&&(d=this._imageWidth,e=this._imageHeight),c&&(j=b.x||0,k=b.y||0,l=b.width,p=b.height,q=b.sWidth,r=b.sHeight,w=b.sx||0,x=b.sy||0,y=q&&r,z=this._vmlEl,z||(z=m.doc.createElement("div"),A(z),this._vmlEl=z),B=z.style,C=!1,G=1,H=1,this.transform&&(E=this.transform,G=o(E[0]*E[0]+E[1]*E[1]),H=o(E[2]*E[2]+E[3]*E[3]),C=E[1]||E[2]),C?(I=[j,k],J=[j+l,k],K=[j,k+p],L=[j+l,k+p],t(I,I,E),t(J,J,E),t(K,K,E),t(L,L,E),M=s(I[0],J[0],K[0],L[0]),O=s(I[1],J[1],K[1],L[1]),P=[],P.push("M11=",E[0]/G,u,"M12=",E[2]/H,u,"M21=",E[1]/G,u,"M22=",E[3]/H,u,"Dx=",n(j*G+E[4]),u,"Dy=",n(k*H+E[5])),B.padding="0 "+n(M)+"px "+n(O)+"px 0",B.filter=v+".Matrix("+P.join("")+", SizingMethod=clip)"):(E&&(j=j*G+E[4],k=k*H+E[5]),B.filter="",B.left=n(j)+"px",B.top=n(k)+"px"),Q=this._imageEl,R=this._cropEl,Q||(Q=m.doc.createElement("div"),this._imageEl=Q),S=Q.style,y?(d&&e?(S.width=n(G*d*l/q)+"px",S.height=n(H*e*p/r)+"px"):(T=new Image,U=this,T.onload=function(){T.onload=null,d=T.width,e=T.height,S.width=n(G*d*l/q)+"px",S.height=n(H*e*p/r)+"px",U._imageWidth=d,U._imageHeight=e,U._imageSrc=c
},T.src=c),R||(R=m.doc.createElement("div"),R.style.overflow="hidden",this._cropEl=R),V=R.style,V.width=n((l+w*l/q)*G),V.height=n((p+x*p/r)*H),V.filter=v+".Matrix(Dx="+-w*l/q*G+",Dy="+-x*p/r*H+")",R.parentNode||z.appendChild(R),Q.parentNode!=R&&R.appendChild(Q)):(S.width=n(G*l)+"px",S.height=n(H*p)+"px",z.appendChild(Q),R&&R.parentNode&&(z.removeChild(R),this._cropEl=null)),W="",X=b.opacity,1>X&&(W+=".Alpha(opacity="+n(100*X)+") "),W+=v+".AlphaImageLoader(src="+c+", SizingMethod=scale)",S.filter=W,z.style.zIndex=F(this.zlevel,this.z,this.z2),D(a,z),b.text&&this.drawRectText(a,this.getBoundingRect()))},i.prototype.onRemoveFromStorage=function(a){E(a,this._vmlEl),this._vmlEl=null,this._cropEl=null,this._imageEl=null,this.removeRectText(a)},i.prototype.onAddToStorage=function(a){D(a,this._vmlEl),this.appendRectText(a)},O="normal",P={},Q=0,R=100,S=document.createElement("div"),f.measureText=function(a,b){var c=m.doc;U||(U=c.createElement("div"),U.style.cssText="position:absolute;top:-20000px;left:0;                padding:0;margin:0;border:none;white-space:pre;",m.doc.body.appendChild(U));try{U.style.font=b}catch(d){}return U.innerHTML="",U.appendChild(c.createTextNode(a)),{width:U.offsetWidth}},V=new c,Z=[g,h,i,k,j],$=0;$<Z.length;$++)_=Z[$].prototype,_.drawRectText=W,_.removeRectText=X,_.appendRectText=Y;j.prototype.brush=function(a){var b=this.style;b.text&&this.drawRectText(a,{x:b.x||0,y:b.y||0,width:0,height:0},this.getBoundingRect(),!0)},j.prototype.onRemoveFromStorage=function(a){this.removeRectText(a)},j.prototype.onAddToStorage=function(a){this.appendRectText(a)}}}),b("zrender/vml/Painter",["require","../core/log","./core"],function(a){function d(a){return parseInt(a,10)}function e(a,b){var d,e,f,g;c.initVML(),this.root=a,this.storage=b,d=document.createElement("div"),e=document.createElement("div"),d.style.cssText="display:inline-block;overflow:hidden;position:relative;width:300px;height:150px;",e.style.cssText="position:absolute;left:0;top:0;",a.appendChild(d),this._vmlRoot=e,this._vmlViewport=d,this.resize(),f=b.delFromMap,g=b.addToMap,b.delFromMap=function(a){var c=b.get(a);f.call(b,a),c&&c.onRemoveFromStorage&&c.onRemoveFromStorage(e)},b.addToMap=function(a){a.onAddToStorage&&a.onAddToStorage(e),g.call(b,a)},this._firstPaint=!0}function f(a){return function(){b('In IE8.0 VML mode painter not support method "'+a+'"')}}var g,h,i,b=a("../core/log"),c=a("./core");for(e.prototype={constructor:e,getViewportRoot:function(){return this._vmlViewport},refresh:function(){var a=this.storage.getDisplayList(!0);this._paintList(a)},_paintList:function(a){var c,d,b=this._vmlRoot;for(c=0;c<a.length;c++)d=a[c],d.__dirty&&!d.invisible&&(d.beforeBrush&&d.beforeBrush(),d.brush(b),d.afterBrush&&d.afterBrush()),d.__dirty=!1;this._firstPaint&&(this._vmlViewport.appendChild(b),this._firstPaint=!1)},resize:function(){var c,a=this._getWidth(),b=this._getHeight();this._width!=a&&this._height!=b&&(this._width=a,this._height=b,c=this._vmlViewport.style,c.width=a+"px",c.height=b+"px")},dispose:function(){this.root.innerHTML="",this._vmlRoot=this._vmlViewport=this.storage=null},getWidth:function(){return this._width},getHeight:function(){return this._height},_getWidth:function(){var a=this.root,b=a.currentStyle;return 0|(a.clientWidth||d(b.width))-d(b.paddingLeft)-d(b.paddingRight)},_getHeight:function(){var a=this.root,b=a.currentStyle;return 0|(a.clientHeight||d(b.height))-d(b.paddingTop)-d(b.paddingBottom)}},g=["getLayer","insertLayer","eachLayer","eachBuildinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],h=0;h<g.length;h++)i=g[h],e.prototype[i]=f(i);return e}),b("zrender/vml/vml",["require","./graphic","../zrender","./Painter"],function(a){a("./graphic"),a("../zrender").registerPainter("vml",a("./Painter"))}),c=a("echarts"),a("echarts/chart/line"),a("echarts/chart/bar"),a("echarts/component/grid"),a("echarts/chart/pie"),a("echarts/chart/scatter"),a("echarts/component/tooltip"),a("echarts/component/polar"),a("echarts/chart/radar"),a("echarts/component/legend"),a("echarts/chart/map"),a("echarts/chart/treemap"),a("echarts/chart/graph"),a("echarts/chart/gauge"),a("echarts/chart/funnel"),a("echarts/chart/parallel"),a("echarts/chart/sankey"),a("echarts/chart/boxplot"),a("echarts/chart/candlestick"),a("echarts/chart/effectScatter"),a("echarts/chart/lines"),a("echarts/chart/heatmap"),a("echarts/component/geo"),a("echarts/component/parallel"),a("echarts/component/title"),a("echarts/component/dataZoom"),a("echarts/component/visualMap"),a("echarts/component/markPoint"),a("echarts/component/markLine"),a("echarts/component/timeline"),a("echarts/component/toolbox"),a("zrender/vml/vml"),c});